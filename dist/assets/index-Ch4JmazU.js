(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();function em(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Nc={exports:{}},Fo={},Dc={exports:{}},ke={};var Hd;function Ly(){if(Hd)return ke;Hd=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,F={};function j(O,G,de){this.props=O,this.context=G,this.refs=F,this.updater=de||k}j.prototype.isReactComponent={},j.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Y(){}Y.prototype=j.prototype;function q(O,G,de){this.props=O,this.context=G,this.refs=F,this.updater=de||k}var Q=q.prototype=new Y;Q.constructor=q,L(Q,j.prototype),Q.isPureReactComponent=!0;var B=Array.isArray,X=Object.prototype.hasOwnProperty,J={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function I(O,G,de){var _e,Te={},Ce=null,Ie=null;if(G!=null)for(_e in G.ref!==void 0&&(Ie=G.ref),G.key!==void 0&&(Ce=""+G.key),G)X.call(G,_e)&&!C.hasOwnProperty(_e)&&(Te[_e]=G[_e]);var xe=arguments.length-2;if(xe===1)Te.children=de;else if(1<xe){for(var je=Array(xe),nt=0;nt<xe;nt++)je[nt]=arguments[nt+2];Te.children=je}if(O&&O.defaultProps)for(_e in xe=O.defaultProps,xe)Te[_e]===void 0&&(Te[_e]=xe[_e]);return{$$typeof:i,type:O,key:Ce,ref:Ie,props:Te,_owner:J.current}}function A(O,G){return{$$typeof:i,type:O.type,key:G,ref:O.ref,props:O.props,_owner:O._owner}}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function D(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return G[de]})}var V=/\/+/g;function R(O,G){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):G.toString(36)}function Pe(O,G,de,_e,Te){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var Ie=!1;if(O===null)Ie=!0;else switch(Ce){case"string":case"number":Ie=!0;break;case"object":switch(O.$$typeof){case i:case t:Ie=!0}}if(Ie)return Ie=O,Te=Te(Ie),O=_e===""?"."+R(Ie,0):_e,B(Te)?(de="",O!=null&&(de=O.replace(V,"$&/")+"/"),Pe(Te,G,de,"",function(nt){return nt})):Te!=null&&(x(Te)&&(Te=A(Te,de+(!Te.key||Ie&&Ie.key===Te.key?"":(""+Te.key).replace(V,"$&/")+"/")+O)),G.push(Te)),1;if(Ie=0,_e=_e===""?".":_e+":",B(O))for(var xe=0;xe<O.length;xe++){Ce=O[xe];var je=_e+R(Ce,xe);Ie+=Pe(Ce,G,de,je,Te)}else if(je=w(O),typeof je=="function")for(O=je.call(O),xe=0;!(Ce=O.next()).done;)Ce=Ce.value,je=_e+R(Ce,xe++),Ie+=Pe(Ce,G,de,je,Te);else if(Ce==="object")throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Ie}function K(O,G,de){if(O==null)return O;var _e=[],Te=0;return Pe(O,_e,"","",function(Ce){return G.call(de,Ce,Te++)}),_e}function ae(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var ye={current:null},ee={transition:null},ue={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:ee,ReactCurrentOwner:J};function oe(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:K,forEach:function(O,G,de){K(O,function(){G.apply(this,arguments)},de)},count:function(O){var G=0;return K(O,function(){G++}),G},toArray:function(O){return K(O,function(G){return G})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ke.Component=j,ke.Fragment=r,ke.Profiler=a,ke.PureComponent=q,ke.StrictMode=o,ke.Suspense=m,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,ke.act=oe,ke.cloneElement=function(O,G,de){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var _e=L({},O.props),Te=O.key,Ce=O.ref,Ie=O._owner;if(G!=null){if(G.ref!==void 0&&(Ce=G.ref,Ie=J.current),G.key!==void 0&&(Te=""+G.key),O.type&&O.type.defaultProps)var xe=O.type.defaultProps;for(je in G)X.call(G,je)&&!C.hasOwnProperty(je)&&(_e[je]=G[je]===void 0&&xe!==void 0?xe[je]:G[je])}var je=arguments.length-2;if(je===1)_e.children=de;else if(1<je){xe=Array(je);for(var nt=0;nt<je;nt++)xe[nt]=arguments[nt+2];_e.children=xe}return{$$typeof:i,type:O.type,key:Te,ref:Ce,props:_e,_owner:Ie}},ke.createContext=function(O){return O={$$typeof:p,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:c,_context:O},O.Consumer=O},ke.createElement=I,ke.createFactory=function(O){var G=I.bind(null,O);return G.type=O,G},ke.createRef=function(){return{current:null}},ke.forwardRef=function(O){return{$$typeof:v,render:O}},ke.isValidElement=x,ke.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ae}},ke.memo=function(O,G){return{$$typeof:y,type:O,compare:G===void 0?null:G}},ke.startTransition=function(O){var G=ee.transition;ee.transition={};try{O()}finally{ee.transition=G}},ke.unstable_act=oe,ke.useCallback=function(O,G){return ye.current.useCallback(O,G)},ke.useContext=function(O){return ye.current.useContext(O)},ke.useDebugValue=function(){},ke.useDeferredValue=function(O){return ye.current.useDeferredValue(O)},ke.useEffect=function(O,G){return ye.current.useEffect(O,G)},ke.useId=function(){return ye.current.useId()},ke.useImperativeHandle=function(O,G,de){return ye.current.useImperativeHandle(O,G,de)},ke.useInsertionEffect=function(O,G){return ye.current.useInsertionEffect(O,G)},ke.useLayoutEffect=function(O,G){return ye.current.useLayoutEffect(O,G)},ke.useMemo=function(O,G){return ye.current.useMemo(O,G)},ke.useReducer=function(O,G,de){return ye.current.useReducer(O,G,de)},ke.useRef=function(O){return ye.current.useRef(O)},ke.useState=function(O){return ye.current.useState(O)},ke.useSyncExternalStore=function(O,G,de){return ye.current.useSyncExternalStore(O,G,de)},ke.useTransition=function(){return ye.current.useTransition()},ke.version="18.3.1",ke}var Wd;function oh(){return Wd||(Wd=1,Dc.exports=Ly()),Dc.exports}var Qd;function Fy(){if(Qd)return Fo;Qd=1;var i=oh(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(v,m,y){var E,T={},w=null,k=null;y!==void 0&&(w=""+y),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(k=m.ref);for(E in m)o.call(m,E)&&!c.hasOwnProperty(E)&&(T[E]=m[E]);if(v&&v.defaultProps)for(E in m=v.defaultProps,m)T[E]===void 0&&(T[E]=m[E]);return{$$typeof:t,type:v,key:w,ref:k,props:T,_owner:a.current}}return Fo.Fragment=r,Fo.jsx=p,Fo.jsxs=p,Fo}var qd;function jy(){return qd||(qd=1,Nc.exports=Fy()),Nc.exports}var $=jy(),Be=oh();const Vt=em(Be);var Sa={},Vc={exports:{}},Gt={},Mc={exports:{}},Oc={};var Gd;function by(){return Gd||(Gd=1,(function(i){function t(ee,ue){var oe=ee.length;ee.push(ue);e:for(;0<oe;){var O=oe-1>>>1,G=ee[O];if(0<a(G,ue))ee[O]=ue,ee[oe]=G,oe=O;else break e}}function r(ee){return ee.length===0?null:ee[0]}function o(ee){if(ee.length===0)return null;var ue=ee[0],oe=ee.pop();if(oe!==ue){ee[0]=oe;e:for(var O=0,G=ee.length,de=G>>>1;O<de;){var _e=2*(O+1)-1,Te=ee[_e],Ce=_e+1,Ie=ee[Ce];if(0>a(Te,oe))Ce<G&&0>a(Ie,Te)?(ee[O]=Ie,ee[Ce]=oe,O=Ce):(ee[O]=Te,ee[_e]=oe,O=_e);else if(Ce<G&&0>a(Ie,oe))ee[O]=Ie,ee[Ce]=oe,O=Ce;else break e}}return ue}function a(ee,ue){var oe=ee.sortIndex-ue.sortIndex;return oe!==0?oe:ee.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,v=p.now();i.unstable_now=function(){return p.now()-v}}var m=[],y=[],E=1,T=null,w=3,k=!1,L=!1,F=!1,j=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(ee){for(var ue=r(y);ue!==null;){if(ue.callback===null)o(y);else if(ue.startTime<=ee)o(y),ue.sortIndex=ue.expirationTime,t(m,ue);else break;ue=r(y)}}function B(ee){if(F=!1,Q(ee),!L)if(r(m)!==null)L=!0,ae(X);else{var ue=r(y);ue!==null&&ye(B,ue.startTime-ee)}}function X(ee,ue){L=!1,F&&(F=!1,Y(I),I=-1),k=!0;var oe=w;try{for(Q(ue),T=r(m);T!==null&&(!(T.expirationTime>ue)||ee&&!D());){var O=T.callback;if(typeof O=="function"){T.callback=null,w=T.priorityLevel;var G=O(T.expirationTime<=ue);ue=i.unstable_now(),typeof G=="function"?T.callback=G:T===r(m)&&o(m),Q(ue)}else o(m);T=r(m)}if(T!==null)var de=!0;else{var _e=r(y);_e!==null&&ye(B,_e.startTime-ue),de=!1}return de}finally{T=null,w=oe,k=!1}}var J=!1,C=null,I=-1,A=5,x=-1;function D(){return!(i.unstable_now()-x<A)}function V(){if(C!==null){var ee=i.unstable_now();x=ee;var ue=!0;try{ue=C(!0,ee)}finally{ue?R():(J=!1,C=null)}}else J=!1}var R;if(typeof q=="function")R=function(){q(V)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,K=Pe.port2;Pe.port1.onmessage=V,R=function(){K.postMessage(null)}}else R=function(){j(V,0)};function ae(ee){C=ee,J||(J=!0,R())}function ye(ee,ue){I=j(function(){ee(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){L||k||(L=!0,ae(X))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(ee){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var oe=w;w=ue;try{return ee()}finally{w=oe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,ue){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var oe=w;w=ee;try{return ue()}finally{w=oe}},i.unstable_scheduleCallback=function(ee,ue,oe){var O=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?O+oe:O):oe=O,ee){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=oe+G,ee={id:E++,callback:ue,priorityLevel:ee,startTime:oe,expirationTime:G,sortIndex:-1},oe>O?(ee.sortIndex=oe,t(y,ee),r(m)===null&&ee===r(y)&&(F?(Y(I),I=-1):F=!0,ye(B,oe-O))):(ee.sortIndex=G,t(m,ee),L||k||(L=!0,ae(X))),ee},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(ee){var ue=w;return function(){var oe=w;w=ue;try{return ee.apply(this,arguments)}finally{w=oe}}}})(Oc)),Oc}var Kd;function Uy(){return Kd||(Kd=1,Mc.exports=by()),Mc.exports}var Xd;function By(){if(Xd)return Gt;Xd=1;var i=oh(),t=Uy();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,n){p(e,n),p(e+"Capture",n)}function p(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var v=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function w(e){return m.call(T,e)?!0:m.call(E,e)?!1:y.test(e)?T[e]=!0:(E[e]=!0,!1)}function k(e,n,s,u){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L(e,n,s,u){if(n===null||typeof n>"u"||k(e,n,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function F(e,n,s,u,h,d,_){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=_}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new F(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];j[n]=new F(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new F(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new F(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new F(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new F(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new F(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new F(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new F(e,5,!1,e.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Y,q);j[n]=new F(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Y,q);j[n]=new F(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Y,q);j[n]=new F(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new F(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new F(e,1,!1,e.toLowerCase(),null,!0,!0)});function Q(e,n,s,u){var h=j.hasOwnProperty(n)?j[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(L(n,s,h,u)&&(s=null),u||h===null?w(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):h.mustUseProperty?e[h.propertyName]=s===null?h.type===3?!1:"":s:(n=h.attributeName,u=h.attributeNamespace,s===null?e.removeAttribute(n):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,u?e.setAttributeNS(u,n,s):e.setAttribute(n,s))))}var B=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),J=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,O;function G(e){if(O===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||""}return`
`+O+e}var de=!1;function _e(e,n){if(!e||de)return"";de=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(H){var u=H}Reflect.construct(e,[],n)}else{try{n.call()}catch(H){u=H}e.call(n.prototype)}else{try{throw Error()}catch(H){u=H}e()}}catch(H){if(H&&u&&typeof H.stack=="string"){for(var h=H.stack.split(`
`),d=u.stack.split(`
`),_=h.length-1,P=d.length-1;1<=_&&0<=P&&h[_]!==d[P];)P--;for(;1<=_&&0<=P;_--,P--)if(h[_]!==d[P]){if(_!==1||P!==1)do if(_--,P--,0>P||h[_]!==d[P]){var N=`
`+h[_].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=_&&0<=P);break}}}finally{de=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?G(e):""}function Te(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=_e(e.type,!1),e;case 11:return e=_e(e.type.render,!1),e;case 1:return e=_e(e.type,!0),e;default:return""}}function Ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case J:return"Portal";case A:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case Pe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case V:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return n=e.displayName||null,n!==null?n:Ce(e.type)||"Memo";case ae:n=e._payload,e=e._init;try{return Ce(e(n))}catch{}}return null}function Ie(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(n);case 8:return n===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function xe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function je(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function nt(e){var n=je(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,d.call(this,_)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gn(e){e._valueTracker||(e._valueTracker=nt(e))}function Vi(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),u="";return e&&(u=je(e)?e.checked?"true":"false":e.value),e=u,e!==s?(n.setValue(e),!0):!1}function gr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gr(e,n){var s=n.checked;return oe({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Mi(e,n){var s=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;s=xe(n.value!=null?n.value:s),e._wrapperState={initialChecked:u,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function zs(e,n){n=n.checked,n!=null&&Q(e,"checked",n,!1)}function $s(e,n){zs(e,n);var s=xe(n.value),u=n.type;if(s!=null)u==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Oi(e,n.type,s):n.hasOwnProperty("defaultValue")&&Oi(e,n.type,xe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function al(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Oi(e,n,s){(n!=="number"||gr(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Kn=Array.isArray;function Xn(e,n,s,u){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&u&&(e[s].defaultSelected=!0)}else{for(s=""+xe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Hs(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return oe({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Li(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Kn(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:xe(s)}}function Fi(e,n){var s=xe(n.value),u=xe(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),u!=null&&(e.defaultValue=""+u)}function Ws(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function ut(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?ut(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yn,Qs=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,u,h){MSApp.execUnsafeLocalFunction(function(){return e(n,s,u,h)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Yn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function yr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xr=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(e){Xr.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Kr[n]=Kr[e]})});function qs(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Kr.hasOwnProperty(e)&&Kr[e]?(""+n).trim():n+"px"}function Gs(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var u=s.indexOf("--")===0,h=qs(s,n[s],u);s==="float"&&(s="cssFloat"),u?e.setProperty(s,h):e[s]=h}}var Ks=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xs(e,n){if(n){if(Ks[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Ys(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yr=null;function ji(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bi=null,sn=null,Mn=null;function Ui(e){if(e=To(e)){if(typeof bi!="function")throw Error(r(280));var n=e.stateNode;n&&(n=jl(n),bi(e.stateNode,e.type,n))}}function On(e){sn?Mn?Mn.push(e):Mn=[e]:sn=e}function Js(){if(sn){var e=sn,n=Mn;if(Mn=sn=null,Ui(e),n)for(e=0;e<n.length;e++)Ui(n[e])}}function Jr(e,n){return e(n)}function Zs(){}var Jn=!1;function eo(e,n,s){if(Jn)return e(n,s);Jn=!0;try{return Jr(e,n,s)}finally{Jn=!1,(sn!==null||Mn!==null)&&(Zs(),Js())}}function rt(e,n){var s=e.stateNode;if(s===null)return null;var u=jl(s);if(u===null)return null;s=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Bi=!1;if(v)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Bi=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Bi=!1}function Zr(e,n,s,u,h,d,_,P,N){var H=Array.prototype.slice.call(arguments,3);try{n.apply(s,H)}catch(ne){this.onError(ne)}}var ei=!1,zi=null,gn=!1,to=null,su={onError:function(e){ei=!0,zi=e}};function $i(e,n,s,u,h,d,_,P,N){ei=!1,zi=null,Zr.apply(su,arguments)}function ul(e,n,s,u,h,d,_,P,N){if($i.apply(this,arguments),ei){if(ei){var H=zi;ei=!1,zi=null}else throw Error(r(198));gn||(gn=!0,to=H)}}function yn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function ti(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function vn(e){if(yn(e)!==e)throw Error(r(188))}function cl(e){var n=e.alternate;if(!n){if(n=yn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,u=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return vn(h),e;if(d===u)return vn(h),n;d=d.sibling}throw Error(r(188))}if(s.return!==u.return)s=h,u=d;else{for(var _=!1,P=h.child;P;){if(P===s){_=!0,s=h,u=d;break}if(P===u){_=!0,u=h,s=d;break}P=P.sibling}if(!_){for(P=d.child;P;){if(P===s){_=!0,s=d,u=h;break}if(P===u){_=!0,u=d,s=h;break}P=P.sibling}if(!_)throw Error(r(189))}}if(s.alternate!==u)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function no(e){return e=cl(e),e!==null?Hi(e):null}function Hi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Hi(e);if(n!==null)return n;e=e.sibling}return null}var Wi=t.unstable_scheduleCallback,ro=t.unstable_cancelCallback,hl=t.unstable_shouldYield,ou=t.unstable_requestPaint,ze=t.unstable_now,fl=t.unstable_getCurrentPriorityLevel,ni=t.unstable_ImmediatePriority,vr=t.unstable_UserBlockingPriority,on=t.unstable_NormalPriority,io=t.unstable_LowPriority,dl=t.unstable_IdlePriority,ri=null,Yt=null;function pl(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ri,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:gl,so=Math.log,ml=Math.LN2;function gl(e){return e>>>=0,e===0?32:31-(so(e)/ml|0)|0}var Qi=64,qi=4194304;function _r(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ii(e,n){var s=e.pendingLanes;if(s===0)return 0;var u=0,h=e.suspendedLanes,d=e.pingedLanes,_=s&268435455;if(_!==0){var P=_&~h;P!==0?u=_r(P):(d&=_,d!==0&&(u=_r(d)))}else _=s&~h,_!==0?u=_r(_):d!==0&&(u=_r(d));if(u===0)return 0;if(n!==0&&n!==u&&(n&h)===0&&(h=u&-u,d=n&-n,h>=d||h===16&&(d&4194240)!==0))return n;if((u&4)!==0&&(u|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=u;0<n;)s=31-Ft(n),h=1<<s,u|=e[s],n&=~h;return u}function lu(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zn(e,n){for(var s=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes;0<d;){var _=31-Ft(d),P=1<<_,N=h[_];N===-1?((P&s)===0||(P&u)!==0)&&(h[_]=lu(P,n)):N<=n&&(e.expiredLanes|=P),d&=~P}}function Jt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function si(){var e=Qi;return Qi<<=1,(Qi&4194240)===0&&(Qi=64),e}function Er(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function wr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Ft(n),e[n]=s}function Ue(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<s;){var h=31-Ft(s),d=1<<h;n[h]=0,u[h]=-1,e[h]=-1,s&=~d}}function Tr(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var u=31-Ft(s),h=1<<u;h&n|e[u]&n&&(e[u]|=n),s&=~h}}var Ne=0;function Sr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var yl,Gi,vl,_l,El,oo=!1,Ln=[],Et=null,_n=null,En=null,Ir=new Map,ln=new Map,Fn=[],au="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wl(e,n){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Ir.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(n.pointerId)}}function Bt(e,n,s,u,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},n!==null&&(n=To(n),n!==null&&Gi(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function uu(e,n,s,u,h){switch(n){case"focusin":return Et=Bt(Et,e,n,s,u,h),!0;case"dragenter":return _n=Bt(_n,e,n,s,u,h),!0;case"mouseover":return En=Bt(En,e,n,s,u,h),!0;case"pointerover":var d=h.pointerId;return Ir.set(d,Bt(Ir.get(d)||null,e,n,s,u,h)),!0;case"gotpointercapture":return d=h.pointerId,ln.set(d,Bt(ln.get(d)||null,e,n,s,u,h)),!0}return!1}function Tl(e){var n=ci(e.target);if(n!==null){var s=yn(n);if(s!==null){if(n=s.tag,n===13){if(n=ti(s),n!==null){e.blockedOn=n,El(e.priority,function(){vl(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function er(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ki(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);Yr=u,s.target.dispatchEvent(u),Yr=null}else return n=To(s),n!==null&&Gi(n),e.blockedOn=s,!1;n.shift()}return!0}function oi(e,n,s){er(e)&&s.delete(n)}function Sl(){oo=!1,Et!==null&&er(Et)&&(Et=null),_n!==null&&er(_n)&&(_n=null),En!==null&&er(En)&&(En=null),Ir.forEach(oi),ln.forEach(oi)}function wn(e,n){e.blockedOn===n&&(e.blockedOn=null,oo||(oo=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Sl)))}function Tn(e){function n(h){return wn(h,e)}if(0<Ln.length){wn(Ln[0],e);for(var s=1;s<Ln.length;s++){var u=Ln[s];u.blockedOn===e&&(u.blockedOn=null)}}for(Et!==null&&wn(Et,e),_n!==null&&wn(_n,e),En!==null&&wn(En,e),Ir.forEach(n),ln.forEach(n),s=0;s<Fn.length;s++)u=Fn[s],u.blockedOn===e&&(u.blockedOn=null);for(;0<Fn.length&&(s=Fn[0],s.blockedOn===null);)Tl(s),s.blockedOn===null&&Fn.shift()}var tr=B.ReactCurrentBatchConfig,Ar=!0;function qe(e,n,s,u){var h=Ne,d=tr.transition;tr.transition=null;try{Ne=1,lo(e,n,s,u)}finally{Ne=h,tr.transition=d}}function cu(e,n,s,u){var h=Ne,d=tr.transition;tr.transition=null;try{Ne=4,lo(e,n,s,u)}finally{Ne=h,tr.transition=d}}function lo(e,n,s,u){if(Ar){var h=Ki(e,n,s,u);if(h===null)wu(e,n,u,li,s),wl(e,u);else if(uu(h,e,n,s,u))u.stopPropagation();else if(wl(e,u),n&4&&-1<au.indexOf(e)){for(;h!==null;){var d=To(h);if(d!==null&&yl(d),d=Ki(e,n,s,u),d===null&&wu(e,n,u,li,s),d===h)break;h=d}h!==null&&u.stopPropagation()}else wu(e,n,u,null,s)}}var li=null;function Ki(e,n,s,u){if(li=null,e=ji(u),e=ci(e),e!==null)if(n=yn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=ti(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return li=e,null}function ao(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fl()){case ni:return 1;case vr:return 4;case on:case io:return 16;case dl:return 536870912;default:return 16}default:return 16}}var Zt=null,Xi=null,zt=null;function uo(){if(zt)return zt;var e,n=Xi,s=n.length,u,h="value"in Zt?Zt.value:Zt.textContent,d=h.length;for(e=0;e<s&&n[e]===h[e];e++);var _=s-e;for(u=1;u<=_&&n[s-u]===h[d-u];u++);return zt=h.slice(e,1<u?1-u:void 0)}function Yi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function jn(){return!0}function co(){return!1}function wt(e){function n(s,u,h,d,_){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var P in e)e.hasOwnProperty(P)&&(s=e[P],this[P]=s?s(d):d[P]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?jn:co,this.isPropagationStopped=co,this}return oe(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),n}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=wt(Sn),bn=oe({},Sn,{view:0,detail:0}),hu=wt(bn),Zi,nr,Cr,ai=oe({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Un,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(Zi=e.screenX-Cr.screenX,nr=e.screenY-Cr.screenY):nr=Zi=0,Cr=e),Zi)},movementY:function(e){return"movementY"in e?e.movementY:nr}}),es=wt(ai),ho=oe({},ai,{dataTransfer:0}),Il=wt(ho),ts=oe({},bn,{relatedTarget:0}),ns=wt(ts),Al=oe({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),rr=wt(Al),Cl=oe({},Sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pl=wt(Cl),Rl=oe({},Sn,{data:0}),fo=wt(Rl),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=kl[e])?!!n[e]:!1}function Un(){return xl}var l=oe({},bn,{key:function(e){if(e.key){var n=rs[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Yi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Un,charCode:function(e){return e.type==="keypress"?Yi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f=wt(l),g=oe({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=wt(g),b=oe({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Un}),W=wt(b),le=oe({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),be=wt(le),ht=oe({},ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),De=wt(ht),pt=[9,13,27,32],st=v&&"CompositionEvent"in window,an=null;v&&"documentMode"in document&&(an=document.documentMode);var en=v&&"TextEvent"in window&&!an,ui=v&&(!st||an&&8<an&&11>=an),is=" ",Fh=!1;function jh(e,n){switch(e){case"keyup":return pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ss=!1;function Vg(e,n){switch(e){case"compositionend":return bh(n);case"keypress":return n.which!==32?null:(Fh=!0,is);case"textInput":return e=n.data,e===is&&Fh?null:e;default:return null}}function Mg(e,n){if(ss)return e==="compositionend"||!st&&jh(e,n)?(e=uo(),zt=Xi=Zt=null,ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ui&&n.locale!=="ko"?null:n.data;default:return null}}var Og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Og[e.type]:n==="textarea"}function Bh(e,n,s,u){On(u),n=Ol(n,"onChange"),0<n.length&&(s=new Ji("onChange","change",null,s,u),e.push({event:s,listeners:n}))}var po=null,mo=null;function Lg(e){of(e,0)}function Nl(e){var n=cs(e);if(Vi(n))return e}function Fg(e,n){if(e==="change")return n}var zh=!1;if(v){var fu;if(v){var du="oninput"in document;if(!du){var $h=document.createElement("div");$h.setAttribute("oninput","return;"),du=typeof $h.oninput=="function"}fu=du}else fu=!1;zh=fu&&(!document.documentMode||9<document.documentMode)}function Hh(){po&&(po.detachEvent("onpropertychange",Wh),mo=po=null)}function Wh(e){if(e.propertyName==="value"&&Nl(mo)){var n=[];Bh(n,mo,e,ji(e)),eo(Lg,n)}}function jg(e,n,s){e==="focusin"?(Hh(),po=n,mo=s,po.attachEvent("onpropertychange",Wh)):e==="focusout"&&Hh()}function bg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nl(mo)}function Ug(e,n){if(e==="click")return Nl(n)}function Bg(e,n){if(e==="input"||e==="change")return Nl(n)}function zg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var In=typeof Object.is=="function"?Object.is:zg;function go(e,n){if(In(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),u=Object.keys(n);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!m.call(n,h)||!In(e[h],n[h]))return!1}return!0}function Qh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qh(e,n){var s=Qh(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=n&&u>=n)return{node:s,offset:n-e};e=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Qh(s)}}function Gh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Kh(){for(var e=window,n=gr();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=gr(e.document)}return n}function pu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function $g(e){var n=Kh(),s=e.focusedElem,u=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Gh(s.ownerDocument.documentElement,s)){if(u!==null&&pu(s)){if(n=u.start,e=u.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=s.textContent.length,d=Math.min(u.start,h);u=u.end===void 0?d:Math.min(u.end,h),!e.extend&&d>u&&(h=u,u=d,d=h),h=qh(s,d);var _=qh(s,u);h&&_&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==_.node||e.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),d>u?(e.addRange(n),e.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Hg=v&&"documentMode"in document&&11>=document.documentMode,os=null,mu=null,yo=null,gu=!1;function Xh(e,n,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;gu||os==null||os!==gr(u)||(u=os,"selectionStart"in u&&pu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),yo&&go(yo,u)||(yo=u,u=Ol(mu,"onSelect"),0<u.length&&(n=new Ji("onSelect","select",null,n,s),e.push({event:n,listeners:u}),n.target=os)))}function Dl(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ls={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},yu={},Yh={};v&&(Yh=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function Vl(e){if(yu[e])return yu[e];if(!ls[e])return e;var n=ls[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Yh)return yu[e]=n[s];return e}var Jh=Vl("animationend"),Zh=Vl("animationiteration"),ef=Vl("animationstart"),tf=Vl("transitionend"),nf=new Map,rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,n){nf.set(e,n),c(n,[e])}for(var vu=0;vu<rf.length;vu++){var _u=rf[vu],Wg=_u.toLowerCase(),Qg=_u[0].toUpperCase()+_u.slice(1);Pr(Wg,"on"+Qg)}Pr(Jh,"onAnimationEnd"),Pr(Zh,"onAnimationIteration"),Pr(ef,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(tf,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qg=new Set("cancel close invalid load scroll toggle".split(" ").concat(vo));function sf(e,n,s){var u=e.type||"unknown-event";e.currentTarget=s,ul(u,n,void 0,e),e.currentTarget=null}function of(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],h=u.event;u=u.listeners;e:{var d=void 0;if(n)for(var _=u.length-1;0<=_;_--){var P=u[_],N=P.instance,H=P.currentTarget;if(P=P.listener,N!==d&&h.isPropagationStopped())break e;sf(h,P,H),d=N}else for(_=0;_<u.length;_++){if(P=u[_],N=P.instance,H=P.currentTarget,P=P.listener,N!==d&&h.isPropagationStopped())break e;sf(h,P,H),d=N}}}if(gn)throw e=to,gn=!1,to=null,e}function We(e,n){var s=n[Pu];s===void 0&&(s=n[Pu]=new Set);var u=e+"__bubble";s.has(u)||(lf(n,e,2,!1),s.add(u))}function Eu(e,n,s){var u=0;n&&(u|=4),lf(s,e,u,n)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function _o(e){if(!e[Ml]){e[Ml]=!0,o.forEach(function(s){s!=="selectionchange"&&(qg.has(s)||Eu(s,!1,e),Eu(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ml]||(n[Ml]=!0,Eu("selectionchange",!1,n))}}function lf(e,n,s,u){switch(ao(n)){case 1:var h=qe;break;case 4:h=cu;break;default:h=lo}s=h.bind(null,n,s,e),h=void 0,!Bi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function wu(e,n,s,u,h){var d=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var P=u.stateNode.containerInfo;if(P===h||P.nodeType===8&&P.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var N=_.tag;if((N===3||N===4)&&(N=_.stateNode.containerInfo,N===h||N.nodeType===8&&N.parentNode===h))return;_=_.return}for(;P!==null;){if(_=ci(P),_===null)return;if(N=_.tag,N===5||N===6){u=d=_;continue e}P=P.parentNode}}u=u.return}eo(function(){var H=d,ne=ji(s),ie=[];e:{var te=nf.get(e);if(te!==void 0){var ce=Ji,fe=e;switch(e){case"keypress":if(Yi(s)===0)break e;case"keydown":case"keyup":ce=f;break;case"focusin":fe="focus",ce=ns;break;case"focusout":fe="blur",ce=ns;break;case"beforeblur":case"afterblur":ce=ns;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Il;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=W;break;case Jh:case Zh:case ef:ce=rr;break;case tf:ce=be;break;case"scroll":ce=hu;break;case"wheel":ce=De;break;case"copy":case"cut":case"paste":ce=Pl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=S}var pe=(n&4)!==0,it=!pe&&e==="scroll",U=pe?te!==null?te+"Capture":null:te;pe=[];for(var M=H,z;M!==null;){z=M;var se=z.stateNode;if(z.tag===5&&se!==null&&(z=se,U!==null&&(se=rt(M,U),se!=null&&pe.push(Eo(M,se,z)))),it)break;M=M.return}0<pe.length&&(te=new ce(te,fe,null,s,ne),ie.push({event:te,listeners:pe}))}}if((n&7)===0){e:{if(te=e==="mouseover"||e==="pointerover",ce=e==="mouseout"||e==="pointerout",te&&s!==Yr&&(fe=s.relatedTarget||s.fromElement)&&(ci(fe)||fe[ir]))break e;if((ce||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ce?(fe=s.relatedTarget||s.toElement,ce=H,fe=fe?ci(fe):null,fe!==null&&(it=yn(fe),fe!==it||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=H),ce!==fe)){if(pe=es,se="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(pe=S,se="onPointerLeave",U="onPointerEnter",M="pointer"),it=ce==null?te:cs(ce),z=fe==null?te:cs(fe),te=new pe(se,M+"leave",ce,s,ne),te.target=it,te.relatedTarget=z,se=null,ci(ne)===H&&(pe=new pe(U,M+"enter",fe,s,ne),pe.target=z,pe.relatedTarget=it,se=pe),it=se,ce&&fe)t:{for(pe=ce,U=fe,M=0,z=pe;z;z=as(z))M++;for(z=0,se=U;se;se=as(se))z++;for(;0<M-z;)pe=as(pe),M--;for(;0<z-M;)U=as(U),z--;for(;M--;){if(pe===U||U!==null&&pe===U.alternate)break t;pe=as(pe),U=as(U)}pe=null}else pe=null;ce!==null&&af(ie,te,ce,pe,!1),fe!==null&&it!==null&&af(ie,it,fe,pe,!0)}}e:{if(te=H?cs(H):window,ce=te.nodeName&&te.nodeName.toLowerCase(),ce==="select"||ce==="input"&&te.type==="file")var ge=Fg;else if(Uh(te))if(zh)ge=Bg;else{ge=bg;var Ee=jg}else(ce=te.nodeName)&&ce.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ge=Ug);if(ge&&(ge=ge(e,H))){Bh(ie,ge,s,ne);break e}Ee&&Ee(e,te,H),e==="focusout"&&(Ee=te._wrapperState)&&Ee.controlled&&te.type==="number"&&Oi(te,"number",te.value)}switch(Ee=H?cs(H):window,e){case"focusin":(Uh(Ee)||Ee.contentEditable==="true")&&(os=Ee,mu=H,yo=null);break;case"focusout":yo=mu=os=null;break;case"mousedown":gu=!0;break;case"contextmenu":case"mouseup":case"dragend":gu=!1,Xh(ie,s,ne);break;case"selectionchange":if(Hg)break;case"keydown":case"keyup":Xh(ie,s,ne)}var we;if(st)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else ss?jh(e,s)&&(Se="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Se="onCompositionStart");Se&&(ui&&s.locale!=="ko"&&(ss||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&ss&&(we=uo()):(Zt=ne,Xi="value"in Zt?Zt.value:Zt.textContent,ss=!0)),Ee=Ol(H,Se),0<Ee.length&&(Se=new fo(Se,e,null,s,ne),ie.push({event:Se,listeners:Ee}),we?Se.data=we:(we=bh(s),we!==null&&(Se.data=we)))),(we=en?Vg(e,s):Mg(e,s))&&(H=Ol(H,"onBeforeInput"),0<H.length&&(ne=new fo("onBeforeInput","beforeinput",null,s,ne),ie.push({event:ne,listeners:H}),ne.data=we))}of(ie,n)})}function Eo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ol(e,n){for(var s=n+"Capture",u=[];e!==null;){var h=e,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=rt(e,s),d!=null&&u.unshift(Eo(e,d,h)),d=rt(e,n),d!=null&&u.push(Eo(e,d,h))),e=e.return}return u}function as(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function af(e,n,s,u,h){for(var d=n._reactName,_=[];s!==null&&s!==u;){var P=s,N=P.alternate,H=P.stateNode;if(N!==null&&N===u)break;P.tag===5&&H!==null&&(P=H,h?(N=rt(s,d),N!=null&&_.unshift(Eo(s,N,P))):h||(N=rt(s,d),N!=null&&_.push(Eo(s,N,P)))),s=s.return}_.length!==0&&e.push({event:n,listeners:_})}var Gg=/\r\n?/g,Kg=/\u0000|\uFFFD/g;function uf(e){return(typeof e=="string"?e:""+e).replace(Gg,`
`).replace(Kg,"")}function Ll(e,n,s){if(n=uf(n),uf(e)!==n&&s)throw Error(r(425))}function Fl(){}var Tu=null,Su=null;function Iu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Au=typeof setTimeout=="function"?setTimeout:void 0,Xg=typeof clearTimeout=="function"?clearTimeout:void 0,cf=typeof Promise=="function"?Promise:void 0,Yg=typeof queueMicrotask=="function"?queueMicrotask:typeof cf<"u"?function(e){return cf.resolve(null).then(e).catch(Jg)}:Au;function Jg(e){setTimeout(function(){throw e})}function Cu(e,n){var s=n,u=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(u===0){e.removeChild(h),Tn(n);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=h}while(s);Tn(n)}function Rr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function hf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),Bn="__reactFiber$"+us,wo="__reactProps$"+us,ir="__reactContainer$"+us,Pu="__reactEvents$"+us,Zg="__reactListeners$"+us,ey="__reactHandles$"+us;function ci(e){var n=e[Bn];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ir]||s[Bn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=hf(e);e!==null;){if(s=e[Bn])return s;e=hf(e)}return n}e=s,s=e.parentNode}return null}function To(e){return e=e[Bn]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function jl(e){return e[wo]||null}var Ru=[],hs=-1;function kr(e){return{current:e}}function Qe(e){0>hs||(e.current=Ru[hs],Ru[hs]=null,hs--)}function $e(e,n){hs++,Ru[hs]=e.current,e.current=n}var xr={},Rt=kr(xr),$t=kr(!1),hi=xr;function fs(e,n){var s=e.type.contextTypes;if(!s)return xr;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in s)h[d]=n[d];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function Ht(e){return e=e.childContextTypes,e!=null}function bl(){Qe($t),Qe(Rt)}function ff(e,n,s){if(Rt.current!==xr)throw Error(r(168));$e(Rt,n),$e($t,s)}function df(e,n,s){var u=e.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,Ie(e)||"Unknown",h));return oe({},s,u)}function Ul(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xr,hi=Rt.current,$e(Rt,e),$e($t,$t.current),!0}function pf(e,n,s){var u=e.stateNode;if(!u)throw Error(r(169));s?(e=df(e,n,hi),u.__reactInternalMemoizedMergedChildContext=e,Qe($t),Qe(Rt),$e(Rt,e)):Qe($t),$e($t,s)}var sr=null,Bl=!1,ku=!1;function mf(e){sr===null?sr=[e]:sr.push(e)}function ty(e){Bl=!0,mf(e)}function Nr(){if(!ku&&sr!==null){ku=!0;var e=0,n=Ne;try{var s=sr;for(Ne=1;e<s.length;e++){var u=s[e];do u=u(!0);while(u!==null)}sr=null,Bl=!1}catch(h){throw sr!==null&&(sr=sr.slice(e+1)),Wi(ni,Nr),h}finally{Ne=n,ku=!1}}return null}var ds=[],ps=0,zl=null,$l=0,un=[],cn=0,fi=null,or=1,lr="";function di(e,n){ds[ps++]=$l,ds[ps++]=zl,zl=e,$l=n}function gf(e,n,s){un[cn++]=or,un[cn++]=lr,un[cn++]=fi,fi=e;var u=or;e=lr;var h=32-Ft(u)-1;u&=~(1<<h),s+=1;var d=32-Ft(n)+h;if(30<d){var _=h-h%5;d=(u&(1<<_)-1).toString(32),u>>=_,h-=_,or=1<<32-Ft(n)+h|s<<h|u,lr=d+e}else or=1<<d|s<<h|u,lr=e}function xu(e){e.return!==null&&(di(e,1),gf(e,1,0))}function Nu(e){for(;e===zl;)zl=ds[--ps],ds[ps]=null,$l=ds[--ps],ds[ps]=null;for(;e===fi;)fi=un[--cn],un[cn]=null,lr=un[--cn],un[cn]=null,or=un[--cn],un[cn]=null}var tn=null,nn=null,Ge=!1,An=null;function yf(e,n){var s=pn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function vf(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,tn=e,nn=Rr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,tn=e,nn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=fi!==null?{id:or,overflow:lr}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=pn(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,tn=e,nn=null,!0):!1;default:return!1}}function Du(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vu(e){if(Ge){var n=nn;if(n){var s=n;if(!vf(e,n)){if(Du(e))throw Error(r(418));n=Rr(s.nextSibling);var u=tn;n&&vf(e,n)?yf(u,s):(e.flags=e.flags&-4097|2,Ge=!1,tn=e)}}else{if(Du(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ge=!1,tn=e}}}function _f(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function Hl(e){if(e!==tn)return!1;if(!Ge)return _f(e),Ge=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Iu(e.type,e.memoizedProps)),n&&(n=nn)){if(Du(e))throw Ef(),Error(r(418));for(;n;)yf(e,n),n=Rr(n.nextSibling)}if(_f(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){nn=Rr(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}nn=null}}else nn=tn?Rr(e.stateNode.nextSibling):null;return!0}function Ef(){for(var e=nn;e;)e=Rr(e.nextSibling)}function ms(){nn=tn=null,Ge=!1}function Mu(e){An===null?An=[e]:An.push(e)}var ny=B.ReactCurrentBatchConfig;function So(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var u=s.stateNode}if(!u)throw Error(r(147,e));var h=u,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(_){var P=h.refs;_===null?delete P[d]:P[d]=_},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Wl(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function wf(e){var n=e._init;return n(e._payload)}function Tf(e){function n(U,M){if(e){var z=U.deletions;z===null?(U.deletions=[M],U.flags|=16):z.push(M)}}function s(U,M){if(!e)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function u(U,M){for(U=new Map;M!==null;)M.key!==null?U.set(M.key,M):U.set(M.index,M),M=M.sibling;return U}function h(U,M){return U=br(U,M),U.index=0,U.sibling=null,U}function d(U,M,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<M?(U.flags|=2,M):z):(U.flags|=2,M)):(U.flags|=1048576,M)}function _(U){return e&&U.alternate===null&&(U.flags|=2),U}function P(U,M,z,se){return M===null||M.tag!==6?(M=Ac(z,U.mode,se),M.return=U,M):(M=h(M,z),M.return=U,M)}function N(U,M,z,se){var ge=z.type;return ge===C?ne(U,M,z.props.children,se,z.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ae&&wf(ge)===M.type)?(se=h(M,z.props),se.ref=So(U,M,z),se.return=U,se):(se=ma(z.type,z.key,z.props,null,U.mode,se),se.ref=So(U,M,z),se.return=U,se)}function H(U,M,z,se){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Cc(z,U.mode,se),M.return=U,M):(M=h(M,z.children||[]),M.return=U,M)}function ne(U,M,z,se,ge){return M===null||M.tag!==7?(M=wi(z,U.mode,se,ge),M.return=U,M):(M=h(M,z),M.return=U,M)}function ie(U,M,z){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Ac(""+M,U.mode,z),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case X:return z=ma(M.type,M.key,M.props,null,U.mode,z),z.ref=So(U,null,M),z.return=U,z;case J:return M=Cc(M,U.mode,z),M.return=U,M;case ae:var se=M._init;return ie(U,se(M._payload),z)}if(Kn(M)||ue(M))return M=wi(M,U.mode,z,null),M.return=U,M;Wl(U,M)}return null}function te(U,M,z,se){var ge=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ge!==null?null:P(U,M,""+z,se);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case X:return z.key===ge?N(U,M,z,se):null;case J:return z.key===ge?H(U,M,z,se):null;case ae:return ge=z._init,te(U,M,ge(z._payload),se)}if(Kn(z)||ue(z))return ge!==null?null:ne(U,M,z,se,null);Wl(U,z)}return null}function ce(U,M,z,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return U=U.get(z)||null,P(M,U,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case X:return U=U.get(se.key===null?z:se.key)||null,N(M,U,se,ge);case J:return U=U.get(se.key===null?z:se.key)||null,H(M,U,se,ge);case ae:var Ee=se._init;return ce(U,M,z,Ee(se._payload),ge)}if(Kn(se)||ue(se))return U=U.get(z)||null,ne(M,U,se,ge,null);Wl(M,se)}return null}function fe(U,M,z,se){for(var ge=null,Ee=null,we=M,Se=M=0,yt=null;we!==null&&Se<z.length;Se++){we.index>Se?(yt=we,we=null):yt=we.sibling;var Fe=te(U,we,z[Se],se);if(Fe===null){we===null&&(we=yt);break}e&&we&&Fe.alternate===null&&n(U,we),M=d(Fe,M,Se),Ee===null?ge=Fe:Ee.sibling=Fe,Ee=Fe,we=yt}if(Se===z.length)return s(U,we),Ge&&di(U,Se),ge;if(we===null){for(;Se<z.length;Se++)we=ie(U,z[Se],se),we!==null&&(M=d(we,M,Se),Ee===null?ge=we:Ee.sibling=we,Ee=we);return Ge&&di(U,Se),ge}for(we=u(U,we);Se<z.length;Se++)yt=ce(we,U,Se,z[Se],se),yt!==null&&(e&&yt.alternate!==null&&we.delete(yt.key===null?Se:yt.key),M=d(yt,M,Se),Ee===null?ge=yt:Ee.sibling=yt,Ee=yt);return e&&we.forEach(function(Ur){return n(U,Ur)}),Ge&&di(U,Se),ge}function pe(U,M,z,se){var ge=ue(z);if(typeof ge!="function")throw Error(r(150));if(z=ge.call(z),z==null)throw Error(r(151));for(var Ee=ge=null,we=M,Se=M=0,yt=null,Fe=z.next();we!==null&&!Fe.done;Se++,Fe=z.next()){we.index>Se?(yt=we,we=null):yt=we.sibling;var Ur=te(U,we,Fe.value,se);if(Ur===null){we===null&&(we=yt);break}e&&we&&Ur.alternate===null&&n(U,we),M=d(Ur,M,Se),Ee===null?ge=Ur:Ee.sibling=Ur,Ee=Ur,we=yt}if(Fe.done)return s(U,we),Ge&&di(U,Se),ge;if(we===null){for(;!Fe.done;Se++,Fe=z.next())Fe=ie(U,Fe.value,se),Fe!==null&&(M=d(Fe,M,Se),Ee===null?ge=Fe:Ee.sibling=Fe,Ee=Fe);return Ge&&di(U,Se),ge}for(we=u(U,we);!Fe.done;Se++,Fe=z.next())Fe=ce(we,U,Se,Fe.value,se),Fe!==null&&(e&&Fe.alternate!==null&&we.delete(Fe.key===null?Se:Fe.key),M=d(Fe,M,Se),Ee===null?ge=Fe:Ee.sibling=Fe,Ee=Fe);return e&&we.forEach(function(Oy){return n(U,Oy)}),Ge&&di(U,Se),ge}function it(U,M,z,se){if(typeof z=="object"&&z!==null&&z.type===C&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case X:e:{for(var ge=z.key,Ee=M;Ee!==null;){if(Ee.key===ge){if(ge=z.type,ge===C){if(Ee.tag===7){s(U,Ee.sibling),M=h(Ee,z.props.children),M.return=U,U=M;break e}}else if(Ee.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ae&&wf(ge)===Ee.type){s(U,Ee.sibling),M=h(Ee,z.props),M.ref=So(U,Ee,z),M.return=U,U=M;break e}s(U,Ee);break}else n(U,Ee);Ee=Ee.sibling}z.type===C?(M=wi(z.props.children,U.mode,se,z.key),M.return=U,U=M):(se=ma(z.type,z.key,z.props,null,U.mode,se),se.ref=So(U,M,z),se.return=U,U=se)}return _(U);case J:e:{for(Ee=z.key;M!==null;){if(M.key===Ee)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){s(U,M.sibling),M=h(M,z.children||[]),M.return=U,U=M;break e}else{s(U,M);break}else n(U,M);M=M.sibling}M=Cc(z,U.mode,se),M.return=U,U=M}return _(U);case ae:return Ee=z._init,it(U,M,Ee(z._payload),se)}if(Kn(z))return fe(U,M,z,se);if(ue(z))return pe(U,M,z,se);Wl(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,M!==null&&M.tag===6?(s(U,M.sibling),M=h(M,z),M.return=U,U=M):(s(U,M),M=Ac(z,U.mode,se),M.return=U,U=M),_(U)):s(U,M)}return it}var gs=Tf(!0),Sf=Tf(!1),Ql=kr(null),ql=null,ys=null,Ou=null;function Lu(){Ou=ys=ql=null}function Fu(e){var n=Ql.current;Qe(Ql),e._currentValue=n}function ju(e,n,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===s)break;e=e.return}}function vs(e,n){ql=e,Ou=ys=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Wt=!0),e.firstContext=null)}function hn(e){var n=e._currentValue;if(Ou!==e)if(e={context:e,memoizedValue:n,next:null},ys===null){if(ql===null)throw Error(r(308));ys=e,ql.dependencies={lanes:0,firstContext:e}}else ys=ys.next=e;return n}var pi=null;function bu(e){pi===null?pi=[e]:pi.push(e)}function If(e,n,s,u){var h=n.interleaved;return h===null?(s.next=s,bu(n)):(s.next=h.next,h.next=s),n.interleaved=s,ar(e,u)}function ar(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Dr=!1;function Uu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Af(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ur(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Vr(e,n,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Oe&2)!==0){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,ar(e,s)}return h=u.interleaved,h===null?(n.next=n,bu(u)):(n.next=h.next,h.next=n),u.interleaved=n,ar(e,s)}function Gl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var u=n.lanes;u&=e.pendingLanes,s|=u,n.lanes=s,Tr(e,s)}}function Cf(e,n){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,effects:u.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Kl(e,n,s,u){var h=e.updateQueue;Dr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,P=h.shared.pending;if(P!==null){h.shared.pending=null;var N=P,H=N.next;N.next=null,_===null?d=H:_.next=H,_=N;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,P=ne.lastBaseUpdate,P!==_&&(P===null?ne.firstBaseUpdate=H:P.next=H,ne.lastBaseUpdate=N))}if(d!==null){var ie=h.baseState;_=0,ne=H=N=null,P=d;do{var te=P.lane,ce=P.eventTime;if((u&te)===te){ne!==null&&(ne=ne.next={eventTime:ce,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var fe=e,pe=P;switch(te=n,ce=s,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){ie=fe.call(ce,ie,te);break e}ie=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,te=typeof fe=="function"?fe.call(ce,ie,te):fe,te==null)break e;ie=oe({},ie,te);break e;case 2:Dr=!0}}P.callback!==null&&P.lane!==0&&(e.flags|=64,te=h.effects,te===null?h.effects=[P]:te.push(P))}else ce={eventTime:ce,lane:te,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ne===null?(H=ne=ce,N=ie):ne=ne.next=ce,_|=te;if(P=P.next,P===null){if(P=h.shared.pending,P===null)break;te=P,P=te.next,te.next=null,h.lastBaseUpdate=te,h.shared.pending=null}}while(!0);if(ne===null&&(N=ie),h.baseState=N,h.firstBaseUpdate=H,h.lastBaseUpdate=ne,n=h.shared.interleaved,n!==null){h=n;do _|=h.lane,h=h.next;while(h!==n)}else d===null&&(h.shared.lanes=0);yi|=_,e.lanes=_,e.memoizedState=ie}}function Pf(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var u=e[n],h=u.callback;if(h!==null){if(u.callback=null,u=s,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var Io={},zn=kr(Io),Ao=kr(Io),Co=kr(Io);function mi(e){if(e===Io)throw Error(r(174));return e}function Bu(e,n){switch($e(Co,n),$e(Ao,e),$e(zn,Io),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ct(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ct(n,e)}Qe(zn),$e(zn,n)}function _s(){Qe(zn),Qe(Ao),Qe(Co)}function Rf(e){mi(Co.current);var n=mi(zn.current),s=ct(n,e.type);n!==s&&($e(Ao,e),$e(zn,s))}function zu(e){Ao.current===e&&(Qe(zn),Qe(Ao))}var Ye=kr(0);function Xl(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $u=[];function Hu(){for(var e=0;e<$u.length;e++)$u[e]._workInProgressVersionPrimary=null;$u.length=0}var Yl=B.ReactCurrentDispatcher,Wu=B.ReactCurrentBatchConfig,gi=0,Je=null,ft=null,mt=null,Jl=!1,Po=!1,Ro=0,ry=0;function kt(){throw Error(r(321))}function Qu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!In(e[s],n[s]))return!1;return!0}function qu(e,n,s,u,h,d){if(gi=d,Je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Yl.current=e===null||e.memoizedState===null?ly:ay,e=s(u,h),Po){d=0;do{if(Po=!1,Ro=0,25<=d)throw Error(r(301));d+=1,mt=ft=null,n.updateQueue=null,Yl.current=uy,e=s(u,h)}while(Po)}if(Yl.current=ta,n=ft!==null&&ft.next!==null,gi=0,mt=ft=Je=null,Jl=!1,n)throw Error(r(300));return e}function Gu(){var e=Ro!==0;return Ro=0,e}function $n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Je.memoizedState=mt=e:mt=mt.next=e,mt}function fn(){if(ft===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var n=mt===null?Je.memoizedState:mt.next;if(n!==null)mt=n,ft=e;else{if(e===null)throw Error(r(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},mt===null?Je.memoizedState=mt=e:mt=mt.next=e}return mt}function ko(e,n){return typeof n=="function"?n(e):n}function Ku(e){var n=fn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var u=ft,h=u.baseQueue,d=s.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}u.baseQueue=h=d,s.pending=null}if(h!==null){d=h.next,u=u.baseState;var P=_=null,N=null,H=d;do{var ne=H.lane;if((gi&ne)===ne)N!==null&&(N=N.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),u=H.hasEagerState?H.eagerState:e(u,H.action);else{var ie={lane:ne,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};N===null?(P=N=ie,_=u):N=N.next=ie,Je.lanes|=ne,yi|=ne}H=H.next}while(H!==null&&H!==d);N===null?_=u:N.next=P,In(u,n.memoizedState)||(Wt=!0),n.memoizedState=u,n.baseState=_,n.baseQueue=N,s.lastRenderedState=u}if(e=s.interleaved,e!==null){h=e;do d=h.lane,Je.lanes|=d,yi|=d,h=h.next;while(h!==e)}else h===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Xu(e){var n=fn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var u=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);In(d,n.memoizedState)||(Wt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,u]}function kf(){}function xf(e,n){var s=Je,u=fn(),h=n(),d=!In(u.memoizedState,h);if(d&&(u.memoizedState=h,Wt=!0),u=u.queue,Yu(Vf.bind(null,s,u,e),[e]),u.getSnapshot!==n||d||mt!==null&&mt.memoizedState.tag&1){if(s.flags|=2048,xo(9,Df.bind(null,s,u,h,n),void 0,null),gt===null)throw Error(r(349));(gi&30)!==0||Nf(s,n,h)}return h}function Nf(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Je.updateQueue,n===null?(n={lastEffect:null,stores:null},Je.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Df(e,n,s,u){n.value=s,n.getSnapshot=u,Mf(n)&&Of(e)}function Vf(e,n,s){return s(function(){Mf(n)&&Of(e)})}function Mf(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!In(e,s)}catch{return!0}}function Of(e){var n=ar(e,1);n!==null&&kn(n,e,1,-1)}function Lf(e){var n=$n();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},n.queue=e,e=e.dispatch=oy.bind(null,Je,e),[n.memoizedState,e]}function xo(e,n,s,u){return e={tag:e,create:n,destroy:s,deps:u,next:null},n=Je.updateQueue,n===null?(n={lastEffect:null,stores:null},Je.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,n.lastEffect=e)),e}function Ff(){return fn().memoizedState}function Zl(e,n,s,u){var h=$n();Je.flags|=e,h.memoizedState=xo(1|n,s,void 0,u===void 0?null:u)}function ea(e,n,s,u){var h=fn();u=u===void 0?null:u;var d=void 0;if(ft!==null){var _=ft.memoizedState;if(d=_.destroy,u!==null&&Qu(u,_.deps)){h.memoizedState=xo(n,s,d,u);return}}Je.flags|=e,h.memoizedState=xo(1|n,s,d,u)}function jf(e,n){return Zl(8390656,8,e,n)}function Yu(e,n){return ea(2048,8,e,n)}function bf(e,n){return ea(4,2,e,n)}function Uf(e,n){return ea(4,4,e,n)}function Bf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function zf(e,n,s){return s=s!=null?s.concat([e]):null,ea(4,4,Bf.bind(null,n,e),s)}function Ju(){}function $f(e,n){var s=fn();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&Qu(n,u[1])?u[0]:(s.memoizedState=[e,n],e)}function Hf(e,n){var s=fn();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&Qu(n,u[1])?u[0]:(e=e(),s.memoizedState=[e,n],e)}function Wf(e,n,s){return(gi&21)===0?(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=s):(In(s,n)||(s=si(),Je.lanes|=s,yi|=s,e.baseState=!0),n)}function iy(e,n){var s=Ne;Ne=s!==0&&4>s?s:4,e(!0);var u=Wu.transition;Wu.transition={};try{e(!1),n()}finally{Ne=s,Wu.transition=u}}function Qf(){return fn().memoizedState}function sy(e,n,s){var u=Fr(e);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},qf(e))Gf(n,s);else if(s=If(e,n,s,u),s!==null){var h=Ut();kn(s,e,u,h),Kf(s,n,u)}}function oy(e,n,s){var u=Fr(e),h={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(qf(e))Gf(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,P=d(_,s);if(h.hasEagerState=!0,h.eagerState=P,In(P,_)){var N=n.interleaved;N===null?(h.next=h,bu(n)):(h.next=N.next,N.next=h),n.interleaved=h;return}}catch{}finally{}s=If(e,n,h,u),s!==null&&(h=Ut(),kn(s,e,u,h),Kf(s,n,u))}}function qf(e){var n=e.alternate;return e===Je||n!==null&&n===Je}function Gf(e,n){Po=Jl=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Kf(e,n,s){if((s&4194240)!==0){var u=n.lanes;u&=e.pendingLanes,s|=u,n.lanes=s,Tr(e,s)}}var ta={readContext:hn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},ly={readContext:hn,useCallback:function(e,n){return $n().memoizedState=[e,n===void 0?null:n],e},useContext:hn,useEffect:jf,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Zl(4194308,4,Bf.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Zl(4194308,4,e,n)},useInsertionEffect:function(e,n){return Zl(4,2,e,n)},useMemo:function(e,n){var s=$n();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var u=$n();return n=s!==void 0?s(n):n,u.memoizedState=u.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},u.queue=e,e=e.dispatch=sy.bind(null,Je,e),[u.memoizedState,e]},useRef:function(e){var n=$n();return e={current:e},n.memoizedState=e},useState:Lf,useDebugValue:Ju,useDeferredValue:function(e){return $n().memoizedState=e},useTransition:function(){var e=Lf(!1),n=e[0];return e=iy.bind(null,e[1]),$n().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var u=Je,h=$n();if(Ge){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),gt===null)throw Error(r(349));(gi&30)!==0||Nf(u,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,jf(Vf.bind(null,u,d,e),[e]),u.flags|=2048,xo(9,Df.bind(null,u,d,s,n),void 0,null),s},useId:function(){var e=$n(),n=gt.identifierPrefix;if(Ge){var s=lr,u=or;s=(u&~(1<<32-Ft(u)-1)).toString(32)+s,n=":"+n+"R"+s,s=Ro++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=ry++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},ay={readContext:hn,useCallback:$f,useContext:hn,useEffect:Yu,useImperativeHandle:zf,useInsertionEffect:bf,useLayoutEffect:Uf,useMemo:Hf,useReducer:Ku,useRef:Ff,useState:function(){return Ku(ko)},useDebugValue:Ju,useDeferredValue:function(e){var n=fn();return Wf(n,ft.memoizedState,e)},useTransition:function(){var e=Ku(ko)[0],n=fn().memoizedState;return[e,n]},useMutableSource:kf,useSyncExternalStore:xf,useId:Qf,unstable_isNewReconciler:!1},uy={readContext:hn,useCallback:$f,useContext:hn,useEffect:Yu,useImperativeHandle:zf,useInsertionEffect:bf,useLayoutEffect:Uf,useMemo:Hf,useReducer:Xu,useRef:Ff,useState:function(){return Xu(ko)},useDebugValue:Ju,useDeferredValue:function(e){var n=fn();return ft===null?n.memoizedState=e:Wf(n,ft.memoizedState,e)},useTransition:function(){var e=Xu(ko)[0],n=fn().memoizedState;return[e,n]},useMutableSource:kf,useSyncExternalStore:xf,useId:Qf,unstable_isNewReconciler:!1};function Cn(e,n){if(e&&e.defaultProps){n=oe({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Zu(e,n,s,u){n=e.memoizedState,s=s(u,n),s=s==null?n:oe({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var na={isMounted:function(e){return(e=e._reactInternals)?yn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var u=Ut(),h=Fr(e),d=ur(u,h);d.payload=n,s!=null&&(d.callback=s),n=Vr(e,d,h),n!==null&&(kn(n,e,h,u),Gl(n,e,h))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var u=Ut(),h=Fr(e),d=ur(u,h);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=Vr(e,d,h),n!==null&&(kn(n,e,h,u),Gl(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Ut(),u=Fr(e),h=ur(s,u);h.tag=2,n!=null&&(h.callback=n),n=Vr(e,h,u),n!==null&&(kn(n,e,u,s),Gl(n,e,u))}};function Xf(e,n,s,u,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,d,_):n.prototype&&n.prototype.isPureReactComponent?!go(s,u)||!go(h,d):!0}function Yf(e,n,s){var u=!1,h=xr,d=n.contextType;return typeof d=="object"&&d!==null?d=hn(d):(h=Ht(n)?hi:Rt.current,u=n.contextTypes,d=(u=u!=null)?fs(e,h):xr),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=na,e.stateNode=n,n._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=d),n}function Jf(e,n,s,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,u),n.state!==e&&na.enqueueReplaceState(n,n.state,null)}function ec(e,n,s,u){var h=e.stateNode;h.props=s,h.state=e.memoizedState,h.refs={},Uu(e);var d=n.contextType;typeof d=="object"&&d!==null?h.context=hn(d):(d=Ht(n)?hi:Rt.current,h.context=fs(e,d)),h.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Zu(e,n,d,s),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&na.enqueueReplaceState(h,h.state,null),Kl(e,s,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Es(e,n){try{var s="",u=n;do s+=Te(u),u=u.return;while(u);var h=s}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:h,digest:null}}function tc(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function nc(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var cy=typeof WeakMap=="function"?WeakMap:Map;function Zf(e,n,s){s=ur(-1,s),s.tag=3,s.payload={element:null};var u=n.value;return s.callback=function(){ua||(ua=!0,yc=u),nc(e,n)},s}function ed(e,n,s){s=ur(-1,s),s.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;s.payload=function(){return u(h)},s.callback=function(){nc(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){nc(e,n),typeof u!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var _=n.stack;this.componentDidCatch(n.value,{componentStack:_!==null?_:""})}),s}function td(e,n,s){var u=e.pingCache;if(u===null){u=e.pingCache=new cy;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(s)||(h.add(s),e=Iy.bind(null,e,n,s),n.then(e,e))}function nd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function rd(e,n,s,u,h){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=ur(-1,1),n.tag=2,Vr(s,n,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var hy=B.ReactCurrentOwner,Wt=!1;function bt(e,n,s,u){n.child=e===null?Sf(n,null,s,u):gs(n,e.child,s,u)}function id(e,n,s,u,h){s=s.render;var d=n.ref;return vs(n,h),u=qu(e,n,s,u,d,h),s=Gu(),e!==null&&!Wt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,cr(e,n,h)):(Ge&&s&&xu(n),n.flags|=1,bt(e,n,u,h),n.child)}function sd(e,n,s,u,h){if(e===null){var d=s.type;return typeof d=="function"&&!Ic(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,od(e,n,d,u,h)):(e=ma(s.type,null,u,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,(e.lanes&h)===0){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:go,s(_,u)&&e.ref===n.ref)return cr(e,n,h)}return n.flags|=1,e=br(d,u),e.ref=n.ref,e.return=n,n.child=e}function od(e,n,s,u,h){if(e!==null){var d=e.memoizedProps;if(go(d,u)&&e.ref===n.ref)if(Wt=!1,n.pendingProps=u=d,(e.lanes&h)!==0)(e.flags&131072)!==0&&(Wt=!0);else return n.lanes=e.lanes,cr(e,n,h)}return rc(e,n,s,u,h)}function ld(e,n,s){var u=n.pendingProps,h=u.children,d=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ts,rn),rn|=s;else{if((s&1073741824)===0)return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,$e(Ts,rn),rn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:s,$e(Ts,rn),rn|=u}else d!==null?(u=d.baseLanes|s,n.memoizedState=null):u=s,$e(Ts,rn),rn|=u;return bt(e,n,h,s),n.child}function ad(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function rc(e,n,s,u,h){var d=Ht(s)?hi:Rt.current;return d=fs(n,d),vs(n,h),s=qu(e,n,s,u,d,h),u=Gu(),e!==null&&!Wt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,cr(e,n,h)):(Ge&&u&&xu(n),n.flags|=1,bt(e,n,s,h),n.child)}function ud(e,n,s,u,h){if(Ht(s)){var d=!0;Ul(n)}else d=!1;if(vs(n,h),n.stateNode===null)ia(e,n),Yf(n,s,u),ec(n,s,u,h),u=!0;else if(e===null){var _=n.stateNode,P=n.memoizedProps;_.props=P;var N=_.context,H=s.contextType;typeof H=="object"&&H!==null?H=hn(H):(H=Ht(s)?hi:Rt.current,H=fs(n,H));var ne=s.getDerivedStateFromProps,ie=typeof ne=="function"||typeof _.getSnapshotBeforeUpdate=="function";ie||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==u||N!==H)&&Jf(n,_,u,H),Dr=!1;var te=n.memoizedState;_.state=te,Kl(n,u,_,h),N=n.memoizedState,P!==u||te!==N||$t.current||Dr?(typeof ne=="function"&&(Zu(n,s,ne,u),N=n.memoizedState),(P=Dr||Xf(n,s,P,u,te,N,H))?(ie||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(n.flags|=4194308)):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=N),_.props=u,_.state=N,_.context=H,u=P):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{_=n.stateNode,Af(e,n),P=n.memoizedProps,H=n.type===n.elementType?P:Cn(n.type,P),_.props=H,ie=n.pendingProps,te=_.context,N=s.contextType,typeof N=="object"&&N!==null?N=hn(N):(N=Ht(s)?hi:Rt.current,N=fs(n,N));var ce=s.getDerivedStateFromProps;(ne=typeof ce=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==ie||te!==N)&&Jf(n,_,u,N),Dr=!1,te=n.memoizedState,_.state=te,Kl(n,u,_,h);var fe=n.memoizedState;P!==ie||te!==fe||$t.current||Dr?(typeof ce=="function"&&(Zu(n,s,ce,u),fe=n.memoizedState),(H=Dr||Xf(n,s,H,u,te,fe,N)||!1)?(ne||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,fe,N),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,fe,N)),typeof _.componentDidUpdate=="function"&&(n.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===e.memoizedProps&&te===e.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&te===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=fe),_.props=u,_.state=fe,_.context=N,u=H):(typeof _.componentDidUpdate!="function"||P===e.memoizedProps&&te===e.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&te===e.memoizedState||(n.flags|=1024),u=!1)}return ic(e,n,s,u,d,h)}function ic(e,n,s,u,h,d){ad(e,n);var _=(n.flags&128)!==0;if(!u&&!_)return h&&pf(n,s,!1),cr(e,n,d);u=n.stateNode,hy.current=n;var P=_&&typeof s.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,e!==null&&_?(n.child=gs(n,e.child,null,d),n.child=gs(n,null,P,d)):bt(e,n,P,d),n.memoizedState=u.state,h&&pf(n,s,!0),n.child}function cd(e){var n=e.stateNode;n.pendingContext?ff(e,n.pendingContext,n.pendingContext!==n.context):n.context&&ff(e,n.context,!1),Bu(e,n.containerInfo)}function hd(e,n,s,u,h){return ms(),Mu(h),n.flags|=256,bt(e,n,s,u),n.child}var sc={dehydrated:null,treeContext:null,retryLane:0};function oc(e){return{baseLanes:e,cachePool:null,transitions:null}}function fd(e,n,s){var u=n.pendingProps,h=Ye.current,d=!1,_=(n.flags&128)!==0,P;if((P=_)||(P=e!==null&&e.memoizedState===null?!1:(h&2)!==0),P?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),$e(Ye,h&1),e===null)return Vu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(_=u.children,e=u.fallback,d?(u=n.mode,d=n.child,_={mode:"hidden",children:_},(u&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=_):d=ga(_,u,0,null),e=wi(e,u,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=oc(s),n.memoizedState=sc,e):lc(n,_));if(h=e.memoizedState,h!==null&&(P=h.dehydrated,P!==null))return fy(e,n,_,u,P,h,s);if(d){d=u.fallback,_=n.mode,h=e.child,P=h.sibling;var N={mode:"hidden",children:u.children};return(_&1)===0&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=N,n.deletions=null):(u=br(h,N),u.subtreeFlags=h.subtreeFlags&14680064),P!==null?d=br(P,d):(d=wi(d,_,s,null),d.flags|=2),d.return=n,u.return=n,u.sibling=d,n.child=u,u=d,d=n.child,_=e.child.memoizedState,_=_===null?oc(s):{baseLanes:_.baseLanes|s,cachePool:null,transitions:_.transitions},d.memoizedState=_,d.childLanes=e.childLanes&~s,n.memoizedState=sc,u}return d=e.child,e=d.sibling,u=br(d,{mode:"visible",children:u.children}),(n.mode&1)===0&&(u.lanes=s),u.return=n,u.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=u,n.memoizedState=null,u}function lc(e,n){return n=ga({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function ra(e,n,s,u){return u!==null&&Mu(u),gs(n,e.child,null,s),e=lc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function fy(e,n,s,u,h,d,_){if(s)return n.flags&256?(n.flags&=-257,u=tc(Error(r(422))),ra(e,n,_,u)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=u.fallback,h=n.mode,u=ga({mode:"visible",children:u.children},h,0,null),d=wi(d,h,_,null),d.flags|=2,u.return=n,d.return=n,u.sibling=d,n.child=u,(n.mode&1)!==0&&gs(n,e.child,null,_),n.child.memoizedState=oc(_),n.memoizedState=sc,d);if((n.mode&1)===0)return ra(e,n,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var P=u.dgst;return u=P,d=Error(r(419)),u=tc(d,u,void 0),ra(e,n,_,u)}if(P=(_&e.childLanes)!==0,Wt||P){if(u=gt,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|_))!==0?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,ar(e,h),kn(u,e,h,-1))}return Sc(),u=tc(Error(r(421))),ra(e,n,_,u)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=Ay.bind(null,e),h._reactRetry=n,null):(e=d.treeContext,nn=Rr(h.nextSibling),tn=n,Ge=!0,An=null,e!==null&&(un[cn++]=or,un[cn++]=lr,un[cn++]=fi,or=e.id,lr=e.overflow,fi=n),n=lc(n,u.children),n.flags|=4096,n)}function dd(e,n,s){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),ju(e.return,n,s)}function ac(e,n,s,u,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=s,d.tailMode=h)}function pd(e,n,s){var u=n.pendingProps,h=u.revealOrder,d=u.tail;if(bt(e,n,u.children,s),u=Ye.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dd(e,s,n);else if(e.tag===19)dd(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if($e(Ye,u),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Xl(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),ac(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Xl(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}ac(n,!0,s,null,d);break;case"together":ac(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ia(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function cr(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),yi|=n.lanes,(s&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=br(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=br(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function dy(e,n,s){switch(n.tag){case 3:cd(n),ms();break;case 5:Rf(n);break;case 1:Ht(n.type)&&Ul(n);break;case 4:Bu(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;$e(Ql,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?($e(Ye,Ye.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?fd(e,n,s):($e(Ye,Ye.current&1),e=cr(e,n,s),e!==null?e.sibling:null);$e(Ye,Ye.current&1);break;case 19:if(u=(s&n.childLanes)!==0,(e.flags&128)!==0){if(u)return pd(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$e(Ye,Ye.current),u)break;return null;case 22:case 23:return n.lanes=0,ld(e,n,s)}return cr(e,n,s)}var md,uc,gd,yd;md=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},uc=function(){},gd=function(e,n,s,u){var h=e.memoizedProps;if(h!==u){e=n.stateNode,mi(zn.current);var d=null;switch(s){case"input":h=Gr(e,h),u=Gr(e,u),d=[];break;case"select":h=oe({},h,{value:void 0}),u=oe({},u,{value:void 0}),d=[];break;case"textarea":h=Hs(e,h),u=Hs(e,u),d=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=Fl)}Xs(s,u);var _;s=null;for(H in h)if(!u.hasOwnProperty(H)&&h.hasOwnProperty(H)&&h[H]!=null)if(H==="style"){var P=h[H];for(_ in P)P.hasOwnProperty(_)&&(s||(s={}),s[_]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(a.hasOwnProperty(H)?d||(d=[]):(d=d||[]).push(H,null));for(H in u){var N=u[H];if(P=h?.[H],u.hasOwnProperty(H)&&N!==P&&(N!=null||P!=null))if(H==="style")if(P){for(_ in P)!P.hasOwnProperty(_)||N&&N.hasOwnProperty(_)||(s||(s={}),s[_]="");for(_ in N)N.hasOwnProperty(_)&&P[_]!==N[_]&&(s||(s={}),s[_]=N[_])}else s||(d||(d=[]),d.push(H,s)),s=N;else H==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,P=P?P.__html:void 0,N!=null&&P!==N&&(d=d||[]).push(H,N)):H==="children"?typeof N!="string"&&typeof N!="number"||(d=d||[]).push(H,""+N):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(a.hasOwnProperty(H)?(N!=null&&H==="onScroll"&&We("scroll",e),d||P===N||(d=[])):(d=d||[]).push(H,N))}s&&(d=d||[]).push("style",s);var H=d;(n.updateQueue=H)&&(n.flags|=4)}},yd=function(e,n,s,u){s!==u&&(n.flags|=4)};function No(e,n){if(!Ge)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function xt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=s,n}function py(e,n,s){var u=n.pendingProps;switch(Nu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(n),null;case 1:return Ht(n.type)&&bl(),xt(n),null;case 3:return u=n.stateNode,_s(),Qe($t),Qe(Rt),Hu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Hl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,An!==null&&(Ec(An),An=null))),uc(e,n),xt(n),null;case 5:zu(n);var h=mi(Co.current);if(s=n.type,e!==null&&n.stateNode!=null)gd(e,n,s,u,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return xt(n),null}if(e=mi(zn.current),Hl(n)){u=n.stateNode,s=n.type;var d=n.memoizedProps;switch(u[Bn]=n,u[wo]=d,e=(n.mode&1)!==0,s){case"dialog":We("cancel",u),We("close",u);break;case"iframe":case"object":case"embed":We("load",u);break;case"video":case"audio":for(h=0;h<vo.length;h++)We(vo[h],u);break;case"source":We("error",u);break;case"img":case"image":case"link":We("error",u),We("load",u);break;case"details":We("toggle",u);break;case"input":Mi(u,d),We("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},We("invalid",u);break;case"textarea":Li(u,d),We("invalid",u)}Xs(s,d),h=null;for(var _ in d)if(d.hasOwnProperty(_)){var P=d[_];_==="children"?typeof P=="string"?u.textContent!==P&&(d.suppressHydrationWarning!==!0&&Ll(u.textContent,P,e),h=["children",P]):typeof P=="number"&&u.textContent!==""+P&&(d.suppressHydrationWarning!==!0&&Ll(u.textContent,P,e),h=["children",""+P]):a.hasOwnProperty(_)&&P!=null&&_==="onScroll"&&We("scroll",u)}switch(s){case"input":Gn(u),al(u,d,!0);break;case"textarea":Gn(u),Ws(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=Fl)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ut(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=_.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=_.createElement(s,{is:u.is}):(e=_.createElement(s),s==="select"&&(_=e,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):e=_.createElementNS(e,s),e[Bn]=n,e[wo]=u,md(e,n,!1,!1),n.stateNode=e;e:{switch(_=Ys(s,u),s){case"dialog":We("cancel",e),We("close",e),h=u;break;case"iframe":case"object":case"embed":We("load",e),h=u;break;case"video":case"audio":for(h=0;h<vo.length;h++)We(vo[h],e);h=u;break;case"source":We("error",e),h=u;break;case"img":case"image":case"link":We("error",e),We("load",e),h=u;break;case"details":We("toggle",e),h=u;break;case"input":Mi(e,u),h=Gr(e,u),We("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=oe({},u,{value:void 0}),We("invalid",e);break;case"textarea":Li(e,u),h=Hs(e,u),We("invalid",e);break;default:h=u}Xs(s,h),P=h;for(d in P)if(P.hasOwnProperty(d)){var N=P[d];d==="style"?Gs(e,N):d==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Qs(e,N)):d==="children"?typeof N=="string"?(s!=="textarea"||N!=="")&&yr(e,N):typeof N=="number"&&yr(e,""+N):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?N!=null&&d==="onScroll"&&We("scroll",e):N!=null&&Q(e,d,N,_))}switch(s){case"input":Gn(e),al(e,u,!1);break;case"textarea":Gn(e),Ws(e);break;case"option":u.value!=null&&e.setAttribute("value",""+xe(u.value));break;case"select":e.multiple=!!u.multiple,d=u.value,d!=null?Xn(e,!!u.multiple,d,!1):u.defaultValue!=null&&Xn(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Fl)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return xt(n),null;case 6:if(e&&n.stateNode!=null)yd(e,n,e.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(s=mi(Co.current),mi(zn.current),Hl(n)){if(u=n.stateNode,s=n.memoizedProps,u[Bn]=n,(d=u.nodeValue!==s)&&(e=tn,e!==null))switch(e.tag){case 3:Ll(u.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ll(u.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[Bn]=n,n.stateNode=u}return xt(n),null;case 13:if(Qe(Ye),u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&nn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Ef(),ms(),n.flags|=98560,d=!1;else if(d=Hl(n),u!==null&&u.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Bn]=n}else ms(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xt(n),d=!1}else An!==null&&(Ec(An),An=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Ye.current&1)!==0?dt===0&&(dt=3):Sc())),n.updateQueue!==null&&(n.flags|=4),xt(n),null);case 4:return _s(),uc(e,n),e===null&&_o(n.stateNode.containerInfo),xt(n),null;case 10:return Fu(n.type._context),xt(n),null;case 17:return Ht(n.type)&&bl(),xt(n),null;case 19:if(Qe(Ye),d=n.memoizedState,d===null)return xt(n),null;if(u=(n.flags&128)!==0,_=d.rendering,_===null)if(u)No(d,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(_=Xl(e),_!==null){for(n.flags|=128,No(d,!1),u=_.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=s,s=n.child;s!==null;)d=s,e=u,d.flags&=14680066,_=d.alternate,_===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=_.childLanes,d.lanes=_.lanes,d.child=_.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=_.memoizedProps,d.memoizedState=_.memoizedState,d.updateQueue=_.updateQueue,d.type=_.type,e=_.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return $e(Ye,Ye.current&1|2),n.child}e=e.sibling}d.tail!==null&&ze()>Ss&&(n.flags|=128,u=!0,No(d,!1),n.lanes=4194304)}else{if(!u)if(e=Xl(_),e!==null){if(n.flags|=128,u=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),No(d,!0),d.tail===null&&d.tailMode==="hidden"&&!_.alternate&&!Ge)return xt(n),null}else 2*ze()-d.renderingStartTime>Ss&&s!==1073741824&&(n.flags|=128,u=!0,No(d,!1),n.lanes=4194304);d.isBackwards?(_.sibling=n.child,n.child=_):(s=d.last,s!==null?s.sibling=_:n.child=_,d.last=_)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=ze(),n.sibling=null,s=Ye.current,$e(Ye,u?s&1|2:s&1),n):(xt(n),null);case 22:case 23:return Tc(),u=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(n.flags|=8192),u&&(n.mode&1)!==0?(rn&1073741824)!==0&&(xt(n),n.subtreeFlags&6&&(n.flags|=8192)):xt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function my(e,n){switch(Nu(n),n.tag){case 1:return Ht(n.type)&&bl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return _s(),Qe($t),Qe(Rt),Hu(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return zu(n),null;case 13:if(Qe(Ye),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ms()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Qe(Ye),null;case 4:return _s(),null;case 10:return Fu(n.type._context),null;case 22:case 23:return Tc(),null;case 24:return null;default:return null}}var sa=!1,Nt=!1,gy=typeof WeakSet=="function"?WeakSet:Set,he=null;function ws(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){et(e,n,u)}else s.current=null}function cc(e,n,s){try{s()}catch(u){et(e,n,u)}}var vd=!1;function yy(e,n){if(Tu=Ar,e=Kh(),pu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,P=-1,N=-1,H=0,ne=0,ie=e,te=null;t:for(;;){for(var ce;ie!==s||h!==0&&ie.nodeType!==3||(P=_+h),ie!==d||u!==0&&ie.nodeType!==3||(N=_+u),ie.nodeType===3&&(_+=ie.nodeValue.length),(ce=ie.firstChild)!==null;)te=ie,ie=ce;for(;;){if(ie===e)break t;if(te===s&&++H===h&&(P=_),te===d&&++ne===u&&(N=_),(ce=ie.nextSibling)!==null)break;ie=te,te=ie.parentNode}ie=ce}s=P===-1||N===-1?null:{start:P,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(Su={focusedElem:e,selectionRange:s},Ar=!1,he=n;he!==null;)if(n=he,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,he=e;else for(;he!==null;){n=he;try{var fe=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,it=fe.memoizedState,U=n.stateNode,M=U.getSnapshotBeforeUpdate(n.elementType===n.type?pe:Cn(n.type,pe),it);U.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var z=n.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(se){et(n,n.return,se)}if(e=n.sibling,e!==null){e.return=n.return,he=e;break}he=n.return}return fe=vd,vd=!1,fe}function Do(e,n,s){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var d=h.destroy;h.destroy=void 0,d!==void 0&&cc(n,s,d)}h=h.next}while(h!==u)}}function oa(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var u=s.create;s.destroy=u()}s=s.next}while(s!==n)}}function hc(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function _d(e){var n=e.alternate;n!==null&&(e.alternate=null,_d(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Bn],delete n[wo],delete n[Pu],delete n[Zg],delete n[ey])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ed(e){return e.tag===5||e.tag===3||e.tag===4}function wd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fc(e,n,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Fl));else if(u!==4&&(e=e.child,e!==null))for(fc(e,n,s),e=e.sibling;e!==null;)fc(e,n,s),e=e.sibling}function dc(e,n,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(dc(e,n,s),e=e.sibling;e!==null;)dc(e,n,s),e=e.sibling}var Tt=null,Pn=!1;function Mr(e,n,s){for(s=s.child;s!==null;)Td(e,n,s),s=s.sibling}function Td(e,n,s){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ri,s)}catch{}switch(s.tag){case 5:Nt||ws(s,n);case 6:var u=Tt,h=Pn;Tt=null,Mr(e,n,s),Tt=u,Pn=h,Tt!==null&&(Pn?(e=Tt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Tt.removeChild(s.stateNode));break;case 18:Tt!==null&&(Pn?(e=Tt,s=s.stateNode,e.nodeType===8?Cu(e.parentNode,s):e.nodeType===1&&Cu(e,s),Tn(e)):Cu(Tt,s.stateNode));break;case 4:u=Tt,h=Pn,Tt=s.stateNode.containerInfo,Pn=!0,Mr(e,n,s),Tt=u,Pn=h;break;case 0:case 11:case 14:case 15:if(!Nt&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var d=h,_=d.destroy;d=d.tag,_!==void 0&&((d&2)!==0||(d&4)!==0)&&cc(s,n,_),h=h.next}while(h!==u)}Mr(e,n,s);break;case 1:if(!Nt&&(ws(s,n),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(P){et(s,n,P)}Mr(e,n,s);break;case 21:Mr(e,n,s);break;case 22:s.mode&1?(Nt=(u=Nt)||s.memoizedState!==null,Mr(e,n,s),Nt=u):Mr(e,n,s);break;default:Mr(e,n,s)}}function Sd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new gy),n.forEach(function(u){var h=Cy.bind(null,e,u);s.has(u)||(s.add(u),u.then(h,h))})}}function Rn(e,n){var s=n.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];try{var d=e,_=n,P=_;e:for(;P!==null;){switch(P.tag){case 5:Tt=P.stateNode,Pn=!1;break e;case 3:Tt=P.stateNode.containerInfo,Pn=!0;break e;case 4:Tt=P.stateNode.containerInfo,Pn=!0;break e}P=P.return}if(Tt===null)throw Error(r(160));Td(d,_,h),Tt=null,Pn=!1;var N=h.alternate;N!==null&&(N.return=null),h.return=null}catch(H){et(h,n,H)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Id(n,e),n=n.sibling}function Id(e,n){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rn(n,e),Hn(e),u&4){try{Do(3,e,e.return),oa(3,e)}catch(pe){et(e,e.return,pe)}try{Do(5,e,e.return)}catch(pe){et(e,e.return,pe)}}break;case 1:Rn(n,e),Hn(e),u&512&&s!==null&&ws(s,s.return);break;case 5:if(Rn(n,e),Hn(e),u&512&&s!==null&&ws(s,s.return),e.flags&32){var h=e.stateNode;try{yr(h,"")}catch(pe){et(e,e.return,pe)}}if(u&4&&(h=e.stateNode,h!=null)){var d=e.memoizedProps,_=s!==null?s.memoizedProps:d,P=e.type,N=e.updateQueue;if(e.updateQueue=null,N!==null)try{P==="input"&&d.type==="radio"&&d.name!=null&&zs(h,d),Ys(P,_);var H=Ys(P,d);for(_=0;_<N.length;_+=2){var ne=N[_],ie=N[_+1];ne==="style"?Gs(h,ie):ne==="dangerouslySetInnerHTML"?Qs(h,ie):ne==="children"?yr(h,ie):Q(h,ne,ie,H)}switch(P){case"input":$s(h,d);break;case"textarea":Fi(h,d);break;case"select":var te=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var ce=d.value;ce!=null?Xn(h,!!d.multiple,ce,!1):te!==!!d.multiple&&(d.defaultValue!=null?Xn(h,!!d.multiple,d.defaultValue,!0):Xn(h,!!d.multiple,d.multiple?[]:"",!1))}h[wo]=d}catch(pe){et(e,e.return,pe)}}break;case 6:if(Rn(n,e),Hn(e),u&4){if(e.stateNode===null)throw Error(r(162));h=e.stateNode,d=e.memoizedProps;try{h.nodeValue=d}catch(pe){et(e,e.return,pe)}}break;case 3:if(Rn(n,e),Hn(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Tn(n.containerInfo)}catch(pe){et(e,e.return,pe)}break;case 4:Rn(n,e),Hn(e);break;case 13:Rn(n,e),Hn(e),h=e.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(gc=ze())),u&4&&Sd(e);break;case 22:if(ne=s!==null&&s.memoizedState!==null,e.mode&1?(Nt=(H=Nt)||ne,Rn(n,e),Nt=H):Rn(n,e),Hn(e),u&8192){if(H=e.memoizedState!==null,(e.stateNode.isHidden=H)&&!ne&&(e.mode&1)!==0)for(he=e,ne=e.child;ne!==null;){for(ie=he=ne;he!==null;){switch(te=he,ce=te.child,te.tag){case 0:case 11:case 14:case 15:Do(4,te,te.return);break;case 1:ws(te,te.return);var fe=te.stateNode;if(typeof fe.componentWillUnmount=="function"){u=te,s=te.return;try{n=u,fe.props=n.memoizedProps,fe.state=n.memoizedState,fe.componentWillUnmount()}catch(pe){et(u,s,pe)}}break;case 5:ws(te,te.return);break;case 22:if(te.memoizedState!==null){Pd(ie);continue}}ce!==null?(ce.return=te,he=ce):Pd(ie)}ne=ne.sibling}e:for(ne=null,ie=e;;){if(ie.tag===5){if(ne===null){ne=ie;try{h=ie.stateNode,H?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(P=ie.stateNode,N=ie.memoizedProps.style,_=N!=null&&N.hasOwnProperty("display")?N.display:null,P.style.display=qs("display",_))}catch(pe){et(e,e.return,pe)}}}else if(ie.tag===6){if(ne===null)try{ie.stateNode.nodeValue=H?"":ie.memoizedProps}catch(pe){et(e,e.return,pe)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===e)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===e)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===e)break e;ne===ie&&(ne=null),ie=ie.return}ne===ie&&(ne=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Rn(n,e),Hn(e),u&4&&Sd(e);break;case 21:break;default:Rn(n,e),Hn(e)}}function Hn(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Ed(s)){var u=s;break e}s=s.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(yr(h,""),u.flags&=-33);var d=wd(e);dc(e,d,h);break;case 3:case 4:var _=u.stateNode.containerInfo,P=wd(e);fc(e,P,_);break;default:throw Error(r(161))}}catch(N){et(e,e.return,N)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function vy(e,n,s){he=e,Ad(e)}function Ad(e,n,s){for(var u=(e.mode&1)!==0;he!==null;){var h=he,d=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||sa;if(!_){var P=h.alternate,N=P!==null&&P.memoizedState!==null||Nt;P=sa;var H=Nt;if(sa=_,(Nt=N)&&!H)for(he=h;he!==null;)_=he,N=_.child,_.tag===22&&_.memoizedState!==null?Rd(h):N!==null?(N.return=_,he=N):Rd(h);for(;d!==null;)he=d,Ad(d),d=d.sibling;he=h,sa=P,Nt=H}Cd(e)}else(h.subtreeFlags&8772)!==0&&d!==null?(d.return=h,he=d):Cd(e)}}function Cd(e){for(;he!==null;){var n=he;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Nt||oa(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!Nt)if(s===null)u.componentDidMount();else{var h=n.elementType===n.type?s.memoizedProps:Cn(n.type,s.memoizedProps);u.componentDidUpdate(h,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Pf(n,d,u);break;case 3:var _=n.updateQueue;if(_!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Pf(n,_,s)}break;case 5:var P=n.stateNode;if(s===null&&n.flags&4){s=P;var N=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&s.focus();break;case"img":N.src&&(s.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var H=n.alternate;if(H!==null){var ne=H.memoizedState;if(ne!==null){var ie=ne.dehydrated;ie!==null&&Tn(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Nt||n.flags&512&&hc(n)}catch(te){et(n,n.return,te)}}if(n===e){he=null;break}if(s=n.sibling,s!==null){s.return=n.return,he=s;break}he=n.return}}function Pd(e){for(;he!==null;){var n=he;if(n===e){he=null;break}var s=n.sibling;if(s!==null){s.return=n.return,he=s;break}he=n.return}}function Rd(e){for(;he!==null;){var n=he;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{oa(4,n)}catch(N){et(n,s,N)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(N){et(n,h,N)}}var d=n.return;try{hc(n)}catch(N){et(n,d,N)}break;case 5:var _=n.return;try{hc(n)}catch(N){et(n,_,N)}}}catch(N){et(n,n.return,N)}if(n===e){he=null;break}var P=n.sibling;if(P!==null){P.return=n.return,he=P;break}he=n.return}}var _y=Math.ceil,la=B.ReactCurrentDispatcher,pc=B.ReactCurrentOwner,dn=B.ReactCurrentBatchConfig,Oe=0,gt=null,ot=null,St=0,rn=0,Ts=kr(0),dt=0,Vo=null,yi=0,aa=0,mc=0,Mo=null,Qt=null,gc=0,Ss=1/0,hr=null,ua=!1,yc=null,Or=null,ca=!1,Lr=null,ha=0,Oo=0,vc=null,fa=-1,da=0;function Ut(){return(Oe&6)!==0?ze():fa!==-1?fa:fa=ze()}function Fr(e){return(e.mode&1)===0?1:(Oe&2)!==0&&St!==0?St&-St:ny.transition!==null?(da===0&&(da=si()),da):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:ao(e.type)),e)}function kn(e,n,s,u){if(50<Oo)throw Oo=0,vc=null,Error(r(185));wr(e,s,u),((Oe&2)===0||e!==gt)&&(e===gt&&((Oe&2)===0&&(aa|=s),dt===4&&jr(e,St)),qt(e,u),s===1&&Oe===0&&(n.mode&1)===0&&(Ss=ze()+500,Bl&&Nr()))}function qt(e,n){var s=e.callbackNode;Zn(e,n);var u=ii(e,e===gt?St:0);if(u===0)s!==null&&ro(s),e.callbackNode=null,e.callbackPriority=0;else if(n=u&-u,e.callbackPriority!==n){if(s!=null&&ro(s),n===1)e.tag===0?ty(xd.bind(null,e)):mf(xd.bind(null,e)),Yg(function(){(Oe&6)===0&&Nr()}),s=null;else{switch(Sr(u)){case 1:s=ni;break;case 4:s=vr;break;case 16:s=on;break;case 536870912:s=dl;break;default:s=on}s=jd(s,kd.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function kd(e,n){if(fa=-1,da=0,(Oe&6)!==0)throw Error(r(327));var s=e.callbackNode;if(Is()&&e.callbackNode!==s)return null;var u=ii(e,e===gt?St:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||n)n=pa(e,u);else{n=u;var h=Oe;Oe|=2;var d=Dd();(gt!==e||St!==n)&&(hr=null,Ss=ze()+500,_i(e,n));do try{Ty();break}catch(P){Nd(e,P)}while(!0);Lu(),la.current=d,Oe=h,ot!==null?n=0:(gt=null,St=0,n=dt)}if(n!==0){if(n===2&&(h=Jt(e),h!==0&&(u=h,n=_c(e,h))),n===1)throw s=Vo,_i(e,0),jr(e,u),qt(e,ze()),s;if(n===6)jr(e,u);else{if(h=e.current.alternate,(u&30)===0&&!Ey(h)&&(n=pa(e,u),n===2&&(d=Jt(e),d!==0&&(u=d,n=_c(e,d))),n===1))throw s=Vo,_i(e,0),jr(e,u),qt(e,ze()),s;switch(e.finishedWork=h,e.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:Ei(e,Qt,hr);break;case 3:if(jr(e,u),(u&130023424)===u&&(n=gc+500-ze(),10<n)){if(ii(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){Ut(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Au(Ei.bind(null,e,Qt,hr),n);break}Ei(e,Qt,hr);break;case 4:if(jr(e,u),(u&4194240)===u)break;for(n=e.eventTimes,h=-1;0<u;){var _=31-Ft(u);d=1<<_,_=n[_],_>h&&(h=_),u&=~d}if(u=h,u=ze()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*_y(u/1960))-u,10<u){e.timeoutHandle=Au(Ei.bind(null,e,Qt,hr),u);break}Ei(e,Qt,hr);break;case 5:Ei(e,Qt,hr);break;default:throw Error(r(329))}}}return qt(e,ze()),e.callbackNode===s?kd.bind(null,e):null}function _c(e,n){var s=Mo;return e.current.memoizedState.isDehydrated&&(_i(e,n).flags|=256),e=pa(e,n),e!==2&&(n=Qt,Qt=s,n!==null&&Ec(n)),e}function Ec(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function Ey(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var h=s[u],d=h.getSnapshot;h=h.value;try{if(!In(d(),h))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function jr(e,n){for(n&=~mc,n&=~aa,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Ft(n),u=1<<s;e[s]=-1,n&=~u}}function xd(e){if((Oe&6)!==0)throw Error(r(327));Is();var n=ii(e,0);if((n&1)===0)return qt(e,ze()),null;var s=pa(e,n);if(e.tag!==0&&s===2){var u=Jt(e);u!==0&&(n=u,s=_c(e,u))}if(s===1)throw s=Vo,_i(e,0),jr(e,n),qt(e,ze()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Ei(e,Qt,hr),qt(e,ze()),null}function wc(e,n){var s=Oe;Oe|=1;try{return e(n)}finally{Oe=s,Oe===0&&(Ss=ze()+500,Bl&&Nr())}}function vi(e){Lr!==null&&Lr.tag===0&&(Oe&6)===0&&Is();var n=Oe;Oe|=1;var s=dn.transition,u=Ne;try{if(dn.transition=null,Ne=1,e)return e()}finally{Ne=u,dn.transition=s,Oe=n,(Oe&6)===0&&Nr()}}function Tc(){rn=Ts.current,Qe(Ts)}function _i(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Xg(s)),ot!==null)for(s=ot.return;s!==null;){var u=s;switch(Nu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&bl();break;case 3:_s(),Qe($t),Qe(Rt),Hu();break;case 5:zu(u);break;case 4:_s();break;case 13:Qe(Ye);break;case 19:Qe(Ye);break;case 10:Fu(u.type._context);break;case 22:case 23:Tc()}s=s.return}if(gt=e,ot=e=br(e.current,null),St=rn=n,dt=0,Vo=null,mc=aa=yi=0,Qt=Mo=null,pi!==null){for(n=0;n<pi.length;n++)if(s=pi[n],u=s.interleaved,u!==null){s.interleaved=null;var h=u.next,d=s.pending;if(d!==null){var _=d.next;d.next=h,u.next=_}s.pending=u}pi=null}return e}function Nd(e,n){do{var s=ot;try{if(Lu(),Yl.current=ta,Jl){for(var u=Je.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Jl=!1}if(gi=0,mt=ft=Je=null,Po=!1,Ro=0,pc.current=null,s===null||s.return===null){dt=1,Vo=n,ot=null;break}e:{var d=e,_=s.return,P=s,N=n;if(n=St,P.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var H=N,ne=P,ie=ne.tag;if((ne.mode&1)===0&&(ie===0||ie===11||ie===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ce=nd(_);if(ce!==null){ce.flags&=-257,rd(ce,_,P,d,n),ce.mode&1&&td(d,H,n),n=ce,N=H;var fe=n.updateQueue;if(fe===null){var pe=new Set;pe.add(N),n.updateQueue=pe}else fe.add(N);break e}else{if((n&1)===0){td(d,H,n),Sc();break e}N=Error(r(426))}}else if(Ge&&P.mode&1){var it=nd(_);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),rd(it,_,P,d,n),Mu(Es(N,P));break e}}d=N=Es(N,P),dt!==4&&(dt=2),Mo===null?Mo=[d]:Mo.push(d),d=_;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var U=Zf(d,N,n);Cf(d,U);break e;case 1:P=N;var M=d.type,z=d.stateNode;if((d.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Or===null||!Or.has(z)))){d.flags|=65536,n&=-n,d.lanes|=n;var se=ed(d,P,n);Cf(d,se);break e}}d=d.return}while(d!==null)}Md(s)}catch(ge){n=ge,ot===s&&s!==null&&(ot=s=s.return);continue}break}while(!0)}function Dd(){var e=la.current;return la.current=ta,e===null?ta:e}function Sc(){(dt===0||dt===3||dt===2)&&(dt=4),gt===null||(yi&268435455)===0&&(aa&268435455)===0||jr(gt,St)}function pa(e,n){var s=Oe;Oe|=2;var u=Dd();(gt!==e||St!==n)&&(hr=null,_i(e,n));do try{wy();break}catch(h){Nd(e,h)}while(!0);if(Lu(),Oe=s,la.current=u,ot!==null)throw Error(r(261));return gt=null,St=0,dt}function wy(){for(;ot!==null;)Vd(ot)}function Ty(){for(;ot!==null&&!hl();)Vd(ot)}function Vd(e){var n=Fd(e.alternate,e,rn);e.memoizedProps=e.pendingProps,n===null?Md(e):ot=n,pc.current=null}function Md(e){var n=e;do{var s=n.alternate;if(e=n.return,(n.flags&32768)===0){if(s=py(s,n,rn),s!==null){ot=s;return}}else{if(s=my(s,n),s!==null){s.flags&=32767,ot=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,ot=null;return}}if(n=n.sibling,n!==null){ot=n;return}ot=n=e}while(n!==null);dt===0&&(dt=5)}function Ei(e,n,s){var u=Ne,h=dn.transition;try{dn.transition=null,Ne=1,Sy(e,n,s,u)}finally{dn.transition=h,Ne=u}return null}function Sy(e,n,s,u){do Is();while(Lr!==null);if((Oe&6)!==0)throw Error(r(327));s=e.finishedWork;var h=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(Ue(e,d),e===gt&&(ot=gt=null,St=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||ca||(ca=!0,jd(on,function(){return Is(),null})),d=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||d){d=dn.transition,dn.transition=null;var _=Ne;Ne=1;var P=Oe;Oe|=4,pc.current=null,yy(e,s),Id(s,e),$g(Su),Ar=!!Tu,Su=Tu=null,e.current=s,vy(s),ou(),Oe=P,Ne=_,dn.transition=d}else e.current=s;if(ca&&(ca=!1,Lr=e,ha=h),d=e.pendingLanes,d===0&&(Or=null),pl(s.stateNode),qt(e,ze()),n!==null)for(u=e.onRecoverableError,s=0;s<n.length;s++)h=n[s],u(h.value,{componentStack:h.stack,digest:h.digest});if(ua)throw ua=!1,e=yc,yc=null,e;return(ha&1)!==0&&e.tag!==0&&Is(),d=e.pendingLanes,(d&1)!==0?e===vc?Oo++:(Oo=0,vc=e):Oo=0,Nr(),null}function Is(){if(Lr!==null){var e=Sr(ha),n=dn.transition,s=Ne;try{if(dn.transition=null,Ne=16>e?16:e,Lr===null)var u=!1;else{if(e=Lr,Lr=null,ha=0,(Oe&6)!==0)throw Error(r(331));var h=Oe;for(Oe|=4,he=e.current;he!==null;){var d=he,_=d.child;if((he.flags&16)!==0){var P=d.deletions;if(P!==null){for(var N=0;N<P.length;N++){var H=P[N];for(he=H;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:Do(8,ne,d)}var ie=ne.child;if(ie!==null)ie.return=ne,he=ie;else for(;he!==null;){ne=he;var te=ne.sibling,ce=ne.return;if(_d(ne),ne===H){he=null;break}if(te!==null){te.return=ce,he=te;break}he=ce}}}var fe=d.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var it=pe.sibling;pe.sibling=null,pe=it}while(pe!==null)}}he=d}}if((d.subtreeFlags&2064)!==0&&_!==null)_.return=d,he=_;else e:for(;he!==null;){if(d=he,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Do(9,d,d.return)}var U=d.sibling;if(U!==null){U.return=d.return,he=U;break e}he=d.return}}var M=e.current;for(he=M;he!==null;){_=he;var z=_.child;if((_.subtreeFlags&2064)!==0&&z!==null)z.return=_,he=z;else e:for(_=M;he!==null;){if(P=he,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:oa(9,P)}}catch(ge){et(P,P.return,ge)}if(P===_){he=null;break e}var se=P.sibling;if(se!==null){se.return=P.return,he=se;break e}he=P.return}}if(Oe=h,Nr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ri,e)}catch{}u=!0}return u}finally{Ne=s,dn.transition=n}}return!1}function Od(e,n,s){n=Es(s,n),n=Zf(e,n,1),e=Vr(e,n,1),n=Ut(),e!==null&&(wr(e,1,n),qt(e,n))}function et(e,n,s){if(e.tag===3)Od(e,e,s);else for(;n!==null;){if(n.tag===3){Od(n,e,s);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Or===null||!Or.has(u))){e=Es(s,e),e=ed(n,e,1),n=Vr(n,e,1),e=Ut(),n!==null&&(wr(n,1,e),qt(n,e));break}}n=n.return}}function Iy(e,n,s){var u=e.pingCache;u!==null&&u.delete(n),n=Ut(),e.pingedLanes|=e.suspendedLanes&s,gt===e&&(St&s)===s&&(dt===4||dt===3&&(St&130023424)===St&&500>ze()-gc?_i(e,0):mc|=s),qt(e,n)}function Ld(e,n){n===0&&((e.mode&1)===0?n=1:(n=qi,qi<<=1,(qi&130023424)===0&&(qi=4194304)));var s=Ut();e=ar(e,n),e!==null&&(wr(e,n,s),qt(e,s))}function Ay(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ld(e,s)}function Cy(e,n){var s=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),Ld(e,s)}var Fd;Fd=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||$t.current)Wt=!0;else{if((e.lanes&s)===0&&(n.flags&128)===0)return Wt=!1,dy(e,n,s);Wt=(e.flags&131072)!==0}else Wt=!1,Ge&&(n.flags&1048576)!==0&&gf(n,$l,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;ia(e,n),e=n.pendingProps;var h=fs(n,Rt.current);vs(n,s),h=qu(null,n,u,e,h,s);var d=Gu();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ht(u)?(d=!0,Ul(n)):d=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Uu(n),h.updater=na,n.stateNode=h,h._reactInternals=n,ec(n,u,e,s),n=ic(null,n,u,!0,d,s)):(n.tag=0,Ge&&d&&xu(n),bt(null,n,h,s),n=n.child),n;case 16:u=n.elementType;e:{switch(ia(e,n),e=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=Ry(u),e=Cn(u,e),h){case 0:n=rc(null,n,u,e,s);break e;case 1:n=ud(null,n,u,e,s);break e;case 11:n=id(null,n,u,e,s);break e;case 14:n=sd(null,n,u,Cn(u.type,e),s);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Cn(u,h),rc(e,n,u,h,s);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Cn(u,h),ud(e,n,u,h,s);case 3:e:{if(cd(n),e===null)throw Error(r(387));u=n.pendingProps,d=n.memoizedState,h=d.element,Af(e,n),Kl(n,u,null,s);var _=n.memoizedState;if(u=_.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){h=Es(Error(r(423)),n),n=hd(e,n,u,s,h);break e}else if(u!==h){h=Es(Error(r(424)),n),n=hd(e,n,u,s,h);break e}else for(nn=Rr(n.stateNode.containerInfo.firstChild),tn=n,Ge=!0,An=null,s=Sf(n,null,u,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ms(),u===h){n=cr(e,n,s);break e}bt(e,n,u,s)}n=n.child}return n;case 5:return Rf(n),e===null&&Vu(n),u=n.type,h=n.pendingProps,d=e!==null?e.memoizedProps:null,_=h.children,Iu(u,h)?_=null:d!==null&&Iu(u,d)&&(n.flags|=32),ad(e,n),bt(e,n,_,s),n.child;case 6:return e===null&&Vu(n),null;case 13:return fd(e,n,s);case 4:return Bu(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=gs(n,null,u,s):bt(e,n,u,s),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Cn(u,h),id(e,n,u,h,s);case 7:return bt(e,n,n.pendingProps,s),n.child;case 8:return bt(e,n,n.pendingProps.children,s),n.child;case 12:return bt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,d=n.memoizedProps,_=h.value,$e(Ql,u._currentValue),u._currentValue=_,d!==null)if(In(d.value,_)){if(d.children===h.children&&!$t.current){n=cr(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var P=d.dependencies;if(P!==null){_=d.child;for(var N=P.firstContext;N!==null;){if(N.context===u){if(d.tag===1){N=ur(-1,s&-s),N.tag=2;var H=d.updateQueue;if(H!==null){H=H.shared;var ne=H.pending;ne===null?N.next=N:(N.next=ne.next,ne.next=N),H.pending=N}}d.lanes|=s,N=d.alternate,N!==null&&(N.lanes|=s),ju(d.return,s,n),P.lanes|=s;break}N=N.next}}else if(d.tag===10)_=d.type===n.type?null:d.child;else if(d.tag===18){if(_=d.return,_===null)throw Error(r(341));_.lanes|=s,P=_.alternate,P!==null&&(P.lanes|=s),ju(_,s,n),_=d.sibling}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===n){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}bt(e,n,h.children,s),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,vs(n,s),h=hn(h),u=u(h),n.flags|=1,bt(e,n,u,s),n.child;case 14:return u=n.type,h=Cn(u,n.pendingProps),h=Cn(u.type,h),sd(e,n,u,h,s);case 15:return od(e,n,n.type,n.pendingProps,s);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Cn(u,h),ia(e,n),n.tag=1,Ht(u)?(e=!0,Ul(n)):e=!1,vs(n,s),Yf(n,u,h),ec(n,u,h,s),ic(null,n,u,!0,e,s);case 19:return pd(e,n,s);case 22:return ld(e,n,s)}throw Error(r(156,n.tag))};function jd(e,n){return Wi(e,n)}function Py(e,n,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,s,u){return new Py(e,n,s,u)}function Ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ry(e){if(typeof e=="function")return Ic(e)?1:0;if(e!=null){if(e=e.$$typeof,e===V)return 11;if(e===K)return 14}return 2}function br(e,n){var s=e.alternate;return s===null?(s=pn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function ma(e,n,s,u,h,d){var _=2;if(u=e,typeof e=="function")Ic(e)&&(_=1);else if(typeof e=="string")_=5;else e:switch(e){case C:return wi(s.children,h,d,n);case I:_=8,h|=8;break;case A:return e=pn(12,s,n,h|2),e.elementType=A,e.lanes=d,e;case R:return e=pn(13,s,n,h),e.elementType=R,e.lanes=d,e;case Pe:return e=pn(19,s,n,h),e.elementType=Pe,e.lanes=d,e;case ye:return ga(s,h,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:_=10;break e;case D:_=9;break e;case V:_=11;break e;case K:_=14;break e;case ae:_=16,u=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=pn(_,s,n,h),n.elementType=e,n.type=u,n.lanes=d,n}function wi(e,n,s,u){return e=pn(7,e,u,n),e.lanes=s,e}function ga(e,n,s,u){return e=pn(22,e,u,n),e.elementType=ye,e.lanes=s,e.stateNode={isHidden:!1},e}function Ac(e,n,s){return e=pn(6,e,null,n),e.lanes=s,e}function Cc(e,n,s){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ky(e,n,s,u,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Er(0),this.expirationTimes=Er(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Er(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Pc(e,n,s,u,h,d,_,P,N){return e=new ky(e,n,s,P,N),n===1?(n=1,d===!0&&(n|=8)):n=0,d=pn(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uu(d),e}function xy(e,n,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:u==null?null:""+u,children:e,containerInfo:n,implementation:s}}function bd(e){if(!e)return xr;e=e._reactInternals;e:{if(yn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ht(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(Ht(s))return df(e,s,n)}return n}function Ud(e,n,s,u,h,d,_,P,N){return e=Pc(s,u,!0,e,h,d,_,P,N),e.context=bd(null),s=e.current,u=Ut(),h=Fr(s),d=ur(u,h),d.callback=n??null,Vr(s,d,h),e.current.lanes=h,wr(e,h,u),qt(e,u),e}function ya(e,n,s,u){var h=n.current,d=Ut(),_=Fr(h);return s=bd(s),n.context===null?n.context=s:n.pendingContext=s,n=ur(d,_),n.payload={element:e},u=u===void 0?null:u,u!==null&&(n.callback=u),e=Vr(h,n,_),e!==null&&(kn(e,h,_,d),Gl(e,h,_)),_}function va(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Rc(e,n){Bd(e,n),(e=e.alternate)&&Bd(e,n)}function Ny(){return null}var zd=typeof reportError=="function"?reportError:function(e){console.error(e)};function kc(e){this._internalRoot=e}_a.prototype.render=kc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));ya(e,n,null,null)},_a.prototype.unmount=kc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;vi(function(){ya(null,e,null,null)}),n[ir]=null}};function _a(e){this._internalRoot=e}_a.prototype.unstable_scheduleHydration=function(e){if(e){var n=_l();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Fn.length&&n!==0&&n<Fn[s].priority;s++);Fn.splice(s,0,e),s===0&&Tl(e)}};function xc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ea(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $d(){}function Dy(e,n,s,u,h){if(h){if(typeof u=="function"){var d=u;u=function(){var H=va(_);d.call(H)}}var _=Ud(n,u,e,0,null,!1,!1,"",$d);return e._reactRootContainer=_,e[ir]=_.current,_o(e.nodeType===8?e.parentNode:e),vi(),_}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var P=u;u=function(){var H=va(N);P.call(H)}}var N=Pc(e,0,!1,null,null,!1,!1,"",$d);return e._reactRootContainer=N,e[ir]=N.current,_o(e.nodeType===8?e.parentNode:e),vi(function(){ya(n,N,s,u)}),N}function wa(e,n,s,u,h){var d=s._reactRootContainer;if(d){var _=d;if(typeof h=="function"){var P=h;h=function(){var N=va(_);P.call(N)}}ya(n,_,e,h)}else _=Dy(s,n,e,h,u);return va(_)}yl=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=_r(n.pendingLanes);s!==0&&(Tr(n,s|1),qt(n,ze()),(Oe&6)===0&&(Ss=ze()+500,Nr()))}break;case 13:vi(function(){var u=ar(e,1);if(u!==null){var h=Ut();kn(u,e,1,h)}}),Rc(e,1)}},Gi=function(e){if(e.tag===13){var n=ar(e,134217728);if(n!==null){var s=Ut();kn(n,e,134217728,s)}Rc(e,134217728)}},vl=function(e){if(e.tag===13){var n=Fr(e),s=ar(e,n);if(s!==null){var u=Ut();kn(s,e,n,u)}Rc(e,n)}},_l=function(){return Ne},El=function(e,n){var s=Ne;try{return Ne=e,n()}finally{Ne=s}},bi=function(e,n,s){switch(n){case"input":if($s(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var u=s[n];if(u!==e&&u.form===e.form){var h=jl(u);if(!h)throw Error(r(90));Vi(u),$s(u,h)}}}break;case"textarea":Fi(e,s);break;case"select":n=s.value,n!=null&&Xn(e,!!s.multiple,n,!1)}},Jr=wc,Zs=vi;var Vy={usingClientEntryPoint:!1,Events:[To,cs,jl,On,Js,wc]},Lo={findFiberByHostInstance:ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},My={bundleType:Lo.bundleType,version:Lo.version,rendererPackageName:Lo.rendererPackageName,rendererConfig:Lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=no(e),e===null?null:e.stateNode},findFiberByHostInstance:Lo.findFiberByHostInstance||Ny,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ta.isDisabled&&Ta.supportsFiber)try{ri=Ta.inject(My),Yt=Ta}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vy,Gt.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xc(n))throw Error(r(200));return xy(e,n,null,s)},Gt.createRoot=function(e,n){if(!xc(e))throw Error(r(299));var s=!1,u="",h=zd;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=Pc(e,1,!1,null,null,s,!1,u,h),e[ir]=n.current,_o(e.nodeType===8?e.parentNode:e),new kc(n)},Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=no(n),e=e===null?null:e.stateNode,e},Gt.flushSync=function(e){return vi(e)},Gt.hydrate=function(e,n,s){if(!Ea(n))throw Error(r(200));return wa(null,e,n,!0,s)},Gt.hydrateRoot=function(e,n,s){if(!xc(e))throw Error(r(405));var u=s!=null&&s.hydratedSources||null,h=!1,d="",_=zd;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),n=Ud(n,null,e,1,s??null,h,!1,d,_),e[ir]=n.current,_o(e),u)for(e=0;e<u.length;e++)s=u[e],h=s._getVersion,h=h(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,h]:n.mutableSourceEagerHydrationData.push(s,h);return new _a(n)},Gt.render=function(e,n,s){if(!Ea(n))throw Error(r(200));return wa(null,e,n,!1,s)},Gt.unmountComponentAtNode=function(e){if(!Ea(e))throw Error(r(40));return e._reactRootContainer?(vi(function(){wa(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1},Gt.unstable_batchedUpdates=wc,Gt.unstable_renderSubtreeIntoContainer=function(e,n,s,u){if(!Ea(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return wa(e,n,s,!1,u)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Yd;function zy(){if(Yd)return Vc.exports;Yd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Vc.exports=By(),Vc.exports}var Jd;function $y(){if(Jd)return Sa;Jd=1;var i=zy();return Sa.createRoot=i.createRoot,Sa.hydrateRoot=i.hydrateRoot,Sa}var Hy=$y();const Wy=em(Hy),tm={id:"demo",lang:"es",brands:[{name:"Don Simon",color:"#0D1B2A"},{name:"Haciendo"},{name:"Alpiendo"},{name:"Granini"},{name:"IDEAL",color:"#2CAFBF"}],attributes:[{id:"taste",labelEs:"Sabor",labelEn:"Taste"},{id:"pack",labelEs:"Envase til",labelEn:"Convenient packaging"},{id:"nat",labelEs:"Naturalidad (%)",labelEn:"Naturalness (%)"},{id:"nopulp",labelEs:"Sin poso",labelEn:"No pulp/residue"},{id:"color",labelEs:"Color",labelEn:"Color"},{id:"price",labelEs:"Precio",labelEn:"Price",reversed:!0},{id:"aroma",labelEs:"Aroma",labelEn:"Smell"}],benchmark:"IDEAL",responses:[]},nm=Be.createContext({project:tm,setProject:()=>{}});function Fs(){return Be.useContext(nm)}function Qy({children:i}){const t=localStorage.getItem("posicionamiento_project_v3"),[r,o]=Be.useState(t?JSON.parse(t):tm);function a(c){localStorage.setItem("posicionamiento_project_v3",JSON.stringify(c)),o(c)}return $.jsx(nm.Provider,{value:{project:r,setProject:a},children:i})}function qy(i){const t=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.download="posicionamiento_project.json",o.click(),URL.revokeObjectURL(r)}function Gy(i,t){const r=new FileReader;r.onload=()=>{try{const o=JSON.parse(String(r.result));t(o)}catch{alert("JSON invlido")}},r.readAsText(i)}const Ky={appTitle:"Posicionamiento (Web)",homeTitle:"Mapa perceptual",homeIntro:`Bienvenido/a a POSICIONAMIENTO (PCA / PrefMap).
  
  Esta aplicacin permite generar mapas perceptuales en 2D mediante PCA y PrefMap.
  
  Cmo empezar:
  1. Introduce marcas y atributos manualmente en la seccin DATOS.
  2. Si tienes un anlisis previo, puedes cargarlo con la opcin Importar JSON.
  3. Revisa o edita la matriz de atributos.
  4. Ve a RESULTADOS para generar el mapa PCA.
  5. Si el archivo JSON incluye preferencias, se mostrarn vectores PrefMap.
  6. Guarda mapas y tablas usando Imprimir / PDF.
  
  Para ms detalles, consulta el Manual Tcnico.`,language:"Idioma",es:"Espaol",en:"English",designer:"Diseador",survey:"Encuesta",map2d:"Mapa de Posicionamiento",map3d:"Mapa 3D (futuro)",results:"Resultados",brands:"Marcas",attributes:"Atributos",add:"Aadir",name:"Nombre",reversed:"Inverso",priceNote:"Para el precio, valores ms bajos se interpretan como mejores.",importance:"Importancia (15)",performance:"Desempeo (15)",brand:"Marca",attribute:"Atributo",submit:"Enviar respuesta",responses:"Respuestas",export:"Exportar JSON",import:"Importar JSON",clear:"Limpiar",distToIdeal:"Distancias a la marca IDEAL",benchmark:"Marca de referencia",print:"Imprimir / PDF",mapHint:"Pasa el ratn por las marcas para ver distancias a IDEAL y a los atributos seleccionados."},Xy={appTitle:"Positioning (Web)",homeTitle:"Perceptual map",homeIntro:`Welcome to POSICIONAMIENTO (PCA / PrefMap).
  
  This lab lets you generate 2D perceptual maps using PCA and PrefMap.
  
  Getting started:
  1. Enter brands and attributes manually in the DATA section.
  2. If you have a previous analysis, load it using the Import JSON option.
  3. Review or edit the attribute matrix.
  4. Go to RESULTS to generate the PCA map.
  5. If your JSON file includes preferences, PrefMap vectors will be displayed.
  6. Save maps and tables using Print / PDF.
  
  For more details, see the Technical Manual.`,language:"Language",es:"Spanish",en:"English",designer:"Designer",survey:"Survey",map2d:"Positioning Map",map3d:"3D map (future)",results:"Results",brands:"Brands",attributes:"Attributes",add:"Add",name:"Name",reversed:"Reversed",priceNote:"For price, lower values are interpreted as better.",importance:"Importance (15)",performance:"Performance (15)",brand:"Brand",attribute:"Attribute",submit:"Submit response",responses:"Responses",export:"Export JSON",import:"Import JSON",clear:"Clear",distToIdeal:"Distances to IDEAL brand",benchmark:"Benchmark brand",print:"Print / PDF",mapHint:"Hover over brands to see distances to IDEAL and to selected attributes."};function js(i){return i==="en"?Xy:Ky}function Yy(){const{project:i}=Fs(),t=js(i.lang);return $.jsxs("div",{className:"card",children:[$.jsx("h2",{children:t.homeTitle}),$.jsxs("p",{children:[" ",t.map2d," / ",t.map3d," "," ",t.designer," "," ",t.survey," "," ",t.results]}),$.jsx("p",{style:{whiteSpace:"pre-line",marginTop:"1rem"},children:t.homeIntro})]})}function Jy(){const{project:i,setProject:t}=Fs(),r=js(i.lang),[o,a]=Be.useState(""),[c,p]=Be.useState("#0D1B2A"),[v,m]=Be.useState(""),[y,E]=Be.useState(""),[T,w]=Be.useState(!1);function k(){if(!o.trim())return;const Y={name:o.trim(),color:c};t({...i,brands:[...i.brands,Y]}),a("")}function L(Y){t({...i,brands:i.brands.filter(q=>q.name!==Y)})}function F(){if(!v.trim()||!y.trim())return;const q={id:y.toLowerCase().replace(/[^a-z0-9]+/g,"_")+"_"+(Math.random()*1e4|0),labelEs:v,labelEn:y,reversed:T};t({...i,attributes:[...i.attributes,q]}),m(""),E(""),w(!1)}function j(Y){t({...i,attributes:i.attributes.filter(q=>q.id!==Y)})}return $.jsx("div",{className:"card",children:$.jsxs("div",{className:"grid",children:[$.jsxs("div",{children:[$.jsx("h3",{children:r.brands}),$.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[$.jsx("input",{value:o,onChange:Y=>a(Y.target.value),placeholder:r.name}),$.jsx("input",{type:"color",value:c,onChange:Y=>p(Y.target.value)}),$.jsx("button",{className:"btn",onClick:k,children:r.add})]}),$.jsx("div",{className:"grid",children:i.brands.map(Y=>$.jsxs("span",{className:"badge",style:{background:"#eef",borderLeft:`8px solid ${Y.color||"#2CAFBF"}`},children:[Y.name,$.jsx("button",{onClick:()=>L(Y.name),style:{marginLeft:6},children:""})]},Y.name))}),$.jsxs("div",{style:{marginTop:8},children:[$.jsxs("label",{children:[r.benchmark,": "]}),$.jsxs("select",{value:i.benchmark||"",onChange:Y=>t({...i,benchmark:Y.target.value}),children:[$.jsx("option",{value:""}),i.brands.map(Y=>$.jsx("option",{value:Y.name,children:Y.name},Y.name))]})]})]}),$.jsxs("div",{children:[$.jsx("h3",{children:r.attributes}),$.jsxs("div",{className:"grid",style:{alignItems:"end"},children:[$.jsxs("div",{children:[$.jsx("label",{children:"ES"}),$.jsx("input",{value:v,onChange:Y=>m(Y.target.value),placeholder:"Etiqueta"})]}),$.jsxs("div",{children:[$.jsx("label",{children:"EN"}),$.jsx("input",{value:y,onChange:Y=>E(Y.target.value),placeholder:"Label"})]}),$.jsxs("div",{children:[$.jsx("label",{children:r.reversed}),$.jsx("input",{type:"checkbox",checked:T,onChange:Y=>w(Y.target.checked)})]}),$.jsx("div",{children:$.jsx("button",{className:"btn",onClick:F,children:r.add})})]}),$.jsx("div",{className:"grid",style:{marginTop:8},children:i.attributes.map(Y=>$.jsxs("span",{className:"badge",children:[i.lang==="es"?Y.labelEs:Y.labelEn,Y.reversed?" (rev)":"",$.jsx("button",{onClick:()=>j(Y.id),style:{marginLeft:6},children:""})]},Y.id))}),$.jsx("p",{className:"hint",children:r.priceNote})]})]})})}var Zy=Object.defineProperty,Oa=Object.getOwnPropertySymbols,rm=Object.prototype.hasOwnProperty,im=Object.prototype.propertyIsEnumerable,Zd=(i,t,r)=>t in i?Zy(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r,qo=(i,t)=>{for(var r in t||(t={}))rm.call(t,r)&&Zd(i,r,t[r]);if(Oa)for(var r of Oa(t))im.call(t,r)&&Zd(i,r,t[r]);return i},lh=(i,t)=>{var r={};for(var o in i)rm.call(i,o)&&t.indexOf(o)<0&&(r[o]=i[o]);if(i!=null&&Oa)for(var o of Oa(i))t.indexOf(o)<0&&im.call(i,o)&&(r[o]=i[o]);return r};var Ci;(i=>{const t=class{constructor(m,y,E,T){if(this.version=m,this.errorCorrectionLevel=y,this.modules=[],this.isFunction=[],m<t.MIN_VERSION||m>t.MAX_VERSION)throw new RangeError("Version value out of range");if(T<-1||T>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let w=[];for(let L=0;L<this.size;L++)w.push(!1);for(let L=0;L<this.size;L++)this.modules.push(w.slice()),this.isFunction.push(w.slice());this.drawFunctionPatterns();const k=this.addEccAndInterleave(E);if(this.drawCodewords(k),T==-1){let L=1e9;for(let F=0;F<8;F++){this.applyMask(F),this.drawFormatBits(F);const j=this.getPenaltyScore();j<L&&(T=F,L=j),this.applyMask(F)}}c(0<=T&&T<=7),this.mask=T,this.applyMask(T),this.drawFormatBits(T),this.isFunction=[]}static encodeText(m,y){const E=i.QrSegment.makeSegments(m);return t.encodeSegments(E,y)}static encodeBinary(m,y){const E=i.QrSegment.makeBytes(m);return t.encodeSegments([E],y)}static encodeSegments(m,y,E=1,T=40,w=-1,k=!0){if(!(t.MIN_VERSION<=E&&E<=T&&T<=t.MAX_VERSION)||w<-1||w>7)throw new RangeError("Invalid value");let L,F;for(L=E;;L++){const Q=t.getNumDataCodewords(L,y)*8,B=v.getTotalBits(m,L);if(B<=Q){F=B;break}if(L>=T)throw new RangeError("Data too long")}for(const Q of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])k&&F<=t.getNumDataCodewords(L,Q)*8&&(y=Q);let j=[];for(const Q of m){o(Q.mode.modeBits,4,j),o(Q.numChars,Q.mode.numCharCountBits(L),j);for(const B of Q.getData())j.push(B)}c(j.length==F);const Y=t.getNumDataCodewords(L,y)*8;c(j.length<=Y),o(0,Math.min(4,Y-j.length),j),o(0,(8-j.length%8)%8,j),c(j.length%8==0);for(let Q=236;j.length<Y;Q^=253)o(Q,8,j);let q=[];for(;q.length*8<j.length;)q.push(0);return j.forEach((Q,B)=>q[B>>>3]|=Q<<7-(B&7)),new t(L,y,q,w)}getModule(m,y){return 0<=m&&m<this.size&&0<=y&&y<this.size&&this.modules[y][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let E=0;E<this.size;E++)this.setFunctionModule(6,E,E%2==0),this.setFunctionModule(E,6,E%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),y=m.length;for(let E=0;E<y;E++)for(let T=0;T<y;T++)E==0&&T==0||E==0&&T==y-1||E==y-1&&T==0||this.drawAlignmentPattern(m[E],m[T]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const y=this.errorCorrectionLevel.formatBits<<3|m;let E=y;for(let w=0;w<10;w++)E=E<<1^(E>>>9)*1335;const T=(y<<10|E)^21522;c(T>>>15==0);for(let w=0;w<=5;w++)this.setFunctionModule(8,w,a(T,w));this.setFunctionModule(8,7,a(T,6)),this.setFunctionModule(8,8,a(T,7)),this.setFunctionModule(7,8,a(T,8));for(let w=9;w<15;w++)this.setFunctionModule(14-w,8,a(T,w));for(let w=0;w<8;w++)this.setFunctionModule(this.size-1-w,8,a(T,w));for(let w=8;w<15;w++)this.setFunctionModule(8,this.size-15+w,a(T,w));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let E=0;E<12;E++)m=m<<1^(m>>>11)*7973;const y=this.version<<12|m;c(y>>>18==0);for(let E=0;E<18;E++){const T=a(y,E),w=this.size-11+E%3,k=Math.floor(E/3);this.setFunctionModule(w,k,T),this.setFunctionModule(k,w,T)}}drawFinderPattern(m,y){for(let E=-4;E<=4;E++)for(let T=-4;T<=4;T++){const w=Math.max(Math.abs(T),Math.abs(E)),k=m+T,L=y+E;0<=k&&k<this.size&&0<=L&&L<this.size&&this.setFunctionModule(k,L,w!=2&&w!=4)}}drawAlignmentPattern(m,y){for(let E=-2;E<=2;E++)for(let T=-2;T<=2;T++)this.setFunctionModule(m+T,y+E,Math.max(Math.abs(T),Math.abs(E))!=1)}setFunctionModule(m,y,E){this.modules[y][m]=E,this.isFunction[y][m]=!0}addEccAndInterleave(m){const y=this.version,E=this.errorCorrectionLevel;if(m.length!=t.getNumDataCodewords(y,E))throw new RangeError("Invalid argument");const T=t.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][y],w=t.ECC_CODEWORDS_PER_BLOCK[E.ordinal][y],k=Math.floor(t.getNumRawDataModules(y)/8),L=T-k%T,F=Math.floor(k/T);let j=[];const Y=t.reedSolomonComputeDivisor(w);for(let Q=0,B=0;Q<T;Q++){let X=m.slice(B,B+F-w+(Q<L?0:1));B+=X.length;const J=t.reedSolomonComputeRemainder(X,Y);Q<L&&X.push(0),j.push(X.concat(J))}let q=[];for(let Q=0;Q<j[0].length;Q++)j.forEach((B,X)=>{(Q!=F-w||X>=L)&&q.push(B[Q])});return c(q.length==k),q}drawCodewords(m){if(m.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let y=0;for(let E=this.size-1;E>=1;E-=2){E==6&&(E=5);for(let T=0;T<this.size;T++)for(let w=0;w<2;w++){const k=E-w,F=(E+1&2)==0?this.size-1-T:T;!this.isFunction[F][k]&&y<m.length*8&&(this.modules[F][k]=a(m[y>>>3],7-(y&7)),y++)}}c(y==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let y=0;y<this.size;y++)for(let E=0;E<this.size;E++){let T;switch(m){case 0:T=(E+y)%2==0;break;case 1:T=y%2==0;break;case 2:T=E%3==0;break;case 3:T=(E+y)%3==0;break;case 4:T=(Math.floor(E/3)+Math.floor(y/2))%2==0;break;case 5:T=E*y%2+E*y%3==0;break;case 6:T=(E*y%2+E*y%3)%2==0;break;case 7:T=((E+y)%2+E*y%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[y][E]&&T&&(this.modules[y][E]=!this.modules[y][E])}}getPenaltyScore(){let m=0;for(let w=0;w<this.size;w++){let k=!1,L=0,F=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[w][j]==k?(L++,L==5?m+=t.PENALTY_N1:L>5&&m++):(this.finderPenaltyAddHistory(L,F),k||(m+=this.finderPenaltyCountPatterns(F)*t.PENALTY_N3),k=this.modules[w][j],L=1);m+=this.finderPenaltyTerminateAndCount(k,L,F)*t.PENALTY_N3}for(let w=0;w<this.size;w++){let k=!1,L=0,F=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[j][w]==k?(L++,L==5?m+=t.PENALTY_N1:L>5&&m++):(this.finderPenaltyAddHistory(L,F),k||(m+=this.finderPenaltyCountPatterns(F)*t.PENALTY_N3),k=this.modules[j][w],L=1);m+=this.finderPenaltyTerminateAndCount(k,L,F)*t.PENALTY_N3}for(let w=0;w<this.size-1;w++)for(let k=0;k<this.size-1;k++){const L=this.modules[w][k];L==this.modules[w][k+1]&&L==this.modules[w+1][k]&&L==this.modules[w+1][k+1]&&(m+=t.PENALTY_N2)}let y=0;for(const w of this.modules)y=w.reduce((k,L)=>k+(L?1:0),y);const E=this.size*this.size,T=Math.ceil(Math.abs(y*20-E*10)/E)-1;return c(0<=T&&T<=9),m+=T*t.PENALTY_N4,c(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,y=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let E=[6];for(let T=this.size-7;E.length<m;T-=y)E.splice(1,0,T);return E}}static getNumRawDataModules(m){if(m<t.MIN_VERSION||m>t.MAX_VERSION)throw new RangeError("Version number out of range");let y=(16*m+128)*m+64;if(m>=2){const E=Math.floor(m/7)+2;y-=(25*E-10)*E-55,m>=7&&(y-=36)}return c(208<=y&&y<=29648),y}static getNumDataCodewords(m,y){return Math.floor(t.getNumRawDataModules(m)/8)-t.ECC_CODEWORDS_PER_BLOCK[y.ordinal][m]*t.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let y=[];for(let T=0;T<m-1;T++)y.push(0);y.push(1);let E=1;for(let T=0;T<m;T++){for(let w=0;w<y.length;w++)y[w]=t.reedSolomonMultiply(y[w],E),w+1<y.length&&(y[w]^=y[w+1]);E=t.reedSolomonMultiply(E,2)}return y}static reedSolomonComputeRemainder(m,y){let E=y.map(T=>0);for(const T of m){const w=T^E.shift();E.push(0),y.forEach((k,L)=>E[L]^=t.reedSolomonMultiply(k,w))}return E}static reedSolomonMultiply(m,y){if(m>>>8||y>>>8)throw new RangeError("Byte out of range");let E=0;for(let T=7;T>=0;T--)E=E<<1^(E>>>7)*285,E^=(y>>>T&1)*m;return c(E>>>8==0),E}finderPenaltyCountPatterns(m){const y=m[1];c(y<=this.size*3);const E=y>0&&m[2]==y&&m[3]==y*3&&m[4]==y&&m[5]==y;return(E&&m[0]>=y*4&&m[6]>=y?1:0)+(E&&m[6]>=y*4&&m[0]>=y?1:0)}finderPenaltyTerminateAndCount(m,y,E){return m&&(this.finderPenaltyAddHistory(y,E),y=0),y+=this.size,this.finderPenaltyAddHistory(y,E),this.finderPenaltyCountPatterns(E)}finderPenaltyAddHistory(m,y){y[0]==0&&(m+=this.size),y.pop(),y.unshift(m)}};let r=t;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],i.QrCode=r;function o(m,y,E){if(y<0||y>31||m>>>y)throw new RangeError("Value out of range");for(let T=y-1;T>=0;T--)E.push(m>>>T&1)}function a(m,y){return(m>>>y&1)!=0}function c(m){if(!m)throw new Error("Assertion error")}const p=class{constructor(m,y,E){if(this.mode=m,this.numChars=y,this.bitData=E,y<0)throw new RangeError("Invalid argument");this.bitData=E.slice()}static makeBytes(m){let y=[];for(const E of m)o(E,8,y);return new p(p.Mode.BYTE,m.length,y)}static makeNumeric(m){if(!p.isNumeric(m))throw new RangeError("String contains non-numeric characters");let y=[];for(let E=0;E<m.length;){const T=Math.min(m.length-E,3);o(parseInt(m.substr(E,T),10),T*3+1,y),E+=T}return new p(p.Mode.NUMERIC,m.length,y)}static makeAlphanumeric(m){if(!p.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let y=[],E;for(E=0;E+2<=m.length;E+=2){let T=p.ALPHANUMERIC_CHARSET.indexOf(m.charAt(E))*45;T+=p.ALPHANUMERIC_CHARSET.indexOf(m.charAt(E+1)),o(T,11,y)}return E<m.length&&o(p.ALPHANUMERIC_CHARSET.indexOf(m.charAt(E)),6,y),new p(p.Mode.ALPHANUMERIC,m.length,y)}static makeSegments(m){return m==""?[]:p.isNumeric(m)?[p.makeNumeric(m)]:p.isAlphanumeric(m)?[p.makeAlphanumeric(m)]:[p.makeBytes(p.toUtf8ByteArray(m))]}static makeEci(m){let y=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)o(m,8,y);else if(m<16384)o(2,2,y),o(m,14,y);else if(m<1e6)o(6,3,y),o(m,21,y);else throw new RangeError("ECI assignment value out of range");return new p(p.Mode.ECI,0,y)}static isNumeric(m){return p.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return p.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,y){let E=0;for(const T of m){const w=T.mode.numCharCountBits(y);if(T.numChars>=1<<w)return 1/0;E+=4+w+T.bitData.length}return E}static toUtf8ByteArray(m){m=encodeURI(m);let y=[];for(let E=0;E<m.length;E++)m.charAt(E)!="%"?y.push(m.charCodeAt(E)):(y.push(parseInt(m.substr(E+1,2),16)),E+=2);return y}};let v=p;v.NUMERIC_REGEX=/^[0-9]*$/,v.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,v.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",i.QrSegment=v})(Ci||(Ci={}));(i=>{(t=>{const r=class{constructor(a,c){this.ordinal=a,this.formatBits=c}};let o=r;o.LOW=new r(0,1),o.MEDIUM=new r(1,0),o.QUARTILE=new r(2,3),o.HIGH=new r(3,2),t.Ecc=o})(i.QrCode||(i.QrCode={}))})(Ci||(Ci={}));(i=>{(t=>{const r=class{constructor(a,c){this.modeBits=a,this.numBitsCharCount=c}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};let o=r;o.NUMERIC=new r(1,[10,12,14]),o.ALPHANUMERIC=new r(2,[9,11,13]),o.BYTE=new r(4,[8,16,16]),o.KANJI=new r(8,[8,10,12]),o.ECI=new r(7,[0,0,0]),t.Mode=o})(i.QrSegment||(i.QrSegment={}))})(Ci||(Ci={}));var Ps=Ci;var sm={L:Ps.QrCode.Ecc.LOW,M:Ps.QrCode.Ecc.MEDIUM,Q:Ps.QrCode.Ecc.QUARTILE,H:Ps.QrCode.Ecc.HIGH},om=128,lm="L",am="#FFFFFF",um="#000000",cm=!1,ah=4,ev=.1;function hm(i,t=0){const r=[];return i.forEach(function(o,a){let c=null;o.forEach(function(p,v){if(!p&&c!==null){r.push(`M${c+t} ${a+t}h${v-c}v1H${c+t}z`),c=null;return}if(v===o.length-1){if(!p)return;c===null?r.push(`M${v+t},${a+t} h1v1H${v+t}z`):r.push(`M${c+t},${a+t} h${v+1-c}v1H${c+t}z`);return}p&&c===null&&(c=v)})}),r.join("")}function fm(i,t){return i.slice().map((r,o)=>o<t.y||o>=t.y+t.h?r:r.map((a,c)=>c<t.x||c>=t.x+t.w?a:!1))}function dm(i,t,r,o){if(o==null)return null;const a=r?ah:0,c=i.length+a*2,p=Math.floor(t*ev),v=c/t,m=(o.width||p)*v,y=(o.height||p)*v,E=o.x==null?i.length/2-m/2:o.x*v,T=o.y==null?i.length/2-y/2:o.y*v;let w=null;if(o.excavate){let k=Math.floor(E),L=Math.floor(T),F=Math.ceil(m+E-k),j=Math.ceil(y+T-L);w={x:k,y:L,w:F,h:j}}return{x:E,y:T,h:y,w:m,excavation:w}}var tv=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function nv(i){const t=i,{value:r,size:o=om,level:a=lm,bgColor:c=am,fgColor:p=um,includeMargin:v=cm,style:m,imageSettings:y}=t,E=lh(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),T=y?.src,w=Vt.useRef(null),k=Vt.useRef(null),[L,F]=Vt.useState(!1);Vt.useEffect(()=>{if(w.current!=null){const q=w.current,Q=q.getContext("2d");if(!Q)return;let B=Ps.QrCode.encodeText(r,sm[a]).getModules();const X=v?ah:0,J=B.length+X*2,C=dm(B,o,v,y),I=k.current,A=C!=null&&I!==null&&I.complete&&I.naturalHeight!==0&&I.naturalWidth!==0;A&&C.excavation!=null&&(B=fm(B,C.excavation));const x=window.devicePixelRatio||1;q.height=q.width=o*x;const D=o/J*x;Q.scale(D,D),Q.fillStyle=c,Q.fillRect(0,0,J,J),Q.fillStyle=p,tv?Q.fill(new Path2D(hm(B,X))):B.forEach(function(V,R){V.forEach(function(Pe,K){Pe&&Q.fillRect(K+X,R+X,1,1)})}),A&&Q.drawImage(I,C.x+X,C.y+X,C.w,C.h)}}),Vt.useEffect(()=>{F(!1)},[T]);const j=qo({height:o,width:o},m);let Y=null;return T!=null&&(Y=Vt.createElement("img",{src:T,key:T,style:{display:"none"},onLoad:()=>{F(!0)},ref:k})),Vt.createElement(Vt.Fragment,null,Vt.createElement("canvas",qo({style:j,height:o,width:o,ref:w},E)),Y)}function rv(i){const t=i,{value:r,size:o=om,level:a=lm,bgColor:c=am,fgColor:p=um,includeMargin:v=cm,imageSettings:m}=t,y=lh(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let E=Ps.QrCode.encodeText(r,sm[a]).getModules();const T=v?ah:0,w=E.length+T*2,k=dm(E,o,v,m);let L=null;m!=null&&k!=null&&(k.excavation!=null&&(E=fm(E,k.excavation)),L=Vt.createElement("image",{xlinkHref:m.src,height:k.h,width:k.w,x:k.x+T,y:k.y+T,preserveAspectRatio:"none"}));const F=hm(E,T);return Vt.createElement("svg",qo({height:o,width:o,viewBox:`0 0 ${w} ${w}`},y),Vt.createElement("path",{fill:c,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),Vt.createElement("path",{fill:p,d:F,shapeRendering:"crispEdges"}),L)}var iv=i=>{const t=i,{renderAs:r}=t,o=lh(t,["renderAs"]);return r==="svg"?Vt.createElement(rv,qo({},o)):Vt.createElement(nv,qo({},o))};const sv=()=>{};var ep={};const pm=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},ov=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const a=i[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[r++];t[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[r++],p=i[r++],v=i[r++],m=((a&7)<<18|(c&63)<<12|(p&63)<<6|v&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],p=i[r++];t[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|p&63)}}return t.join("")},mm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const c=i[a],p=a+1<i.length,v=p?i[a+1]:0,m=a+2<i.length,y=m?i[a+2]:0,E=c>>2,T=(c&3)<<4|v>>4;let w=(v&15)<<2|y>>6,k=y&63;m||(k=64,p||(w=64)),o.push(r[E],r[T],r[w],r[k])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(pm(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):ov(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const c=r[i.charAt(a++)],v=a<i.length?r[i.charAt(a)]:0;++a;const y=a<i.length?r[i.charAt(a)]:64;++a;const T=a<i.length?r[i.charAt(a)]:64;if(++a,c==null||v==null||y==null||T==null)throw new lv;const w=c<<2|v>>4;if(o.push(w),y!==64){const k=v<<4&240|y>>2;if(o.push(k),T!==64){const L=y<<6&192|T;o.push(L)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class lv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const av=function(i){const t=pm(i);return mm.encodeByteArray(t,!0)},La=function(i){return av(i).replace(/\./g,"")},uv=function(i){try{return mm.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function cv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hv=()=>cv().__FIREBASE_DEFAULTS__,fv=()=>{if(typeof process>"u"||typeof ep>"u")return;const i=ep.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},dv=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&uv(i[1]);return t&&JSON.parse(t)},uh=()=>{try{return sv()||hv()||fv()||dv()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},pv=i=>{var t,r;return(r=(t=uh())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},mv=i=>{const t=pv(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},gm=()=>{var i;return(i=uh())===null||i===void 0?void 0:i.config};class gv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}function ch(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yv(i){return(await fetch(i,{credentials:"include"})).ok}function vv(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[La(JSON.stringify(r)),La(JSON.stringify(p)),""].join(".")}const Uo={};function _v(){const i={prod:[],emulator:[]};for(const t of Object.keys(Uo))Uo[t]?i.emulator.push(t):i.prod.push(t);return i}function Ev(i){let t=document.getElementById(i),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),r=!0),{created:r,element:t}}let tp=!1;function wv(i,t){if(typeof window>"u"||typeof document>"u"||!ch(window.location.host)||Uo[i]===t||Uo[i]||tp)return;Uo[i]=t;function r(w){return`__firebase__banner__${w}`}const o="__firebase__banner",c=_v().prod.length>0;function p(){const w=document.getElementById(o);w&&w.remove()}function v(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{tp=!0,p()},w}function E(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=Ev(o),k=r("text"),L=document.getElementById(k)||document.createElement("span"),F=r("learnmore"),j=document.getElementById(F)||document.createElement("a"),Y=r("preprendIcon"),q=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Q=w.element;v(Q),E(j,F);const B=y();m(q,Y),Q.append(q,L,j,B),document.body.appendChild(Q)}c?(L.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Tv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Sv(){var i;const t=(i=uh())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Iv(){return!Sv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Av(){try{return typeof indexedDB=="object"}catch{return!1}}function Cv(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var c;t(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}const Pv="FirebaseError";class bs extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=Pv,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ym.prototype.create)}}class ym{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,c=this.errors[t],p=c?Rv(c,o):"Error",v=`${this.serviceName}: ${p} (${a}).`;return new bs(a,v,o)}}function Rv(i,t){return i.replace(kv,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const kv=/\{\$([^}]+)}/g;function Fa(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const c=i[a],p=t[a];if(np(c)&&np(p)){if(!Fa(c,p))return!1}else if(c!==p)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function np(i){return i!==null&&typeof i=="object"}function Go(i){return i&&i._delegate?i._delegate:i}class Ko{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ti="[DEFAULT]";class xv{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new gv;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t?.identifier),a=(r=t?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Dv(t))try{this.getOrInitializeService({instanceIdentifier:Ti})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(t=Ti){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ti){return this.instances.has(t)}getOptions(t=Ti){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,p]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(c);o===v&&p.resolve(a)}return a}onInit(t,r){var o;const a=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(a,c);const p=this.instances.get(a);return p&&t(p,a),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Nv(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Ti){return this.component?this.component.multipleInstances?t:Ti:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nv(i){return i===Ti?void 0:i}function Dv(i){return i.instantiationMode==="EAGER"}class Vv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new xv(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const Mv={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Ov=Me.INFO,Lv={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Fv=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),a=Lv[t];if(a)console[a](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vm{constructor(t){this.name=t,this._logLevel=Ov,this._logHandler=Fv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Me))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Mv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...t),this._logHandler(this,Me.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...t),this._logHandler(this,Me.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...t),this._logHandler(this,Me.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...t),this._logHandler(this,Me.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...t),this._logHandler(this,Me.ERROR,...t)}}const jv=(i,t)=>t.some(r=>i instanceof r);let rp,ip;function bv(){return rp||(rp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uv(){return ip||(ip=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _m=new WeakMap,$c=new WeakMap,Em=new WeakMap,Lc=new WeakMap,hh=new WeakMap;function Bv(i){const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",p)},c=()=>{r(Br(i.result)),a()},p=()=>{o(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",p)});return t.then(r=>{r instanceof IDBCursor&&_m.set(r,i)}).catch(()=>{}),hh.set(t,i),t}function zv(i){if($c.has(i))return;const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",p),i.removeEventListener("abort",p)},c=()=>{r(),a()},p=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",p),i.addEventListener("abort",p)});$c.set(i,t)}let Hc={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return $c.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Em.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Br(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function $v(i){Hc=i(Hc)}function Hv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(Fc(this),t,...r);return Em.set(o,t.sort?t.sort():[t]),Br(o)}:Uv().includes(i)?function(...t){return i.apply(Fc(this),t),Br(_m.get(this))}:function(...t){return Br(i.apply(Fc(this),t))}}function Wv(i){return typeof i=="function"?Hv(i):(i instanceof IDBTransaction&&zv(i),jv(i,bv())?new Proxy(i,Hc):i)}function Br(i){if(i instanceof IDBRequest)return Bv(i);if(Lc.has(i))return Lc.get(i);const t=Wv(i);return t!==i&&(Lc.set(i,t),hh.set(t,i)),t}const Fc=i=>hh.get(i);function Qv(i,t,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const p=indexedDB.open(i,t),v=Br(p);return o&&p.addEventListener("upgradeneeded",m=>{o(Br(p.result),m.oldVersion,m.newVersion,Br(p.transaction),m)}),r&&p.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),v.then(m=>{c&&m.addEventListener("close",()=>c()),a&&m.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),v}const qv=["get","getKey","getAll","getAllKeys","count"],Gv=["put","add","delete","clear"],jc=new Map;function sp(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(jc.get(t))return jc.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=Gv.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||qv.includes(r)))return;const c=async function(p,...v){const m=this.transaction(p,a?"readwrite":"readonly");let y=m.store;return o&&(y=y.index(v.shift())),(await Promise.all([y[r](...v),a&&m.done]))[0]};return jc.set(t,c),c}$v(i=>({...i,get:(t,r,o)=>sp(t,r)||i.get(t,r,o),has:(t,r)=>!!sp(t,r)||i.has(t,r)}));class Kv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Xv(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Xv(i){const t=i.getComponent();return t?.type==="VERSION"}const Wc="@firebase/app",op="0.13.2";const mr=new vm("@firebase/app"),Yv="@firebase/app-compat",Jv="@firebase/analytics-compat",Zv="@firebase/analytics",e_="@firebase/app-check-compat",t_="@firebase/app-check",n_="@firebase/auth",r_="@firebase/auth-compat",i_="@firebase/database",s_="@firebase/data-connect",o_="@firebase/database-compat",l_="@firebase/functions",a_="@firebase/functions-compat",u_="@firebase/installations",c_="@firebase/installations-compat",h_="@firebase/messaging",f_="@firebase/messaging-compat",d_="@firebase/performance",p_="@firebase/performance-compat",m_="@firebase/remote-config",g_="@firebase/remote-config-compat",y_="@firebase/storage",v_="@firebase/storage-compat",__="@firebase/firestore",E_="@firebase/ai",w_="@firebase/firestore-compat",T_="firebase",S_="11.10.0";const Qc="[DEFAULT]",I_={[Wc]:"fire-core",[Yv]:"fire-core-compat",[Zv]:"fire-analytics",[Jv]:"fire-analytics-compat",[t_]:"fire-app-check",[e_]:"fire-app-check-compat",[n_]:"fire-auth",[r_]:"fire-auth-compat",[i_]:"fire-rtdb",[s_]:"fire-data-connect",[o_]:"fire-rtdb-compat",[l_]:"fire-fn",[a_]:"fire-fn-compat",[u_]:"fire-iid",[c_]:"fire-iid-compat",[h_]:"fire-fcm",[f_]:"fire-fcm-compat",[d_]:"fire-perf",[p_]:"fire-perf-compat",[m_]:"fire-rc",[g_]:"fire-rc-compat",[y_]:"fire-gcs",[v_]:"fire-gcs-compat",[__]:"fire-fst",[w_]:"fire-fst-compat",[E_]:"fire-vertex","fire-js":"fire-js",[T_]:"fire-js-all"};const ja=new Map,A_=new Map,qc=new Map;function lp(i,t){try{i.container.addComponent(t)}catch(r){mr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function ba(i){const t=i.name;if(qc.has(t))return mr.debug(`There were multiple attempts to register component ${t}.`),!1;qc.set(t,i);for(const r of ja.values())lp(r,i);for(const r of A_.values())lp(r,i);return!0}function C_(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function P_(i){return i==null?!1:i.settings!==void 0}const R_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new ym("app","Firebase",R_);class k_{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}const x_=S_;function wm(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:Qc,automaticDataCollectionEnabled:!0},t),a=o.name;if(typeof a!="string"||!a)throw zr.create("bad-app-name",{appName:String(a)});if(r||(r=gm()),!r)throw zr.create("no-options");const c=ja.get(a);if(c){if(Fa(r,c.options)&&Fa(o,c.config))return c;throw zr.create("duplicate-app",{appName:a})}const p=new Vv(a);for(const m of qc.values())p.addComponent(m);const v=new k_(r,o,p);return ja.set(a,v),v}function N_(i=Qc){const t=ja.get(i);if(!t&&i===Qc&&gm())return wm();if(!t)throw zr.create("no-app",{appName:i});return t}function Rs(i,t,r){var o;let a=(o=I_[i])!==null&&o!==void 0?o:i;r&&(a+=`-${r}`);const c=a.match(/\s|\//),p=t.match(/\s|\//);if(c||p){const v=[`Unable to register library "${a}" with version "${t}":`];c&&v.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&p&&v.push("and"),p&&v.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mr.warn(v.join(" "));return}ba(new Ko(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const D_="firebase-heartbeat-database",V_=1,Xo="firebase-heartbeat-store";let bc=null;function Tm(){return bc||(bc=Qv(D_,V_,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Xo)}catch(r){console.warn(r)}}}}).catch(i=>{throw zr.create("idb-open",{originalErrorMessage:i.message})})),bc}async function M_(i){try{const r=(await Tm()).transaction(Xo),o=await r.objectStore(Xo).get(Sm(i));return await r.done,o}catch(t){if(t instanceof bs)mr.warn(t.message);else{const r=zr.create("idb-get",{originalErrorMessage:t?.message});mr.warn(r.message)}}}async function ap(i,t){try{const o=(await Tm()).transaction(Xo,"readwrite");await o.objectStore(Xo).put(t,Sm(i)),await o.done}catch(r){if(r instanceof bs)mr.warn(r.message);else{const o=zr.create("idb-set",{originalErrorMessage:r?.message});mr.warn(o.message)}}}function Sm(i){return`${i.name}!${i.options.appId}`}const O_=1024,L_=30;class F_{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new b_(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=up();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(p=>p.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>L_){const p=U_(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(p,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){mr.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=up(),{heartbeatsToSend:o,unsentEntries:a}=j_(this._heartbeatsCache.heartbeats),c=La(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return mr.warn(r),""}}}function up(){return new Date().toISOString().substring(0,10)}function j_(i,t=O_){const r=[];let o=i.slice();for(const a of i){const c=r.find(p=>p.agent===a.agent);if(c){if(c.dates.push(a.date),cp(r)>t){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),cp(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class b_{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Av()?Cv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await M_(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return ap(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return ap(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function cp(i){return La(JSON.stringify({version:2,heartbeats:i})).length}function U_(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let o=1;o<i.length;o++)i[o].date<r&&(r=i[o].date,t=o);return t}function B_(i){ba(new Ko("platform-logger",t=>new Kv(t),"PRIVATE")),ba(new Ko("heartbeat",t=>new F_(t),"PRIVATE")),Rs(Wc,op,i),Rs(Wc,op,"esm2017"),Rs("fire-js","")}B_("");var z_="firebase",$_="11.10.0";Rs(z_,$_,"app");var hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fh;(function(){var i;function t(C,I){function A(){}A.prototype=I.prototype,C.D=I.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(x,D,V){for(var R=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)R[Pe-2]=arguments[Pe];return I.prototype[D].apply(x,R)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,I,A){A||(A=0);var x=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)x[D]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(D=0;16>D;++D)x[D]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=C.g[0],A=C.g[1],D=C.g[2];var V=C.g[3],R=I+(V^A&(D^V))+x[0]+3614090360&4294967295;I=A+(R<<7&4294967295|R>>>25),R=V+(D^I&(A^D))+x[1]+3905402710&4294967295,V=I+(R<<12&4294967295|R>>>20),R=D+(A^V&(I^A))+x[2]+606105819&4294967295,D=V+(R<<17&4294967295|R>>>15),R=A+(I^D&(V^I))+x[3]+3250441966&4294967295,A=D+(R<<22&4294967295|R>>>10),R=I+(V^A&(D^V))+x[4]+4118548399&4294967295,I=A+(R<<7&4294967295|R>>>25),R=V+(D^I&(A^D))+x[5]+1200080426&4294967295,V=I+(R<<12&4294967295|R>>>20),R=D+(A^V&(I^A))+x[6]+2821735955&4294967295,D=V+(R<<17&4294967295|R>>>15),R=A+(I^D&(V^I))+x[7]+4249261313&4294967295,A=D+(R<<22&4294967295|R>>>10),R=I+(V^A&(D^V))+x[8]+1770035416&4294967295,I=A+(R<<7&4294967295|R>>>25),R=V+(D^I&(A^D))+x[9]+2336552879&4294967295,V=I+(R<<12&4294967295|R>>>20),R=D+(A^V&(I^A))+x[10]+4294925233&4294967295,D=V+(R<<17&4294967295|R>>>15),R=A+(I^D&(V^I))+x[11]+2304563134&4294967295,A=D+(R<<22&4294967295|R>>>10),R=I+(V^A&(D^V))+x[12]+1804603682&4294967295,I=A+(R<<7&4294967295|R>>>25),R=V+(D^I&(A^D))+x[13]+4254626195&4294967295,V=I+(R<<12&4294967295|R>>>20),R=D+(A^V&(I^A))+x[14]+2792965006&4294967295,D=V+(R<<17&4294967295|R>>>15),R=A+(I^D&(V^I))+x[15]+1236535329&4294967295,A=D+(R<<22&4294967295|R>>>10),R=I+(D^V&(A^D))+x[1]+4129170786&4294967295,I=A+(R<<5&4294967295|R>>>27),R=V+(A^D&(I^A))+x[6]+3225465664&4294967295,V=I+(R<<9&4294967295|R>>>23),R=D+(I^A&(V^I))+x[11]+643717713&4294967295,D=V+(R<<14&4294967295|R>>>18),R=A+(V^I&(D^V))+x[0]+3921069994&4294967295,A=D+(R<<20&4294967295|R>>>12),R=I+(D^V&(A^D))+x[5]+3593408605&4294967295,I=A+(R<<5&4294967295|R>>>27),R=V+(A^D&(I^A))+x[10]+38016083&4294967295,V=I+(R<<9&4294967295|R>>>23),R=D+(I^A&(V^I))+x[15]+3634488961&4294967295,D=V+(R<<14&4294967295|R>>>18),R=A+(V^I&(D^V))+x[4]+3889429448&4294967295,A=D+(R<<20&4294967295|R>>>12),R=I+(D^V&(A^D))+x[9]+568446438&4294967295,I=A+(R<<5&4294967295|R>>>27),R=V+(A^D&(I^A))+x[14]+3275163606&4294967295,V=I+(R<<9&4294967295|R>>>23),R=D+(I^A&(V^I))+x[3]+4107603335&4294967295,D=V+(R<<14&4294967295|R>>>18),R=A+(V^I&(D^V))+x[8]+1163531501&4294967295,A=D+(R<<20&4294967295|R>>>12),R=I+(D^V&(A^D))+x[13]+2850285829&4294967295,I=A+(R<<5&4294967295|R>>>27),R=V+(A^D&(I^A))+x[2]+4243563512&4294967295,V=I+(R<<9&4294967295|R>>>23),R=D+(I^A&(V^I))+x[7]+1735328473&4294967295,D=V+(R<<14&4294967295|R>>>18),R=A+(V^I&(D^V))+x[12]+2368359562&4294967295,A=D+(R<<20&4294967295|R>>>12),R=I+(A^D^V)+x[5]+4294588738&4294967295,I=A+(R<<4&4294967295|R>>>28),R=V+(I^A^D)+x[8]+2272392833&4294967295,V=I+(R<<11&4294967295|R>>>21),R=D+(V^I^A)+x[11]+1839030562&4294967295,D=V+(R<<16&4294967295|R>>>16),R=A+(D^V^I)+x[14]+4259657740&4294967295,A=D+(R<<23&4294967295|R>>>9),R=I+(A^D^V)+x[1]+2763975236&4294967295,I=A+(R<<4&4294967295|R>>>28),R=V+(I^A^D)+x[4]+1272893353&4294967295,V=I+(R<<11&4294967295|R>>>21),R=D+(V^I^A)+x[7]+4139469664&4294967295,D=V+(R<<16&4294967295|R>>>16),R=A+(D^V^I)+x[10]+3200236656&4294967295,A=D+(R<<23&4294967295|R>>>9),R=I+(A^D^V)+x[13]+681279174&4294967295,I=A+(R<<4&4294967295|R>>>28),R=V+(I^A^D)+x[0]+3936430074&4294967295,V=I+(R<<11&4294967295|R>>>21),R=D+(V^I^A)+x[3]+3572445317&4294967295,D=V+(R<<16&4294967295|R>>>16),R=A+(D^V^I)+x[6]+76029189&4294967295,A=D+(R<<23&4294967295|R>>>9),R=I+(A^D^V)+x[9]+3654602809&4294967295,I=A+(R<<4&4294967295|R>>>28),R=V+(I^A^D)+x[12]+3873151461&4294967295,V=I+(R<<11&4294967295|R>>>21),R=D+(V^I^A)+x[15]+530742520&4294967295,D=V+(R<<16&4294967295|R>>>16),R=A+(D^V^I)+x[2]+3299628645&4294967295,A=D+(R<<23&4294967295|R>>>9),R=I+(D^(A|~V))+x[0]+4096336452&4294967295,I=A+(R<<6&4294967295|R>>>26),R=V+(A^(I|~D))+x[7]+1126891415&4294967295,V=I+(R<<10&4294967295|R>>>22),R=D+(I^(V|~A))+x[14]+2878612391&4294967295,D=V+(R<<15&4294967295|R>>>17),R=A+(V^(D|~I))+x[5]+4237533241&4294967295,A=D+(R<<21&4294967295|R>>>11),R=I+(D^(A|~V))+x[12]+1700485571&4294967295,I=A+(R<<6&4294967295|R>>>26),R=V+(A^(I|~D))+x[3]+2399980690&4294967295,V=I+(R<<10&4294967295|R>>>22),R=D+(I^(V|~A))+x[10]+4293915773&4294967295,D=V+(R<<15&4294967295|R>>>17),R=A+(V^(D|~I))+x[1]+2240044497&4294967295,A=D+(R<<21&4294967295|R>>>11),R=I+(D^(A|~V))+x[8]+1873313359&4294967295,I=A+(R<<6&4294967295|R>>>26),R=V+(A^(I|~D))+x[15]+4264355552&4294967295,V=I+(R<<10&4294967295|R>>>22),R=D+(I^(V|~A))+x[6]+2734768916&4294967295,D=V+(R<<15&4294967295|R>>>17),R=A+(V^(D|~I))+x[13]+1309151649&4294967295,A=D+(R<<21&4294967295|R>>>11),R=I+(D^(A|~V))+x[4]+4149444226&4294967295,I=A+(R<<6&4294967295|R>>>26),R=V+(A^(I|~D))+x[11]+3174756917&4294967295,V=I+(R<<10&4294967295|R>>>22),R=D+(I^(V|~A))+x[2]+718787259&4294967295,D=V+(R<<15&4294967295|R>>>17),R=A+(V^(D|~I))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+V&4294967295}o.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var A=I-this.blockSize,x=this.B,D=this.h,V=0;V<I;){if(D==0)for(;V<=A;)a(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<I;)if(x[D++]=C.charCodeAt(V++),D==this.blockSize){a(this,x),D=0;break}}else for(;V<I;)if(x[D++]=C[V++],D==this.blockSize){a(this,x),D=0;break}}this.h=D,this.o+=I},o.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var A=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.u(C),C=Array(16),I=A=0;4>I;++I)for(var x=0;32>x;x+=8)C[A++]=this.g[I]>>>x&255;return C};function c(C,I){var A=v;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=I(C)}function p(C,I){this.h=I;for(var A=[],x=!0,D=C.length-1;0<=D;D--){var V=C[D]|0;x&&V==I||(A[D]=V,x=!1)}this.g=A}var v={};function m(C){return-128<=C&&128>C?c(C,function(I){return new p([I|0],0>I?-1:0)}):new p([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return T;if(0>C)return j(y(-C));for(var I=[],A=1,x=0;C>=A;x++)I[x]=C/A|0,A*=4294967296;return new p(I,0)}function E(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return j(E(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(I,8)),x=T,D=0;D<C.length;D+=8){var V=Math.min(8,C.length-D),R=parseInt(C.substring(D,D+V),I);8>V?(V=y(Math.pow(I,V)),x=x.j(V).add(y(R))):(x=x.j(A),x=x.add(y(R)))}return x}var T=m(0),w=m(1),k=m(16777216);i=p.prototype,i.m=function(){if(F(this))return-j(this).m();for(var C=0,I=1,A=0;A<this.g.length;A++){var x=this.i(A);C+=(0<=x?x:4294967296+x)*I,I*=4294967296}return C},i.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(L(this))return"0";if(F(this))return"-"+j(this).toString(C);for(var I=y(Math.pow(C,6)),A=this,x="";;){var D=B(A,I).g;A=Y(A,D.j(I));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=D,L(A))return V+x;for(;6>V.length;)V="0"+V;x=V+x}},i.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function L(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function F(C){return C.h==-1}i.l=function(C){return C=Y(this,C),F(C)?-1:L(C)?0:1};function j(C){for(var I=C.g.length,A=[],x=0;x<I;x++)A[x]=~C.g[x];return new p(A,~C.h).add(w)}i.abs=function(){return F(this)?j(this):this},i.add=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],x=0,D=0;D<=I;D++){var V=x+(this.i(D)&65535)+(C.i(D)&65535),R=(V>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);x=R>>>16,V&=65535,R&=65535,A[D]=R<<16|V}return new p(A,A[A.length-1]&-2147483648?-1:0)};function Y(C,I){return C.add(j(I))}i.j=function(C){if(L(this)||L(C))return T;if(F(this))return F(C)?j(this).j(j(C)):j(j(this).j(C));if(F(C))return j(this.j(j(C)));if(0>this.l(k)&&0>C.l(k))return y(this.m()*C.m());for(var I=this.g.length+C.g.length,A=[],x=0;x<2*I;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(var D=0;D<C.g.length;D++){var V=this.i(x)>>>16,R=this.i(x)&65535,Pe=C.i(D)>>>16,K=C.i(D)&65535;A[2*x+2*D]+=R*K,q(A,2*x+2*D),A[2*x+2*D+1]+=V*K,q(A,2*x+2*D+1),A[2*x+2*D+1]+=R*Pe,q(A,2*x+2*D+1),A[2*x+2*D+2]+=V*Pe,q(A,2*x+2*D+2)}for(x=0;x<I;x++)A[x]=A[2*x+1]<<16|A[2*x];for(x=I;x<2*I;x++)A[x]=0;return new p(A,0)};function q(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function Q(C,I){this.g=C,this.h=I}function B(C,I){if(L(I))throw Error("division by zero");if(L(C))return new Q(T,T);if(F(C))return I=B(j(C),I),new Q(j(I.g),j(I.h));if(F(I))return I=B(C,j(I)),new Q(j(I.g),I.h);if(30<C.g.length){if(F(C)||F(I))throw Error("slowDivide_ only works with positive integers.");for(var A=w,x=I;0>=x.l(C);)A=X(A),x=X(x);var D=J(A,1),V=J(x,1);for(x=J(x,2),A=J(A,2);!L(x);){var R=V.add(x);0>=R.l(C)&&(D=D.add(A),V=R),x=J(x,1),A=J(A,1)}return I=Y(C,D.j(I)),new Q(D,I)}for(D=T;0<=C.l(I);){for(A=Math.max(1,Math.floor(C.m()/I.m())),x=Math.ceil(Math.log(A)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),V=y(A),R=V.j(I);F(R)||0<R.l(C);)A-=x,V=y(A),R=V.j(I);L(V)&&(V=w),D=D.add(V),C=Y(C,R)}return new Q(D,C)}i.A=function(C){return B(this,C).h},i.and=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],x=0;x<I;x++)A[x]=this.i(x)&C.i(x);return new p(A,this.h&C.h)},i.or=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],x=0;x<I;x++)A[x]=this.i(x)|C.i(x);return new p(A,this.h|C.h)},i.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],x=0;x<I;x++)A[x]=this.i(x)^C.i(x);return new p(A,this.h^C.h)};function X(C){for(var I=C.g.length+1,A=[],x=0;x<I;x++)A[x]=C.i(x)<<1|C.i(x-1)>>>31;return new p(A,C.h)}function J(C,I){var A=I>>5;I%=32;for(var x=C.g.length-A,D=[],V=0;V<x;V++)D[V]=0<I?C.i(V+A)>>>I|C.i(V+A+1)<<32-I:C.i(V+A);return new p(D,C.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=y,p.fromString=E,fh=p}).apply(typeof hp<"u"?hp:typeof self<"u"?self:typeof window<"u"?window:{});var Ia=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Im,bo,Am,xa,Gc,Cm,Pm,Rm;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function r(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ia=="object"&&Ia];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var o=r(this);function a(l,f){if(f)e:{var g=o;l=l.split(".");for(var S=0;S<l.length-1;S++){var b=l[S];if(!(b in g))break e;g=g[b]}l=l[l.length-1],S=g[l],f=f(S),f!=S&&f!=null&&t(g,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var g=0,S=!1,b={next:function(){if(!S&&g<l.length){var W=g++;return{value:f(W,l[W]),done:!1}}return S=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}a("Array.prototype.values",function(l){return l||function(){return c(this,function(f,g){return g})}});var p=p||{},v=this||self;function m(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function y(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function E(l,f,g){return l.call.apply(l.bind,arguments)}function T(l,f,g){if(!l)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,S),l.apply(f,b)}}return function(){return l.apply(f,arguments)}}function w(l,f,g){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,w.apply(null,arguments)}function k(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),l.apply(this,S)}}function L(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(S,b,W){for(var le=Array(arguments.length-2),be=2;be<arguments.length;be++)le[be-2]=arguments[be];return f.prototype[b].apply(S,le)}}function F(l){const f=l.length;if(0<f){const g=Array(f);for(let S=0;S<f;S++)g[S]=l[S];return g}return[]}function j(l,f){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(m(S)){const b=l.length||0,W=S.length||0;l.length=b+W;for(let le=0;le<W;le++)l[b+le]=S[le]}else l.push(S)}}class Y{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function q(l){return/^[\s\xa0]*$/.test(l)}function Q(){var l=v.navigator;return l&&(l=l.userAgent)?l:""}function B(l){return B[" "](l),l}B[" "]=function(){};var X=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function J(l,f,g){for(const S in l)f.call(g,l[S],S,l)}function C(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function I(l){const f={};for(const g in l)f[g]=l[g];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,f){let g,S;for(let b=1;b<arguments.length;b++){S=arguments[b];for(g in S)l[g]=S[g];for(let W=0;W<A.length;W++)g=A[W],Object.prototype.hasOwnProperty.call(S,g)&&(l[g]=S[g])}}function D(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function V(l){v.setTimeout(()=>{throw l},0)}function R(){var l=ue;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Pe{constructor(){this.h=this.g=null}add(f,g){const S=K.get();S.set(f,g),this.h?this.h.next=S:this.g=S,this.h=S}}var K=new Y(()=>new ae,l=>l.reset());class ae{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,ee=!1,ue=new Pe,oe=()=>{const l=v.Promise.resolve(void 0);ye=()=>{l.then(O)}};var O=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(g){V(g)}var f=K;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}ee=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var _e=(function(){if(!v.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};v.addEventListener("test",g,f),v.removeEventListener("test",g,f)}catch{}return l})();function Te(l,f){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,S=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(X){e:{try{B(f.nodeName);var b=!0;break e}catch{}b=!1}b||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ce[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Te.aa.h.call(this)}}L(Te,de);var Ce={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),xe=0;function je(l,f,g,S,b){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!S,this.ha=b,this.key=++xe,this.da=this.fa=!1}function nt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Gn(l){this.src=l,this.g={},this.h=0}Gn.prototype.add=function(l,f,g,S,b){var W=l.toString();l=this.g[W],l||(l=this.g[W]=[],this.h++);var le=gr(l,f,S,b);return-1<le?(f=l[le],g||(f.fa=!1)):(f=new je(f,this.src,W,!!S,b),f.fa=g,l.push(f)),f};function Vi(l,f){var g=f.type;if(g in l.g){var S=l.g[g],b=Array.prototype.indexOf.call(S,f,void 0),W;(W=0<=b)&&Array.prototype.splice.call(S,b,1),W&&(nt(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function gr(l,f,g,S){for(var b=0;b<l.length;++b){var W=l[b];if(!W.da&&W.listener==f&&W.capture==!!g&&W.ha==S)return b}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),Mi={};function zs(l,f,g,S,b){if(Array.isArray(f)){for(var W=0;W<f.length;W++)zs(l,f[W],g,S,b);return null}return g=Ws(g),l&&l[Ie]?l.K(f,g,y(S)?!!S.capture:!1,b):$s(l,f,g,!1,S,b)}function $s(l,f,g,S,b,W){if(!f)throw Error("Invalid event type");var le=y(b)?!!b.capture:!!b,be=Li(l);if(be||(l[Gr]=be=new Gn(l)),g=be.add(f,g,S,le,W),g.proxy)return g;if(S=al(),g.proxy=S,S.src=l,S.listener=g,l.addEventListener)_e||(b=le),b===void 0&&(b=!1),l.addEventListener(f.toString(),S,b);else if(l.attachEvent)l.attachEvent(Xn(f.toString()),S);else if(l.addListener&&l.removeListener)l.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function al(){function l(g){return f.call(l.src,l.listener,g)}const f=Hs;return l}function Oi(l,f,g,S,b){if(Array.isArray(f))for(var W=0;W<f.length;W++)Oi(l,f[W],g,S,b);else S=y(S)?!!S.capture:!!S,g=Ws(g),l&&l[Ie]?(l=l.i,f=String(f).toString(),f in l.g&&(W=l.g[f],g=gr(W,g,S,b),-1<g&&(nt(W[g]),Array.prototype.splice.call(W,g,1),W.length==0&&(delete l.g[f],l.h--)))):l&&(l=Li(l))&&(f=l.g[f.toString()],l=-1,f&&(l=gr(f,g,S,b)),(g=-1<l?f[l]:null)&&Kn(g))}function Kn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Ie])Vi(f.i,l);else{var g=l.type,S=l.proxy;f.removeEventListener?f.removeEventListener(g,S,l.capture):f.detachEvent?f.detachEvent(Xn(g),S):f.addListener&&f.removeListener&&f.removeListener(S),(g=Li(f))?(Vi(g,l),g.h==0&&(g.src=null,f[Gr]=null)):nt(l)}}}function Xn(l){return l in Mi?Mi[l]:Mi[l]="on"+l}function Hs(l,f){if(l.da)l=!0;else{f=new Te(f,this);var g=l.listener,S=l.ha||l.src;l.fa&&Kn(l),l=g.call(S,f)}return l}function Li(l){return l=l[Gr],l instanceof Gn?l:null}var Fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ws(l){return typeof l=="function"?l:(l[Fi]||(l[Fi]=function(f){return l.handleEvent(f)}),l[Fi])}function ut(){G.call(this),this.i=new Gn(this),this.M=this,this.F=null}L(ut,G),ut.prototype[Ie]=!0,ut.prototype.removeEventListener=function(l,f,g,S){Oi(this,l,f,g,S)};function ct(l,f){var g,S=l.F;if(S)for(g=[];S;S=S.F)g.push(S);if(l=l.M,S=f.type||f,typeof f=="string")f=new de(f,l);else if(f instanceof de)f.target=f.target||l;else{var b=f;f=new de(S,l),x(f,b)}if(b=!0,g)for(var W=g.length-1;0<=W;W--){var le=f.g=g[W];b=Yn(le,S,!0,f)&&b}if(le=f.g=l,b=Yn(le,S,!0,f)&&b,b=Yn(le,S,!1,f)&&b,g)for(W=0;W<g.length;W++)le=f.g=g[W],b=Yn(le,S,!1,f)&&b}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],S=0;S<g.length;S++)nt(g[S]);delete l.g[f],l.h--}}this.F=null},ut.prototype.K=function(l,f,g,S){return this.i.add(String(l),f,!1,g,S)},ut.prototype.L=function(l,f,g,S){return this.i.add(String(l),f,!0,g,S)};function Yn(l,f,g,S){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var b=!0,W=0;W<f.length;++W){var le=f[W];if(le&&!le.da&&le.capture==g){var be=le.listener,ht=le.ha||le.src;le.fa&&Vi(l.i,le),b=be.call(ht,S)!==!1&&b}}return b&&!S.defaultPrevented}function Qs(l,f,g){if(typeof l=="function")g&&(l=w(l,g));else if(l&&typeof l.handleEvent=="function")l=w(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:v.setTimeout(l,f||0)}function yr(l){l.g=Qs(()=>{l.g=null,l.i&&(l.i=!1,yr(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Kr extends G{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(l){G.call(this),this.h=l,this.g={}}L(Xr,G);var qs=[];function Gs(l){J(l.g,function(f,g){this.g.hasOwnProperty(g)&&Kn(f)},l),l.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Gs(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ks=v.JSON.stringify,Xs=v.JSON.parse,Ys=class{stringify(l){return v.JSON.stringify(l,void 0)}parse(l){return v.JSON.parse(l,void 0)}};function Yr(){}Yr.prototype.h=null;function ji(l){return l.h||(l.h=l.i())}function bi(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mn(){de.call(this,"d")}L(Mn,de);function Ui(){de.call(this,"c")}L(Ui,de);var On={},Js=null;function Jr(){return Js=Js||new ut}On.La="serverreachability";function Zs(l){de.call(this,On.La,l)}L(Zs,de);function Jn(l){const f=Jr();ct(f,new Zs(f))}On.STAT_EVENT="statevent";function eo(l,f){de.call(this,On.STAT_EVENT,l),this.stat=f}L(eo,de);function rt(l){const f=Jr();ct(f,new eo(f,l))}On.Ma="timingevent";function Bi(l,f){de.call(this,On.Ma,l),this.size=f}L(Bi,de);function mn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return v.setTimeout(function(){l()},f)}function Zr(){this.g=!0}Zr.prototype.xa=function(){this.g=!1};function ei(l,f,g,S,b,W){l.info(function(){if(l.g)if(W)for(var le="",be=W.split("&"),ht=0;ht<be.length;ht++){var De=be[ht].split("=");if(1<De.length){var pt=De[0];De=De[1];var st=pt.split("_");le=2<=st.length&&st[1]=="type"?le+(pt+"="+De+"&"):le+(pt+"=redacted&")}}else le=null;else le=W;return"XMLHTTP REQ ("+S+") [attempt "+b+"]: "+f+`
`+g+`
`+le})}function zi(l,f,g,S,b,W,le){l.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+b+"]: "+f+`
`+g+`
`+W+" "+le})}function gn(l,f,g,S){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+su(l,g)+(S?" "+S:"")})}function to(l,f){l.info(function(){return"TIMEOUT: "+f})}Zr.prototype.info=function(){};function su(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var S=g[l];if(!(2>S.length)){var b=S[1];if(Array.isArray(b)&&!(1>b.length)){var W=b[0];if(W!="noop"&&W!="stop"&&W!="close")for(var le=1;le<b.length;le++)b[le]=""}}}}return Ks(g)}catch{return f}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ul={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yn;function ti(){}L(ti,Yr),ti.prototype.g=function(){return new XMLHttpRequest},ti.prototype.i=function(){return{}},yn=new ti;function vn(l,f,g,S){this.j=l,this.i=f,this.l=g,this.R=S||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cl}function cl(){this.i=null,this.g="",this.h=!1}var no={},Hi={};function Wi(l,f,g){l.L=1,l.v=Tr(Jt(f)),l.m=g,l.P=!0,ro(l,null)}function ro(l,f){l.F=Date.now(),ze(l),l.A=Jt(l.v);var g=l.A,S=l.R;Array.isArray(S)||(S=[String(S)]),Ir(g.i,"t",S),l.C=0,g=l.j.J,l.h=new cl,l.g=Rl(l.j,g?f:null,!l.m),0<l.O&&(l.M=new Kr(w(l.Y,l,l.g),l.O)),f=l.U,g=l.g,S=l.ca;var b="readystatechange";Array.isArray(b)||(b&&(qs[0]=b.toString()),b=qs);for(var W=0;W<b.length;W++){var le=zs(g,b[W],S||f.handleEvent,!1,f.h||f);if(!le)break;f.g[le.key]=le}f=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Jn(),ei(l.i,l.u,l.A,l.l,l.R,l.m)}vn.prototype.ca=function(l){l=l.target;const f=this.M;f&&zt(l)==3?f.j():this.Y(l)},vn.prototype.Y=function(l){try{if(l==this.g)e:{const st=zt(this.g);var f=this.g.Ba();const an=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||uo(this.g)))){this.J||st!=4||f==7||(f==8||0>=an?Jn(3):Jn(2)),ni(this);var g=this.g.Z();this.X=g;t:if(hl(this)){var S=uo(this.g);l="";var b=S.length,W=zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),vr(this);var le="";break t}this.h.i=new v.TextDecoder}for(f=0;f<b;f++)this.h.h=!0,l+=this.h.i.decode(S[f],{stream:!(W&&f==b-1)});S.length=0,this.h.g+=l,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=g==200,zi(this.i,this.u,this.A,this.l,this.R,st,g),this.o){if(this.T&&!this.K){t:{if(this.g){var be,ht=this.g;if((be=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(be)){var De=be;break t}}De=null}if(g=De)gn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,io(this,g);else{this.o=!1,this.s=3,rt(12),on(this),vr(this);break e}}if(this.P){g=!0;let en;for(;!this.J&&this.C<le.length;)if(en=ou(this,le),en==Hi){st==4&&(this.s=4,rt(14),g=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==no){this.s=4,rt(15),gn(this.i,this.l,le,"[Invalid Chunk]"),g=!1;break}else gn(this.i,this.l,en,null),io(this,en);if(hl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||le.length!=0||this.h.h||(this.s=1,rt(16),g=!1),this.o=this.o&&g,!g)gn(this.i,this.l,le,"[Invalid Chunked Response]"),on(this),vr(this);else if(0<le.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),ho(pt),pt.M=!0,rt(11))}}else gn(this.i,this.l,le,null),io(this,le);st==4&&on(this),this.o&&!this.J&&(st==4?ns(this.j,this):(this.o=!1,ze(this)))}else Yi(this.g),g==400&&0<le.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),on(this),vr(this)}}}catch{}finally{}};function hl(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function ou(l,f){var g=l.C,S=f.indexOf(`
`,g);return S==-1?Hi:(g=Number(f.substring(g,S)),isNaN(g)?no:(S+=1,S+g>f.length?Hi:(f=f.slice(S,S+g),l.C=S+g,f)))}vn.prototype.cancel=function(){this.J=!0,on(this)};function ze(l){l.S=Date.now()+l.I,fl(l,l.I)}function fl(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=mn(w(l.ba,l),f)}function ni(l){l.B&&(v.clearTimeout(l.B),l.B=null)}vn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(to(this.i,this.A),this.L!=2&&(Jn(),rt(17)),on(this),this.s=2,vr(this)):fl(this,this.S-l)};function vr(l){l.j.G==0||l.J||ns(l.j,l)}function on(l){ni(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Gs(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function io(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Ft(g.h,l))){if(!l.K&&Ft(g.h,l)&&g.G==3){try{var S=g.Da.g.parse(f)}catch{S=null}if(Array.isArray(S)&&S.length==3){var b=S;if(b[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)ts(g),Sn(g);else break e;es(g),rt(18)}}else g.za=b[1],0<g.za-g.T&&37500>b[2]&&g.F&&g.v==0&&!g.C&&(g.C=mn(w(g.Za,g),6e3));if(1>=pl(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else rr(g,11)}else if((l.K||g.g==l)&&ts(g),!q(f))for(b=g.Da.g.parse(f),f=0;f<b.length;f++){let De=b[f];if(g.T=De[0],De=De[1],g.G==2)if(De[0]=="c"){g.K=De[1],g.ia=De[2];const pt=De[3];pt!=null&&(g.la=pt,g.j.info("VER="+g.la));const st=De[4];st!=null&&(g.Aa=st,g.j.info("SVER="+g.Aa));const an=De[5];an!=null&&typeof an=="number"&&0<an&&(S=1.5*an,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const en=l.g;if(en){const ui=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var W=S.h;W.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(so(W,W.h),W.h=null))}if(S.D){const is=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;is&&(S.ya=is,Ue(S.I,S.D,is))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var le=l;if(S.qa=Pl(S,S.J?S.ia:null,S.W),le.K){ml(S.h,le);var be=le,ht=S.L;ht&&(be.I=ht),be.B&&(ni(be),ze(be)),S.g=le}else ai(S);0<g.i.length&&bn(g)}else De[0]!="stop"&&De[0]!="close"||rr(g,7);else g.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?rr(g,7):wt(g):De[0]!="noop"&&g.l&&g.l.ta(De),g.v=0)}}Jn(4)}catch{}}var dl=class{constructor(l,f){this.g=l,this.map=f}};function ri(l){this.l=l||10,v.PerformanceNavigationTiming?(l=v.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(v.chrome&&v.chrome.loadTimes&&v.chrome.loadTimes()&&v.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function pl(l){return l.h?1:l.g?l.g.size:0}function Ft(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function so(l,f){l.g?l.g.add(f):l.h=f}function ml(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}ri.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function gl(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return F(l.i)}function Qi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(m(l)){for(var f=[],g=l.length,S=0;S<g;S++)f.push(l[S]);return f}f=[],g=0;for(S in l)f[g++]=l[S];return f}function qi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(m(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const S in l)f[g++]=S;return f}}}function _r(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(m(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=qi(l),S=Qi(l),b=S.length,W=0;W<b;W++)f.call(void 0,S[W],g&&g[W],l)}var ii=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lu(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var S=l[g].indexOf("="),b=null;if(0<=S){var W=l[g].substring(0,S);b=l[g].substring(S+1)}else W=l[g];f(W,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Zn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Zn){this.h=l.h,si(this,l.j),this.o=l.o,this.g=l.g,Er(this,l.s),this.l=l.l;var f=l.i,g=new Ln;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),wr(this,g),this.m=l.m}else l&&(f=String(l).match(ii))?(this.h=!1,si(this,f[1]||"",!0),this.o=Ne(f[2]||""),this.g=Ne(f[3]||"",!0),Er(this,f[4]),this.l=Ne(f[5]||"",!0),wr(this,f[6]||"",!0),this.m=Ne(f[7]||"")):(this.h=!1,this.i=new Ln(null,this.h))}Zn.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Sr(f,Gi,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Sr(f,Gi,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Sr(g,g.charAt(0)=="/"?_l:vl,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Sr(g,oo)),l.join("")};function Jt(l){return new Zn(l)}function si(l,f,g){l.j=g?Ne(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Er(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function wr(l,f,g){f instanceof Ln?(l.i=f,Fn(l.i,l.h)):(g||(f=Sr(f,El)),l.i=new Ln(f,l.h))}function Ue(l,f,g){l.i.set(f,g)}function Tr(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ne(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Sr(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,yl),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function yl(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Gi=/[#\/\?@]/g,vl=/[#\?:]/g,_l=/[#\?]/g,El=/[#\?@]/g,oo=/#/g;function Ln(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Et(l){l.g||(l.g=new Map,l.h=0,l.i&&lu(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}i=Ln.prototype,i.add=function(l,f){Et(this),this.i=null,l=ln(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function _n(l,f){Et(l),f=ln(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function En(l,f){return Et(l),f=ln(l,f),l.g.has(f)}i.forEach=function(l,f){Et(this),this.g.forEach(function(g,S){g.forEach(function(b){l.call(f,b,S,this)},this)},this)},i.na=function(){Et(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let S=0;S<f.length;S++){const b=l[S];for(let W=0;W<b.length;W++)g.push(f[S])}return g},i.V=function(l){Et(this);let f=[];if(typeof l=="string")En(this,l)&&(f=f.concat(this.g.get(ln(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},i.set=function(l,f){return Et(this),this.i=null,l=ln(this,l),En(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Ir(l,f,g){_n(l,f),0<g.length&&(l.i=null,l.g.set(ln(l,f),F(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var S=f[g];const W=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var b=W;le[S]!==""&&(b+="="+encodeURIComponent(String(le[S]))),l.push(b)}}return this.i=l.join("&")};function ln(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Fn(l,f){f&&!l.j&&(Et(l),l.i=null,l.g.forEach(function(g,S){var b=S.toLowerCase();S!=b&&(_n(this,S),Ir(this,b,g))},l)),l.j=f}function au(l,f){const g=new Zr;if(v.Image){const S=new Image;S.onload=k(Bt,g,"TestLoadImage: loaded",!0,f,S),S.onerror=k(Bt,g,"TestLoadImage: error",!1,f,S),S.onabort=k(Bt,g,"TestLoadImage: abort",!1,f,S),S.ontimeout=k(Bt,g,"TestLoadImage: timeout",!1,f,S),v.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=l}else f(!1)}function wl(l,f){const g=new Zr,S=new AbortController,b=setTimeout(()=>{S.abort(),Bt(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:S.signal}).then(W=>{clearTimeout(b),W.ok?Bt(g,"TestPingServer: ok",!0,f):Bt(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(b),Bt(g,"TestPingServer: error",!1,f)})}function Bt(l,f,g,S,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),S(g)}catch{}}function uu(){this.g=new Ys}function Tl(l,f,g){const S=g||"";try{_r(l,function(b,W){let le=b;y(b)&&(le=Ks(b)),f.push(S+W+"="+encodeURIComponent(le))})}catch(b){throw f.push(S+"type="+encodeURIComponent("_badmap")),b}}function er(l){this.l=l.Ub||null,this.j=l.eb||!1}L(er,Yr),er.prototype.g=function(){return new oi(this.l,this.j)},er.prototype.i=(function(l){return function(){return l}})({});function oi(l,f){ut.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(oi,ut),i=oi.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Tn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||v).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof v.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?wn(this):Tn(this),this.readyState==3&&Sl(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,wn(this))},i.Qa=function(l){this.g&&(this.response=l,wn(this))},i.ga=function(){this.g&&wn(this)};function wn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Tn(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function Tn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function tr(l){let f="";return J(l,function(g,S){f+=S,f+=":",f+=g,f+=`\r
`}),f}function Ar(l,f,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=tr(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ue(l,f,g))}function qe(l){ut.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(qe,ut);var cu=/^https?$/i,lo=["POST","PUT"];i=qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yn.g(),this.v=this.o?ji(this.o):ji(yn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(W){li(this,W);return}if(l=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var b in S)g.set(b,S[b]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())g.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(W=>W.toLowerCase()=="content-type"),b=v.FormData&&l instanceof v.FormData,!(0<=Array.prototype.indexOf.call(lo,f,void 0))||S||b||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,le]of g)this.g.setRequestHeader(W,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xi(this),this.u=!0,this.g.send(l),this.u=!1}catch(W){li(this,W)}};function li(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Ki(l),Zt(l)}function Ki(l){l.A||(l.A=!0,ct(l,"complete"),ct(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ct(this,"complete"),ct(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ao(this):this.bb())},i.bb=function(){ao(this)};function ao(l){if(l.h&&typeof p<"u"&&(!l.v[1]||zt(l)!=4||l.Z()!=2)){if(l.u&&zt(l)==4)Qs(l.Ea,0,l);else if(ct(l,"readystatechange"),zt(l)==4){l.h=!1;try{const le=l.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var S;if(S=le===0){var b=String(l.D).match(ii)[1]||null;!b&&v.self&&v.self.location&&(b=v.self.location.protocol.slice(0,-1)),S=!cu.test(b?b.toLowerCase():"")}g=S}if(g)ct(l,"complete"),ct(l,"success");else{l.m=6;try{var W=2<zt(l)?l.g.statusText:""}catch{W=""}l.l=W+" ["+l.Z()+"]",Ki(l)}}finally{Zt(l)}}}}function Zt(l,f){if(l.g){Xi(l);const g=l.g,S=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||ct(l,"ready");try{g.onreadystatechange=S}catch{}}}function Xi(l){l.I&&(v.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function zt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<zt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Xs(f)}};function uo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(l){const f={};l=(l.g&&2<=zt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<l.length;S++){if(q(l[S]))continue;var g=D(l[S]);const b=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const W=f[b]||[];f[b]=W,W.push(g)}C(f,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jn(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function co(l){this.Aa=0,this.i=[],this.j=new Zr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jn("baseRetryDelayMs",5e3,l),this.cb=jn("retryDelaySeedMs",1e4,l),this.Wa=jn("forwardChannelMaxRetries",2,l),this.wa=jn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(l&&l.concurrentRequestLimit),this.Da=new uu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=co.prototype,i.la=8,i.G=1,i.connect=function(l,f,g,S){rt(0),this.W=l,this.H=f||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=Pl(this,null,this.W),bn(this)};function wt(l){if(Ji(l),l.G==3){var f=l.U++,g=Jt(l.I);if(Ue(g,"SID",l.K),Ue(g,"RID",f),Ue(g,"TYPE","terminate"),nr(l,g),f=new vn(l,l.j,f),f.L=2,f.v=Tr(Jt(g)),g=!1,v.navigator&&v.navigator.sendBeacon)try{g=v.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&v.Image&&(new Image().src=f.v,g=!0),g||(f.g=Rl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ze(f)}Cl(l)}function Sn(l){l.g&&(ho(l),l.g.cancel(),l.g=null)}function Ji(l){Sn(l),l.u&&(v.clearTimeout(l.u),l.u=null),ts(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&v.clearTimeout(l.s),l.s=null)}function bn(l){if(!Yt(l.h)&&!l.s){l.s=!0;var f=l.Ga;ye||oe(),ee||(ye(),ee=!0),ue.add(f,l),l.B=0}}function hu(l,f){return pl(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=mn(w(l.Ga,l,f),Al(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const b=new vn(this,this.j,l);let W=this.o;if(this.S&&(W?(W=I(W),x(W,this.S)):W=this.S),this.m!==null||this.O||(b.H=W,W=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(f+=S,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Cr(this,b,f),g=Jt(this.I),Ue(g,"RID",l),Ue(g,"CVER",22),this.D&&Ue(g,"X-HTTP-Session-Id",this.D),nr(this,g),W&&(this.O?f="headers="+encodeURIComponent(String(tr(W)))+"&"+f:this.m&&Ar(g,this.m,W)),so(this.h,b),this.Ua&&Ue(g,"TYPE","init"),this.P?(Ue(g,"$req",f),Ue(g,"SID","null"),b.T=!0,Wi(b,g,null)):Wi(b,g,f),this.G=2}}else this.G==3&&(l?Zi(this,l):this.i.length==0||Yt(this.h)||Zi(this))};function Zi(l,f){var g;f?g=f.l:g=l.U++;const S=Jt(l.I);Ue(S,"SID",l.K),Ue(S,"RID",g),Ue(S,"AID",l.T),nr(l,S),l.m&&l.o&&Ar(S,l.m,l.o),g=new vn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Cr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),so(l.h,g),Wi(g,S,f)}function nr(l,f){l.H&&J(l.H,function(g,S){Ue(f,S,g)}),l.l&&_r({},function(g,S){Ue(f,S,g)})}function Cr(l,f,g){g=Math.min(l.i.length,g);var S=l.l?w(l.l.Na,l.l,l):null;e:{var b=l.i;let W=-1;for(;;){const le=["count="+g];W==-1?0<g?(W=b[0].g,le.push("ofs="+W)):W=0:le.push("ofs="+W);let be=!0;for(let ht=0;ht<g;ht++){let De=b[ht].g;const pt=b[ht].map;if(De-=W,0>De)W=Math.max(0,b[ht].g-100),be=!1;else try{Tl(pt,le,"req"+De+"_")}catch{S&&S(pt)}}if(be){S=le.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,S}function ai(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;ye||oe(),ee||(ye(),ee=!0),ue.add(f,l),l.v=0}}function es(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=mn(w(l.Fa,l),Al(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Il(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=mn(w(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Sn(this),Il(this))};function ho(l){l.A!=null&&(v.clearTimeout(l.A),l.A=null)}function Il(l){l.g=new vn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Jt(l.qa);Ue(f,"RID","rpc"),Ue(f,"SID",l.K),Ue(f,"AID",l.T),Ue(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(f,"TO",l.ja),Ue(f,"TYPE","xmlhttp"),nr(l,f),l.m&&l.o&&Ar(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Tr(Jt(f)),g.m=null,g.P=!0,ro(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Sn(this),es(this),rt(19))};function ts(l){l.C!=null&&(v.clearTimeout(l.C),l.C=null)}function ns(l,f){var g=null;if(l.g==f){ts(l),ho(l),l.g=null;var S=2}else if(Ft(l.h,f))g=f.D,ml(l.h,f),S=1;else return;if(l.G!=0){if(f.o)if(S==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var b=l.B;S=Jr(),ct(S,new Bi(S,g)),bn(l)}else ai(l);else if(b=f.s,b==3||b==0&&0<f.X||!(S==1&&hu(l,f)||S==2&&es(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),b){case 1:rr(l,5);break;case 4:rr(l,10);break;case 3:rr(l,6);break;default:rr(l,2)}}}function Al(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function rr(l,f){if(l.j.info("Error code "+f),f==2){var g=w(l.fb,l),S=l.Xa;const b=!S;S=new Zn(S||"//www.google.com/images/cleardot.gif"),v.location&&v.location.protocol=="http"||si(S,"https"),Tr(S),b?au(S.toString(),g):wl(S.toString(),g)}else rt(2);l.G=0,l.l&&l.l.sa(f),Cl(l),Ji(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Cl(l){if(l.G=0,l.ka=[],l.l){const f=gl(l.h);(f.length!=0||l.i.length!=0)&&(j(l.ka,f),j(l.ka,l.i),l.h.i.length=0,F(l.i),l.i.length=0),l.l.ra()}}function Pl(l,f,g){var S=g instanceof Zn?Jt(g):new Zn(g);if(S.g!="")f&&(S.g=f+"."+S.g),Er(S,S.s);else{var b=v.location;S=b.protocol,f=f?f+"."+b.hostname:b.hostname,b=+b.port;var W=new Zn(null);S&&si(W,S),f&&(W.g=f),b&&Er(W,b),g&&(W.l=g),S=W}return g=l.D,f=l.ya,g&&f&&Ue(S,g,f),Ue(S,"VER",l.la),nr(l,S),S}function Rl(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new qe(new er({eb:g})):new qe(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function fo(){}i=fo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function rs(){}rs.prototype.g=function(l,f){return new jt(l,f)};function jt(l,f){ut.call(this),this.g=new co(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!q(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!q(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Un(this)}L(jt,ut),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){wt(this.g)},jt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Ks(l),l=g);f.i.push(new dl(f.Ya++,l)),f.G==3&&bn(f)},jt.prototype.N=function(){this.g.l=null,delete this.j,wt(this.g),delete this.g,jt.aa.N.call(this)};function kl(l){Mn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}L(kl,Mn);function xl(){Ui.call(this),this.status=1}L(xl,Ui);function Un(l){this.g=l}L(Un,fo),Un.prototype.ua=function(){ct(this.g,"a")},Un.prototype.ta=function(l){ct(this.g,new kl(l))},Un.prototype.sa=function(l){ct(this.g,new xl)},Un.prototype.ra=function(){ct(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,Rm=function(){return new rs},Pm=function(){return Jr()},Cm=On,Gc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,xa=$i,ul.COMPLETE="complete",Am=ul,bi.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,bo=bi,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,Im=qe}).apply(typeof Ia<"u"?Ia:typeof self<"u"?self:typeof window<"u"?window:{});const fp="@firebase/firestore",dp="4.8.0";class Mt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");let Us="11.10.0";const Pi=new vm("@firebase/firestore");function As(){return Pi.logLevel}function me(i,...t){if(Pi.logLevel<=Me.DEBUG){const r=t.map(dh);Pi.debug(`Firestore (${Us}): ${i}`,...r)}}function Ri(i,...t){if(Pi.logLevel<=Me.ERROR){const r=t.map(dh);Pi.error(`Firestore (${Us}): ${i}`,...r)}}function Ns(i,...t){if(Pi.logLevel<=Me.WARN){const r=t.map(dh);Pi.warn(`Firestore (${Us}): ${i}`,...r)}}function dh(i){if(typeof i=="string")return i;try{return(function(r){return JSON.stringify(r)})(i)}catch{return i}}function Re(i,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,km(i,o,r)}function km(i,t,r){let o=`FIRESTORE (${Us}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(r!==void 0)try{o+=" CONTEXT: "+JSON.stringify(r)}catch{o+=" CONTEXT: "+r}throw Ri(o),new Error(o)}function tt(i,t,r,o){let a="Unexpected state";typeof r=="string"?a=r:o=r,i||km(t,a,o)}function He(i,t){return i}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends bs{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}class xm{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class H_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(Mt.UNAUTHENTICATED)))}shutdown(){}}class W_{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Q_{constructor(t){this.t=t,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){tt(this.o===void 0,42304);let o=this.i;const a=m=>this.i!==o?(o=this.i,r(m)):Promise.resolve();let c=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ii,t.enqueueRetryable((()=>a(this.currentUser)))};const p=()=>{const m=c;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},v=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((m=>v(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?v(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ii)}}),0),p()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((o=>this.i!==t?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(tt(typeof o.accessToken=="string",31837,{l:o}),new xm(o.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return tt(t===null||typeof t=="string",2055,{h:t}),new Mt(t)}}class q_{constructor(t,r,o){this.P=t,this.T=r,this.I=o,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G_{constructor(t,r,o){this.P=t,this.T=r,this.I=o}getToken(){return Promise.resolve(new q_(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(Mt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pp{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K_{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,P_(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){tt(this.o===void 0,3512);const o=c=>{c.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,me("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>o(c)))};const a=c=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pp(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(tt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new pp(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function X_(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}function Y_(){return new TextEncoder}class ph{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const a=X_(40);for(let c=0;c<a.length;++c)o.length<20&&a[c]<r&&(o+=t.charAt(a[c]%62))}return o}}function Le(i,t){return i<t?-1:i>t?1:0}function Kc(i,t){let r=0;for(;r<i.length&&r<t.length;){const o=i.codePointAt(r),a=t.codePointAt(r);if(o!==a){if(o<128&&a<128)return Le(o,a);{const c=Y_(),p=J_(c.encode(mp(i,r)),c.encode(mp(t,r)));return p!==0?p:Le(o,a)}}r+=o>65535?2:1}return Le(i.length,t.length)}function mp(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function J_(i,t){for(let r=0;r<i.length&&r<t.length;++r)if(i[r]!==t[r])return Le(i[r],t[r]);return Le(i.length,t.length)}function Ds(i,t,r){return i.length===t.length&&i.every(((o,a)=>r(o,t[a])))}const gp="__name__";class Wn{constructor(t,r,o){r===void 0?r=0:r>t.length&&Re(637,{offset:r,range:t.length}),o===void 0?o=t.length-r:o>t.length-r&&Re(1746,{length:o,range:t.length-r}),this.segments=t,this.offset=r,this.len=o}get length(){return this.len}isEqual(t){return Wn.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Wn?t.forEach((o=>{r.push(o)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,o=this.limit();r<o;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const o=Math.min(t.length,r.length);for(let a=0;a<o;a++){const c=Wn.compareSegments(t.get(a),r.get(a));if(c!==0)return c}return Le(t.length,r.length)}static compareSegments(t,r){const o=Wn.isNumericId(t),a=Wn.isNumericId(r);return o&&!a?-1:!o&&a?1:o&&a?Wn.extractNumericId(t).compare(Wn.extractNumericId(r)):Kc(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return fh.fromString(t.substring(4,t.length-2))}}class Ze extends Wn{construct(t,r,o){return new Ze(t,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const o of t){if(o.indexOf("//")>=0)throw new ve(re.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter((a=>a.length>0)))}return new Ze(r)}static emptyPath(){return new Ze([])}}const Z_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Wn{construct(t,r,o){return new Ct(t,r,o)}static isValidIdentifier(t){return Z_.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gp}static keyField(){return new Ct([gp])}static fromServerFormat(t){const r=[];let o="",a=0;const c=()=>{if(o.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let p=!1;for(;a<t.length;){const v=t[a];if(v==="\\"){if(a+1===t.length)throw new ve(re.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ve(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=m,a+=2}else v==="`"?(p=!p,a++):v!=="."||p?(o+=v,a++):(c(),a++)}if(c(),p)throw new ve(re.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ct(r)}static emptyPath(){return new Ct([])}}class Ae{constructor(t){this.path=t}static fromPath(t){return new Ae(Ze.fromString(t))}static fromName(t){return new Ae(Ze.fromString(t).popFirst(5))}static empty(){return new Ae(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ze.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ze.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ae(new Ze(t.slice()))}}function Nm(i,t,r){if(!r)throw new ve(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function e0(i,t,r,o){if(t===!0&&o===!0)throw new ve(re.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function yp(i){if(!Ae.isDocumentKey(i))throw new ve(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function vp(i){if(Ae.isDocumentKey(i))throw new ve(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Dm(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function mh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(o){return o.constructor?o.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Re(12329,{type:typeof i})}function Vm(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ve(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=mh(i);throw new ve(re.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return i}function at(i,t){const r={typeString:i};return t&&(r.value=t),r}function nl(i,t){if(!Dm(i))throw new ve(re.INVALID_ARGUMENT,"JSON must be an object");let r;for(const o in t)if(t[o]){const a=t[o].typeString,c="value"in t[o]?{value:t[o].value}:void 0;if(!(o in i)){r=`JSON missing required field: '${o}'`;break}const p=i[o];if(a&&typeof p!==a){r=`JSON field '${o}' must be a ${a}.`;break}if(c!==void 0&&p!==c.value){r=`Expected '${o}' field to equal '${c.value}'`;break}}if(r)throw new ve(re.INVALID_ARGUMENT,r);return!0}const _p=-62135596800,Ep=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(t){return Xe.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),o=Math.floor((t-1e3*r)*Ep);return new Xe(r,o)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<_p)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ep}_compareTo(t){return this.seconds===t.seconds?Le(this.nanoseconds,t.nanoseconds):Le(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(nl(t,Xe._jsonSchema))return new Xe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_p;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:at("string",Xe._jsonSchemaVersion),seconds:at("number"),nanoseconds:at("number")};class Ke{static fromTimestamp(t){return new Ke(t)}static min(){return new Ke(new Xe(0,0))}static max(){return new Ke(new Xe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yo=-1;function t0(i,t){const r=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,a=Ke.fromTimestamp(o===1e9?new Xe(r+1,0):new Xe(r,o));return new Hr(a,Ae.empty(),t)}function n0(i){return new Hr(i.readTime,i.key,Yo)}class Hr{constructor(t,r,o){this.readTime=t,this.documentKey=r,this.largestBatchId=o}static min(){return new Hr(Ke.min(),Ae.empty(),Yo)}static max(){return new Hr(Ke.max(),Ae.empty(),Yo)}}function r0(i,t){let r=i.readTime.compareTo(t.readTime);return r!==0?r:(r=Ae.comparator(i.documentKey,t.documentKey),r!==0?r:Le(i.largestBatchId,t.largestBatchId))}const i0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function gh(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==i0)throw i;me("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Z(((o,a)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(o,a)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,a)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof Z?r:Z.resolve(r)}catch(r){return Z.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):Z.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):Z.reject(r)}static resolve(t){return new Z(((r,o)=>{r(t)}))}static reject(t){return new Z(((r,o)=>{o(t)}))}static waitFor(t){return new Z(((r,o)=>{let a=0,c=0,p=!1;t.forEach((v=>{++a,v.next((()=>{++c,p&&c===a&&r()}),(m=>o(m)))})),p=!0,c===a&&r()}))}static or(t){let r=Z.resolve(!1);for(const o of t)r=r.next((a=>a?Z.resolve(a):o()));return r}static forEach(t,r){const o=[];return t.forEach(((a,c)=>{o.push(r.call(this,a,c))})),this.waitFor(o)}static mapArray(t,r){return new Z(((o,a)=>{const c=t.length,p=new Array(c);let v=0;for(let m=0;m<c;m++){const y=m;r(t[y]).next((E=>{p[y]=E,++v,v===c&&o(p)}),(E=>a(E)))}}))}static doWhile(t,r){return new Z(((o,a)=>{const c=()=>{t()===!0?r().next((()=>{c()}),a):o()};c()}))}}function o0(i){const t=i.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function rl(i){return i.name==="IndexedDbTransactionError"}class yh{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this._e(o),this.ae=o=>r.writeSequenceNumber(o))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}yh.ue=-1;const vh=-1;function _h(i){return i==null}function Ua(i){return i===0&&1/i==-1/0}function l0(i){return typeof i=="number"&&Number.isInteger(i)&&!Ua(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Mm="";function a0(i){let t="";for(let r=0;r<i.length;r++)t.length>0&&(t=wp(t)),t=u0(i.get(r),t);return wp(t)}function u0(i,t){let r=t;const o=i.length;for(let a=0;a<o;a++){const c=i.charAt(a);switch(c){case"\0":r+="";break;case Mm:r+="";break;default:r+=c}}return r}function wp(i){return i+Mm+""}function Tp(i){let t=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t++;return t}function Bs(i,t){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t(r,i[r])}function Om(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class Xt{constructor(t,r){this.comparator=t,this.root=r||It.EMPTY}insert(t,r){return new Xt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,It.BLACK,null,null))}remove(t){return new Xt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,It.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(t){let r=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(t,o.key);if(a===0)return r+o.left.size;a<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,o)=>(t(r,o),!1)))}toString(){const t=[];return this.inorderTraversal(((r,o)=>(t.push(`${r}:${o}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Aa(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Aa(this.root,t,this.comparator,!1)}getReverseIterator(){return new Aa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Aa(this.root,t,this.comparator,!0)}}class Aa{constructor(t,r,o,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=r?o(t.key,r):1,r&&a&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class It{constructor(t,r,o,a,c){this.key=t,this.value=r,this.color=o??It.RED,this.left=a??It.EMPTY,this.right=c??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,o,a,c){return new It(t??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const c=o(t,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(t,r,o),null):c===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let o,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return It.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Re(27949);return t+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(t,r,o,a,c){return this}insert(t,r,o){return new It(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(t){this.comparator=t,this.data=new Xt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,o)=>(t(r),!1)))}forEachInRange(t,r){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Sp(this.data.getIterator())}getIteratorFrom(t){return new Sp(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((o=>{r=r.add(o)})),r}isEqual(t){if(!(t instanceof Pt)||this.size!==t.size)return!1;const r=this.data.getIterator(),o=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,c=o.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new Pt(this.comparator);return r.data=t,r}}class Sp{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(t){this.fields=t,t.sort(Ct.comparator)}static empty(){return new Vn([])}unionWith(t){let r=new Pt(Ct.comparator);for(const o of this.fields)r=r.add(o);for(const o of t)r=r.add(o);return new Vn(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Ds(this.fields,t.fields,((r,o)=>r.isEqual(o)))}}class c0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qn{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new c0("Invalid base64 string: "+c):c}})(t);return new Qn(r)}static fromUint8Array(t){const r=(function(a){let c="";for(let p=0;p<a.length;++p)c+=String.fromCharCode(a[p]);return c})(t);return new Qn(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const o=new Uint8Array(r.length);for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return o})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Le(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const h0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(i){if(tt(!!i,39018),typeof i=="string"){let t=0;const r=h0.exec(i);if(tt(!!r,46558,{timestamp:i}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:At(i.seconds),nanos:At(i.nanos)}}function At(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Vs(i){return typeof i=="string"?Qn.fromBase64String(i):Qn.fromUint8Array(i)}const Lm="server_timestamp",Fm="__type__",jm="__previous_value__",bm="__local_write_time__";function Eh(i){var t,r;return((r=(((t=i?.mapValue)===null||t===void 0?void 0:t.fields)||{})[Fm])===null||r===void 0?void 0:r.stringValue)===Lm}function wh(i){const t=i.mapValue.fields[jm];return Eh(t)?wh(t):t}function Ba(i){const t=ki(i.mapValue.fields[bm].timestampValue);return new Xe(t.seconds,t.nanos)}class f0{constructor(t,r,o,a,c,p,v,m,y,E){this.databaseId=t,this.appId=r,this.persistenceKey=o,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=v,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=E}}const za="(default)";class $a{constructor(t,r){this.projectId=t,this.database=r||za}static empty(){return new $a("","")}get isDefaultDatabase(){return this.database===za}isEqual(t){return t instanceof $a&&t.projectId===this.projectId&&t.database===this.database}}const Um="__type__",d0="__max__",Ca={mapValue:{}},Bm="__vector__",Xc="value";function xi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Eh(i)?4:m0(i)?9007199254740991:p0(i)?10:11:Re(28295,{value:i})}function qn(i,t){if(i===t)return!0;const r=xi(i);if(r!==xi(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Ba(i).isEqual(Ba(t));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const p=ki(a.timestampValue),v=ki(c.timestampValue);return p.seconds===v.seconds&&p.nanos===v.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(a,c){return Vs(a.bytesValue).isEqual(Vs(c.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(a,c){return At(a.geoPointValue.latitude)===At(c.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(c.geoPointValue.longitude)})(i,t);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return At(a.integerValue)===At(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const p=At(a.doubleValue),v=At(c.doubleValue);return p===v?Ua(p)===Ua(v):isNaN(p)&&isNaN(v)}return!1})(i,t);case 9:return Ds(i.arrayValue.values||[],t.arrayValue.values||[],qn);case 10:case 11:return(function(a,c){const p=a.mapValue.fields||{},v=c.mapValue.fields||{};if(Tp(p)!==Tp(v))return!1;for(const m in p)if(p.hasOwnProperty(m)&&(v[m]===void 0||!qn(p[m],v[m])))return!1;return!0})(i,t);default:return Re(52216,{left:i})}}function Jo(i,t){return(i.values||[]).find((r=>qn(r,t)))!==void 0}function Ms(i,t){if(i===t)return 0;const r=xi(i),o=xi(t);if(r!==o)return Le(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Le(i.booleanValue,t.booleanValue);case 2:return(function(c,p){const v=At(c.integerValue||c.doubleValue),m=At(p.integerValue||p.doubleValue);return v<m?-1:v>m?1:v===m?0:isNaN(v)?isNaN(m)?0:-1:1})(i,t);case 3:return Ip(i.timestampValue,t.timestampValue);case 4:return Ip(Ba(i),Ba(t));case 5:return Kc(i.stringValue,t.stringValue);case 6:return(function(c,p){const v=Vs(c),m=Vs(p);return v.compareTo(m)})(i.bytesValue,t.bytesValue);case 7:return(function(c,p){const v=c.split("/"),m=p.split("/");for(let y=0;y<v.length&&y<m.length;y++){const E=Le(v[y],m[y]);if(E!==0)return E}return Le(v.length,m.length)})(i.referenceValue,t.referenceValue);case 8:return(function(c,p){const v=Le(At(c.latitude),At(p.latitude));return v!==0?v:Le(At(c.longitude),At(p.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return Ap(i.arrayValue,t.arrayValue);case 10:return(function(c,p){var v,m,y,E;const T=c.fields||{},w=p.fields||{},k=(v=T[Xc])===null||v===void 0?void 0:v.arrayValue,L=(m=w[Xc])===null||m===void 0?void 0:m.arrayValue,F=Le(((y=k?.values)===null||y===void 0?void 0:y.length)||0,((E=L?.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:Ap(k,L)})(i.mapValue,t.mapValue);case 11:return(function(c,p){if(c===Ca.mapValue&&p===Ca.mapValue)return 0;if(c===Ca.mapValue)return 1;if(p===Ca.mapValue)return-1;const v=c.fields||{},m=Object.keys(v),y=p.fields||{},E=Object.keys(y);m.sort(),E.sort();for(let T=0;T<m.length&&T<E.length;++T){const w=Kc(m[T],E[T]);if(w!==0)return w;const k=Ms(v[m[T]],y[E[T]]);if(k!==0)return k}return Le(m.length,E.length)})(i.mapValue,t.mapValue);default:throw Re(23264,{le:r})}}function Ip(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Le(i,t);const r=ki(i),o=ki(t),a=Le(r.seconds,o.seconds);return a!==0?a:Le(r.nanos,o.nanos)}function Ap(i,t){const r=i.values||[],o=t.values||[];for(let a=0;a<r.length&&a<o.length;++a){const c=Ms(r[a],o[a]);if(c)return c}return Le(r.length,o.length)}function Os(i){return Yc(i)}function Yc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(r){const o=ki(r);return`time(${o.seconds},${o.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(r){return Vs(r).toBase64()})(i.bytesValue):"referenceValue"in i?(function(r){return Ae.fromName(r).toString()})(i.referenceValue):"geoPointValue"in i?(function(r){return`geo(${r.latitude},${r.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(r){let o="[",a=!0;for(const c of r.values||[])a?a=!1:o+=",",o+=Yc(c);return o+"]"})(i.arrayValue):"mapValue"in i?(function(r){const o=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const p of o)c?c=!1:a+=",",a+=`${p}:${Yc(r.fields[p])}`;return a+"}"})(i.mapValue):Re(61005,{value:i})}function Na(i){switch(xi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wh(i);return t?16+Na(t):16;case 5:return 2*i.stringValue.length;case 6:return Vs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(o){return(o.values||[]).reduce(((a,c)=>a+Na(c)),0)})(i.arrayValue);case 10:case 11:return(function(o){let a=0;return Bs(o.fields,((c,p)=>{a+=c.length+Na(p)})),a})(i.mapValue);default:throw Re(13486,{value:i})}}function Jc(i){return!!i&&"integerValue"in i}function Th(i){return!!i&&"arrayValue"in i}function Da(i){return!!i&&"mapValue"in i}function p0(i){var t,r;return((r=(((t=i?.mapValue)===null||t===void 0?void 0:t.fields)||{})[Um])===null||r===void 0?void 0:r.stringValue)===Bm}function Bo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Bs(i.mapValue.fields,((r,o)=>t.mapValue.fields[r]=Bo(o))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Bo(i.arrayValue.values[r]);return t}return Object.assign({},i)}function m0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===d0}class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let o=0;o<t.length-1;++o)if(r=(r.mapValue.fields||{})[t.get(o)],!Da(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bo(r)}setAll(t){let r=Ct.emptyPath(),o={},a=[];t.forEach(((p,v)=>{if(!r.isImmediateParentOf(v)){const m=this.getFieldsMap(r);this.applyChanges(m,o,a),o={},a=[],r=v.popLast()}p?o[v.lastSegment()]=Bo(p):a.push(v.lastSegment())}));const c=this.getFieldsMap(r);this.applyChanges(c,o,a)}delete(t){const r=this.field(t.popLast());Da(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return qn(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<t.length;++o){let a=r.mapValue.fields[t.get(o)];Da(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(o)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,o){Bs(r,((a,c)=>t[a]=c));for(const a of o)delete t[a]}clone(){return new Nn(Bo(this.value))}}function zm(i){const t=[];return Bs(i.fields,((r,o)=>{const a=new Ct([r]);if(Da(o)){const c=zm(o.mapValue).fields;if(c.length===0)t.push(a);else for(const p of c)t.push(a.child(p))}else t.push(a)})),new Vn(t)}class xn{constructor(t,r,o,a,c,p,v){this.key=t,this.documentType=r,this.version=o,this.readTime=a,this.createTime=c,this.data=p,this.documentState=v}static newInvalidDocument(t){return new xn(t,0,Ke.min(),Ke.min(),Ke.min(),Nn.empty(),0)}static newFoundDocument(t,r,o,a){return new xn(t,1,r,Ke.min(),o,a,0)}static newNoDocument(t,r){return new xn(t,2,r,Ke.min(),Ke.min(),Nn.empty(),0)}static newUnknownDocument(t,r){return new xn(t,3,r,Ke.min(),Ke.min(),Nn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof xn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ha{constructor(t,r){this.position=t,this.inclusive=r}}function Cp(i,t,r){let o=0;for(let a=0;a<i.position.length;a++){const c=t[a],p=i.position[a];if(c.field.isKeyField()?o=Ae.comparator(Ae.fromName(p.referenceValue),r.key):o=Ms(p,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function Pp(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!qn(i.position[r],t.position[r]))return!1;return!0}class Wa{constructor(t,r="asc"){this.field=t,this.dir=r}}function g0(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class $m{}class _t extends $m{constructor(t,r,o){super(),this.field=t,this.op=r,this.value=o}static create(t,r,o){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,o):new v0(t,r,o):r==="array-contains"?new w0(t,o):r==="in"?new T0(t,o):r==="not-in"?new S0(t,o):r==="array-contains-any"?new I0(t,o):new _t(t,r,o)}static createKeyFieldInFilter(t,r,o){return r==="in"?new _0(t,o):new E0(t,o)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Ms(r,this.value)):r!==null&&xi(this.value)===xi(r)&&this.matchesComparison(Ms(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wr extends $m{constructor(t,r){super(),this.filters=t,this.op=r,this.he=null}static create(t,r){return new Wr(t,r)}matches(t){return Hm(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Hm(i){return i.op==="and"}function Wm(i){return y0(i)&&Hm(i)}function y0(i){for(const t of i.filters)if(t instanceof Wr)return!1;return!0}function Zc(i){if(i instanceof _t)return i.field.canonicalString()+i.op.toString()+Os(i.value);if(Wm(i))return i.filters.map((t=>Zc(t))).join(",");{const t=i.filters.map((r=>Zc(r))).join(",");return`${i.op}(${t})`}}function Qm(i,t){return i instanceof _t?(function(o,a){return a instanceof _t&&o.op===a.op&&o.field.isEqual(a.field)&&qn(o.value,a.value)})(i,t):i instanceof Wr?(function(o,a){return a instanceof Wr&&o.op===a.op&&o.filters.length===a.filters.length?o.filters.reduce(((c,p,v)=>c&&Qm(p,a.filters[v])),!0):!1})(i,t):void Re(19439)}function qm(i){return i instanceof _t?(function(r){return`${r.field.canonicalString()} ${r.op} ${Os(r.value)}`})(i):i instanceof Wr?(function(r){return r.op.toString()+" {"+r.getFilters().map(qm).join(" ,")+"}"})(i):"Filter"}class v0 extends _t{constructor(t,r,o){super(t,r,o),this.key=Ae.fromName(o.referenceValue)}matches(t){const r=Ae.comparator(t.key,this.key);return this.matchesComparison(r)}}class _0 extends _t{constructor(t,r){super(t,"in",r),this.keys=Gm("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class E0 extends _t{constructor(t,r){super(t,"not-in",r),this.keys=Gm("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function Gm(i,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((o=>Ae.fromName(o.referenceValue)))}class w0 extends _t{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Th(r)&&Jo(r.arrayValue,this.value)}}class T0 extends _t{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Jo(this.value.arrayValue,r)}}class S0 extends _t{constructor(t,r){super(t,"not-in",r)}matches(t){if(Jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Jo(this.value.arrayValue,r)}}class I0 extends _t{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Th(r)||!r.arrayValue.values)&&r.arrayValue.values.some((o=>Jo(this.value.arrayValue,o)))}}class A0{constructor(t,r=null,o=[],a=[],c=null,p=null,v=null){this.path=t,this.collectionGroup=r,this.orderBy=o,this.filters=a,this.limit=c,this.startAt=p,this.endAt=v,this.Pe=null}}function Rp(i,t=null,r=[],o=[],a=null,c=null,p=null){return new A0(i,t,r,o,a,c,p)}function Sh(i){const t=He(i);if(t.Pe===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((o=>Zc(o))).join(","),r+="|ob:",r+=t.orderBy.map((o=>(function(c){return c.field.canonicalString()+c.dir})(o))).join(","),_h(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>Os(o))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>Os(o))).join(",")),t.Pe=r}return t.Pe}function Ih(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!g0(i.orderBy[r],t.orderBy[r]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!Qm(i.filters[r],t.filters[r]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!Pp(i.startAt,t.startAt)&&Pp(i.endAt,t.endAt)}class Ya{constructor(t,r=null,o=[],a=[],c=null,p="F",v=null,m=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=a,this.limit=c,this.limitType=p,this.startAt=v,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function C0(i,t,r,o,a,c,p,v){return new Ya(i,t,r,o,a,c,p,v)}function P0(i){return new Ya(i)}function kp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function R0(i){return i.collectionGroup!==null}function zo(i){const t=He(i);if(t.Te===null){t.Te=[];const r=new Set;for(const c of t.explicitOrderBy)t.Te.push(c),r.add(c.field.canonicalString());const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let v=new Pt(Ct.comparator);return p.filters.forEach((m=>{m.getFlattenedFilters().forEach((y=>{y.isInequality()&&(v=v.add(y.field))}))})),v})(t).forEach((c=>{r.has(c.canonicalString())||c.isKeyField()||t.Te.push(new Wa(c,o))})),r.has(Ct.keyField().canonicalString())||t.Te.push(new Wa(Ct.keyField(),o))}return t.Te}function Ai(i){const t=He(i);return t.Ie||(t.Ie=k0(t,zo(i))),t.Ie}function k0(i,t){if(i.limitType==="F")return Rp(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new Wa(a.field,c)}));const r=i.endAt?new Ha(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new Ha(i.startAt.position,i.startAt.inclusive):null;return Rp(i.path,i.collectionGroup,t,i.filters,i.limit,r,o)}}function eh(i,t,r){return new Ya(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,r,i.startAt,i.endAt)}function Km(i,t){return Ih(Ai(i),Ai(t))&&i.limitType===t.limitType}function Xm(i){return`${Sh(Ai(i))}|lt:${i.limitType}`}function jo(i){return`Query(target=${(function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map((a=>qm(a))).join(", ")}]`),_h(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map((a=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(a))).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map((a=>Os(a))).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map((a=>Os(a))).join(",")),`Target(${o})`})(Ai(i))}; limitType=${i.limitType})`}function Ah(i,t){return t.isFoundDocument()&&(function(o,a){const c=a.key.path;return o.collectionGroup!==null?a.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):Ae.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)})(i,t)&&(function(o,a){for(const c of zo(o))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(i,t)&&(function(o,a){for(const c of o.filters)if(!c.matches(a))return!1;return!0})(i,t)&&(function(o,a){return!(o.startAt&&!(function(p,v,m){const y=Cp(p,v,m);return p.inclusive?y<=0:y<0})(o.startAt,zo(o),a)||o.endAt&&!(function(p,v,m){const y=Cp(p,v,m);return p.inclusive?y>=0:y>0})(o.endAt,zo(o),a))})(i,t)}function x0(i){return(t,r)=>{let o=!1;for(const a of zo(i)){const c=N0(a,t,r);if(c!==0)return c;o=o||a.field.isKeyField()}return 0}}function N0(i,t,r){const o=i.field.isKeyField()?Ae.comparator(t.key,r.key):(function(c,p,v){const m=p.data.field(c),y=v.data.field(c);return m!==null&&y!==null?Ms(m,y):Re(42886)})(i.field,t,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Re(19790,{direction:i.dir})}}class Ni{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(const[a,c]of o)if(this.equalsFn(a,t))return c}}has(t){return this.get(t)!==void 0}set(t,r){const o=this.mapKeyFn(t),a=this.inner[o];if(a===void 0)return this.inner[o]=[[t,r]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],t))return void(a[c]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],t))return o.length===1?delete this.inner[r]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Bs(this.inner,((r,o)=>{for(const[a,c]of o)t(a,c)}))}isEmpty(){return Om(this.inner)}size(){return this.innerSize}}const D0=new Xt(Ae.comparator);function Qa(){return D0}const Ym=new Xt(Ae.comparator);function Pa(...i){let t=Ym;for(const r of i)t=t.insert(r.key,r);return t}function Jm(i){let t=Ym;return i.forEach(((r,o)=>t=t.insert(r,o.overlayedDocument))),t}function Si(){return $o()}function Zm(){return $o()}function $o(){return new Ni((i=>i.toString()),((i,t)=>i.isEqual(t)))}const V0=new Xt(Ae.comparator),M0=new Pt(Ae.comparator);function Ot(...i){let t=M0;for(const r of i)t=t.add(r);return t}const O0=new Pt(Le);function L0(){return O0}function Ch(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ua(t)?"-0":t}}function eg(i){return{integerValue:""+i}}function F0(i,t){return l0(t)?eg(t):Ch(i,t)}class Ja{constructor(){this._=void 0}}function j0(i,t,r){return i instanceof Zo?(function(a,c){const p={fields:{[Fm]:{stringValue:Lm},[bm]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Eh(c)&&(c=wh(c)),c&&(p.fields[jm]=c),{mapValue:p}})(r,t):i instanceof el?ng(i,t):i instanceof tl?rg(i,t):(function(a,c){const p=tg(a,c),v=xp(p)+xp(a.Ee);return Jc(p)&&Jc(a.Ee)?eg(v):Ch(a.serializer,v)})(i,t)}function b0(i,t,r){return i instanceof el?ng(i,t):i instanceof tl?rg(i,t):r}function tg(i,t){return i instanceof qa?(function(o){return Jc(o)||(function(c){return!!c&&"doubleValue"in c})(o)})(t)?t:{integerValue:0}:null}class Zo extends Ja{}class el extends Ja{constructor(t){super(),this.elements=t}}function ng(i,t){const r=ig(t);for(const o of i.elements)r.some((a=>qn(a,o)))||r.push(o);return{arrayValue:{values:r}}}class tl extends Ja{constructor(t){super(),this.elements=t}}function rg(i,t){let r=ig(t);for(const o of i.elements)r=r.filter((a=>!qn(a,o)));return{arrayValue:{values:r}}}class qa extends Ja{constructor(t,r){super(),this.serializer=t,this.Ee=r}}function xp(i){return At(i.integerValue||i.doubleValue)}function ig(i){return Th(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class U0{constructor(t,r){this.field=t,this.transform=r}}function B0(i,t){return i.field.isEqual(t.field)&&(function(o,a){return o instanceof el&&a instanceof el||o instanceof tl&&a instanceof tl?Ds(o.elements,a.elements,qn):o instanceof qa&&a instanceof qa?qn(o.Ee,a.Ee):o instanceof Zo&&a instanceof Zo})(i.transform,t.transform)}class z0{constructor(t,r){this.version=t,this.transformResults=r}}class fr{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new fr}static exists(t){return new fr(void 0,t)}static updateTime(t){return new fr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Va(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Za{}function sg(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new lg(i.key,fr.none()):new il(i.key,i.data,fr.none());{const r=i.data,o=Nn.empty();let a=new Pt(Ct.comparator);for(let c of t.fields)if(!a.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?o.delete(c):o.set(c,p),a=a.add(c)}return new Di(i.key,o,new Vn(a.toArray()),fr.none())}}function $0(i,t,r){i instanceof il?(function(a,c,p){const v=a.value.clone(),m=Dp(a.fieldTransforms,c,p.transformResults);v.setAll(m),c.convertToFoundDocument(p.version,v).setHasCommittedMutations()})(i,t,r):i instanceof Di?(function(a,c,p){if(!Va(a.precondition,c))return void c.convertToUnknownDocument(p.version);const v=Dp(a.fieldTransforms,c,p.transformResults),m=c.data;m.setAll(og(a)),m.setAll(v),c.convertToFoundDocument(p.version,m).setHasCommittedMutations()})(i,t,r):(function(a,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,t,r)}function Ho(i,t,r,o){return i instanceof il?(function(c,p,v,m){if(!Va(c.precondition,p))return v;const y=c.value.clone(),E=Vp(c.fieldTransforms,m,p);return y.setAll(E),p.convertToFoundDocument(p.version,y).setHasLocalMutations(),null})(i,t,r,o):i instanceof Di?(function(c,p,v,m){if(!Va(c.precondition,p))return v;const y=Vp(c.fieldTransforms,m,p),E=p.data;return E.setAll(og(c)),E.setAll(y),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),v===null?null:v.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(i,t,r,o):(function(c,p,v){return Va(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):v})(i,t,r)}function H0(i,t){let r=null;for(const o of i.fieldTransforms){const a=t.data.field(o.field),c=tg(o.transform,a||null);c!=null&&(r===null&&(r=Nn.empty()),r.set(o.field,c))}return r||null}function Np(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(o,a){return o===void 0&&a===void 0||!(!o||!a)&&Ds(o,a,((c,p)=>B0(c,p)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class il extends Za{constructor(t,r,o,a=[]){super(),this.key=t,this.value=r,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Di extends Za{constructor(t,r,o,a,c=[]){super(),this.key=t,this.data=r,this.fieldMask=o,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function og(i){const t=new Map;return i.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const o=i.data.field(r);t.set(r,o)}})),t}function Dp(i,t,r){const o=new Map;tt(i.length===r.length,32656,{Ae:r.length,Re:i.length});for(let a=0;a<r.length;a++){const c=i[a],p=c.transform,v=t.data.field(c.field);o.set(c.field,b0(p,v,r[a]))}return o}function Vp(i,t,r){const o=new Map;for(const a of i){const c=a.transform,p=r.data.field(a.field);o.set(a.field,j0(c,p,t))}return o}class lg extends Za{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W0 extends Za{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Q0{constructor(t,r,o,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(t,r){const o=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(t.key)&&$0(c,t,o[a])}}applyToLocalView(t,r){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(r=Ho(o,t,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(r=Ho(o,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const o=Zm();return this.mutations.forEach((a=>{const c=t.get(a.key),p=c.overlayedDocument;let v=this.applyToLocalView(p,c.mutatedFields);v=r.has(a.key)?null:v;const m=sg(p,v);m!==null&&o.set(a.key,m),p.isValidDocument()||p.convertToNoDocument(Ke.min())})),o}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Ds(this.mutations,t.mutations,((r,o)=>Np(r,o)))&&Ds(this.baseMutations,t.baseMutations,((r,o)=>Np(r,o)))}}class Ph{constructor(t,r,o,a){this.batch=t,this.commitVersion=r,this.mutationResults=o,this.docVersions=a}static from(t,r,o){tt(t.mutations.length===o.length,58842,{Ve:t.mutations.length,me:o.length});let a=(function(){return V0})();const c=t.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,o[p].version);return new Ph(t,r,o,a)}}class q0{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}var lt,Ve;function G0(i){switch(i){case re.OK:return Re(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Re(15467,{code:i})}}function K0(i){if(i===void 0)return Ri("GRPC error has no .code"),re.UNKNOWN;switch(i){case lt.OK:return re.OK;case lt.CANCELLED:return re.CANCELLED;case lt.UNKNOWN:return re.UNKNOWN;case lt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case lt.INTERNAL:return re.INTERNAL;case lt.UNAVAILABLE:return re.UNAVAILABLE;case lt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case lt.NOT_FOUND:return re.NOT_FOUND;case lt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case lt.ABORTED:return re.ABORTED;case lt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case lt.DATA_LOSS:return re.DATA_LOSS;default:return Re(39323,{code:i})}}(Ve=lt||(lt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";new fh([4294967295,4294967295],0);class X0{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function th(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Y0(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function J0(i,t){return th(i,t.toTimestamp())}function ks(i){return tt(!!i,49232),Ke.fromTimestamp((function(r){const o=ki(r);return new Xe(o.seconds,o.nanos)})(i))}function ag(i,t){return nh(i,t).canonicalString()}function nh(i,t){const r=(function(a){return new Ze(["projects",a.projectId,"databases",a.database])})(i).child("documents");return t===void 0?r:r.child(t)}function Z0(i){const t=Ze.fromString(i);return tt(lE(t),10190,{key:t.toString()}),t}function rh(i,t){return ag(i.databaseId,t.path)}function eE(i){const t=Z0(i);return t.length===4?Ze.emptyPath():nE(t)}function tE(i){return new Ze(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function nE(i){return tt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Mp(i,t,r){return{name:rh(i,t),fields:r.value.mapValue.fields}}function rE(i,t){let r;if(t instanceof il)r={update:Mp(i,t.key,t.value)};else if(t instanceof lg)r={delete:rh(i,t.key)};else if(t instanceof Di)r={update:Mp(i,t.key,t.data),updateMask:oE(t.fieldMask)};else{if(!(t instanceof W0))return Re(16599,{Rt:t.type});r={verify:rh(i,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((o=>(function(c,p){const v=p.transform;if(v instanceof Zo)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof el)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof tl)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof qa)return{fieldPath:p.field.canonicalString(),increment:v.Ee};throw Re(20930,{transform:p.transform})})(0,o)))),t.precondition.isNone||(r.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:J0(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Re(27497)})(i,t.precondition)),r}function iE(i,t){return i&&i.length>0?(tt(t!==void 0,14353),i.map((r=>(function(a,c){let p=a.updateTime?ks(a.updateTime):ks(c);return p.isEqual(Ke.min())&&(p=ks(c)),new z0(p,a.transformResults||[])})(r,t)))):[]}function sE(i){let t=eE(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let a=null;if(o>0){tt(o===1,65062);const E=r.from[0];E.allDescendants?a=E.collectionId:t=t.child(E.collectionId)}let c=[];r.where&&(c=(function(T){const w=ug(T);return w instanceof Wr&&Wm(w)?w.getFilters():[w]})(r.where));let p=[];r.orderBy&&(p=(function(T){return T.map((w=>(function(L){return new Wa(Cs(L.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(w)))})(r.orderBy));let v=null;r.limit&&(v=(function(T){let w;return w=typeof T=="object"?T.value:T,_h(w)?null:w})(r.limit));let m=null;r.startAt&&(m=(function(T){const w=!!T.before,k=T.values||[];return new Ha(k,w)})(r.startAt));let y=null;return r.endAt&&(y=(function(T){const w=!T.before,k=T.values||[];return new Ha(k,w)})(r.endAt)),C0(t,a,p,c,v,"F",m,y)}function ug(i){return i.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Cs(r.unaryFilter.field);return _t.create(o,"==",{doubleValue:NaN});case"IS_NULL":const a=Cs(r.unaryFilter.field);return _t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Cs(r.unaryFilter.field);return _t.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Cs(r.unaryFilter.field);return _t.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(i):i.fieldFilter!==void 0?(function(r){return _t.create(Cs(r.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(r){return Wr.create(r.compositeFilter.filters.map((o=>ug(o))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(r.compositeFilter.op))})(i):Re(30097,{filter:i})}function Cs(i){return Ct.fromServerFormat(i.fieldPath)}function oE(i){const t=[];return i.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function lE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class aE{constructor(t){this.gt=t}}function uE(i){const t=sE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?eh(t,t.limit,"L"):t}class cE{constructor(){this.Dn=new hE}addToCollectionParentIndex(t,r){return this.Dn.add(r),Z.resolve()}getCollectionParents(t,r){return Z.resolve(this.Dn.getEntries(r))}addFieldIndex(t,r){return Z.resolve()}deleteFieldIndex(t,r){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,r){return Z.resolve()}getDocumentsMatchingTarget(t,r){return Z.resolve(null)}getIndexType(t,r){return Z.resolve(0)}getFieldIndexes(t,r){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,r){return Z.resolve(Hr.min())}getMinOffsetFromCollectionGroup(t,r){return Z.resolve(Hr.min())}updateCollectionGroup(t,r,o){return Z.resolve()}updateIndexEntries(t,r){return Z.resolve()}}class hE{constructor(){this.index={}}add(t){const r=t.lastSegment(),o=t.popLast(),a=this.index[r]||new Pt(Ze.comparator),c=!a.has(o);return this.index[r]=a.add(o),c}has(t){const r=t.lastSegment(),o=t.popLast(),a=this.index[r];return a&&a.has(o)}getEntries(t){return(this.index[t]||new Pt(Ze.comparator)).toArray()}}const Op={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cg=41943040;class Kt{static withCacheSize(t){return new Kt(t,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}}Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(cg,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);class Ls{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Ls(0)}static ur(){return new Ls(-1)}}const Lp="LruGarbageCollector",fE=1048576;function Fp([i,t],[r,o]){const a=Le(i,r);return a===0?Le(t,o):a}class dE{constructor(t){this.Tr=t,this.buffer=new Pt(Fp),this.Ir=0}dr(){return++this.Ir}Er(t){const r=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Fp(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class pE{constructor(t,r,o){this.garbageCollector=t,this.asyncQueue=r,this.localStore=o,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){me(Lp,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){rl(r)?me(Lp,"Ignoring IndexedDB error during garbage collection: ",r):await gh(r)}await this.Rr(3e5)}))}}class mE{constructor(t,r){this.Vr=t,this.params=r}calculateTargetCount(t,r){return this.Vr.mr(t).next((o=>Math.floor(r/100*o)))}nthSequenceNumber(t,r){if(r===0)return Z.resolve(yh.ue);const o=new dE(r);return this.Vr.forEachTarget(t,(a=>o.Er(a.sequenceNumber))).next((()=>this.Vr.gr(t,(a=>o.Er(a))))).next((()=>o.maxValue))}removeTargets(t,r,o){return this.Vr.removeTargets(t,r,o)}removeOrphanedDocuments(t,r){return this.Vr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Op)):this.getCacheSize(t).next((o=>o<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Op):this.pr(t,r)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,r){let o,a,c,p,v,m,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,p=Date.now(),this.nthSequenceNumber(t,a)))).next((T=>(o=T,v=Date.now(),this.removeTargets(t,o,r)))).next((T=>(c=T,m=Date.now(),this.removeOrphanedDocuments(t,o)))).next((T=>(y=Date.now(),As()<=Me.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-E}ms
	Determined least recently used ${a} in `+(v-p)+`ms
	Removed ${c} targets in `+(m-v)+`ms
	Removed ${T} documents in `+(y-m)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:T}))))}}function gE(i,t){return new mE(i,t)}class yE{constructor(){this.changes=new Ni((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,xn.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?Z.resolve(o):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class vE{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class _E{constructor(t,r,o,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=a}getDocument(t,r){let o=null;return this.documentOverlayCache.getOverlay(t,r).next((a=>(o=a,this.remoteDocumentCache.getEntry(t,r)))).next((a=>(o!==null&&Ho(o.mutation,a,Vn.empty(),Xe.now()),a)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((o=>this.getLocalViewOfDocuments(t,o,Ot()).next((()=>o))))}getLocalViewOfDocuments(t,r,o=Ot()){const a=Si();return this.populateOverlays(t,a,r).next((()=>this.computeViews(t,r,a,o).next((c=>{let p=Pa();return c.forEach(((v,m)=>{p=p.insert(v,m.overlayedDocument)})),p}))))}getOverlayedDocuments(t,r){const o=Si();return this.populateOverlays(t,o,r).next((()=>this.computeViews(t,r,o,Ot())))}populateOverlays(t,r,o){const a=[];return o.forEach((c=>{r.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(t,a).next((c=>{c.forEach(((p,v)=>{r.set(p,v)}))}))}computeViews(t,r,o,a){let c=Qa();const p=$o(),v=(function(){return $o()})();return r.forEach(((m,y)=>{const E=o.get(y.key);a.has(y.key)&&(E===void 0||E.mutation instanceof Di)?c=c.insert(y.key,y):E!==void 0?(p.set(y.key,E.mutation.getFieldMask()),Ho(E.mutation,y,E.mutation.getFieldMask(),Xe.now())):p.set(y.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,c).next((m=>(m.forEach(((y,E)=>p.set(y,E))),r.forEach(((y,E)=>{var T;return v.set(y,new vE(E,(T=p.get(y))!==null&&T!==void 0?T:null))})),v)))}recalculateAndSaveOverlays(t,r){const o=$o();let a=new Xt(((p,v)=>p-v)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((p=>{for(const v of p)v.keys().forEach((m=>{const y=r.get(m);if(y===null)return;let E=o.get(m)||Vn.empty();E=v.applyToLocalView(y,E),o.set(m,E);const T=(a.get(v.batchId)||Ot()).add(m);a=a.insert(v.batchId,T)}))})).next((()=>{const p=[],v=a.getReverseIterator();for(;v.hasNext();){const m=v.getNext(),y=m.key,E=m.value,T=Zm();E.forEach((w=>{if(!c.has(w)){const k=sg(r.get(w),o.get(w));k!==null&&T.set(w,k),c=c.add(w)}})),p.push(this.documentOverlayCache.saveOverlays(t,y,T))}return Z.waitFor(p)})).next((()=>o))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((o=>this.recalculateAndSaveOverlays(t,o)))}getDocumentsMatchingQuery(t,r,o,a){return(function(p){return Ae.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):R0(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,o,a):this.getDocumentsMatchingCollectionQuery(t,r,o,a)}getNextDocuments(t,r,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,o,a).next((c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,o.largestBatchId,a-c.size):Z.resolve(Si());let v=Yo,m=c;return p.next((y=>Z.forEach(y,((E,T)=>(v<T.largestBatchId&&(v=T.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{m=m.insert(E,w)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,m,y,Ot()))).next((E=>({batchId:v,changes:Jm(E)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Ae(r)).next((o=>{let a=Pa();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a}))}getDocumentsMatchingCollectionGroupQuery(t,r,o,a){const c=r.collectionGroup;let p=Pa();return this.indexManager.getCollectionParents(t,c).next((v=>Z.forEach(v,(m=>{const y=(function(T,w){return new Ya(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(r,m.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,o,a).next((E=>{E.forEach(((T,w)=>{p=p.insert(T,w)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(t,r,o,a){let c;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,o.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,o,c,a)))).next((p=>{c.forEach(((m,y)=>{const E=y.getKey();p.get(E)===null&&(p=p.insert(E,xn.newInvalidDocument(E)))}));let v=Pa();return p.forEach(((m,y)=>{const E=c.get(m);E!==void 0&&Ho(E.mutation,y,Vn.empty(),Xe.now()),Ah(r,y)&&(v=v.insert(m,y))})),v}))}}class EE{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,r){return Z.resolve(this.Br.get(r))}saveBundleMetadata(t,r){return this.Br.set(r.id,(function(a){return{id:a.id,version:a.version,createTime:ks(a.createTime)}})(r)),Z.resolve()}getNamedQuery(t,r){return Z.resolve(this.Lr.get(r))}saveNamedQuery(t,r){return this.Lr.set(r.name,(function(a){return{name:a.name,query:uE(a.bundledQuery),readTime:ks(a.readTime)}})(r)),Z.resolve()}}class wE{constructor(){this.overlays=new Xt(Ae.comparator),this.kr=new Map}getOverlay(t,r){return Z.resolve(this.overlays.get(r))}getOverlays(t,r){const o=Si();return Z.forEach(r,(a=>this.getOverlay(t,a).next((c=>{c!==null&&o.set(a,c)})))).next((()=>o))}saveOverlays(t,r,o){return o.forEach(((a,c)=>{this.wt(t,r,c)})),Z.resolve()}removeOverlaysForBatchId(t,r,o){const a=this.kr.get(o);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.kr.delete(o)),Z.resolve()}getOverlaysForCollection(t,r,o){const a=Si(),c=r.length+1,p=new Ae(r.child("")),v=this.overlays.getIteratorFrom(p);for(;v.hasNext();){const m=v.getNext().value,y=m.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===c&&m.largestBatchId>o&&a.set(m.getKey(),m)}return Z.resolve(a)}getOverlaysForCollectionGroup(t,r,o,a){let c=new Xt(((y,E)=>y-E));const p=this.overlays.getIterator();for(;p.hasNext();){const y=p.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>o){let E=c.get(y.largestBatchId);E===null&&(E=Si(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const v=Si(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,E)=>v.set(y,E))),!(v.size()>=a)););return Z.resolve(v)}wt(t,r,o){const a=this.overlays.get(o.key);if(a!==null){const p=this.kr.get(a.largestBatchId).delete(o.key);this.kr.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new q0(r,o));let c=this.kr.get(r);c===void 0&&(c=Ot(),this.kr.set(r,c)),this.kr.set(r,c.add(o.key))}}class TE{constructor(){this.sessionToken=Qn.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,Z.resolve()}}class Rh{constructor(){this.qr=new Pt(vt.Qr),this.$r=new Pt(vt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,r){const o=new vt(t,r);this.qr=this.qr.add(o),this.$r=this.$r.add(o)}Kr(t,r){t.forEach((o=>this.addReference(o,r)))}removeReference(t,r){this.Wr(new vt(t,r))}Gr(t,r){t.forEach((o=>this.removeReference(o,r)))}zr(t){const r=new Ae(new Ze([])),o=new vt(r,t),a=new vt(r,t+1),c=[];return this.$r.forEachInRange([o,a],(p=>{this.Wr(p),c.push(p.key)})),c}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const r=new Ae(new Ze([])),o=new vt(r,t),a=new vt(r,t+1);let c=Ot();return this.$r.forEachInRange([o,a],(p=>{c=c.add(p.key)})),c}containsKey(t){const r=new vt(t,0),o=this.qr.firstAfterOrEqual(r);return o!==null&&t.isEqual(o.key)}}class vt{constructor(t,r){this.key=t,this.Hr=r}static Qr(t,r){return Ae.comparator(t.key,r.key)||Le(t.Hr,r.Hr)}static Ur(t,r){return Le(t.Hr,r.Hr)||Ae.comparator(t.key,r.key)}}class SE{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.er=1,this.Yr=new Pt(vt.Qr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,o,a){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new Q0(c,r,o,a);this.mutationQueue.push(p);for(const v of a)this.Yr=this.Yr.add(new vt(v.key,c)),this.indexManager.addToCollectionParentIndex(t,v.key.path.popLast());return Z.resolve(p)}lookupMutationBatch(t,r){return Z.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(t,r){const o=r+1,a=this.Xr(o),c=a<0?0:a;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?vh:this.er-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const o=new vt(r,0),a=new vt(r,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([o,a],(p=>{const v=this.Zr(p.Hr);c.push(v)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,r){let o=new Pt(Le);return r.forEach((a=>{const c=new vt(a,0),p=new vt(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,p],(v=>{o=o.add(v.Hr)}))})),Z.resolve(this.ei(o))}getAllMutationBatchesAffectingQuery(t,r){const o=r.path,a=o.length+1;let c=o;Ae.isDocumentKey(c)||(c=c.child(""));const p=new vt(new Ae(c),0);let v=new Pt(Le);return this.Yr.forEachWhile((m=>{const y=m.key.path;return!!o.isPrefixOf(y)&&(y.length===a&&(v=v.add(m.Hr)),!0)}),p),Z.resolve(this.ei(v))}ei(t){const r=[];return t.forEach((o=>{const a=this.Zr(o);a!==null&&r.push(a)})),r}removeMutationBatch(t,r){tt(this.ti(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let o=this.Yr;return Z.forEach(r.mutations,(a=>{const c=new vt(a.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Yr=o}))}rr(t){}containsKey(t,r){const o=new vt(r,0),a=this.Yr.firstAfterOrEqual(o);return Z.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ti(t,r){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const r=this.Xr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class IE{constructor(t){this.ni=t,this.docs=(function(){return new Xt(Ae.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const o=r.key,a=this.docs.get(o),c=a?a.size:0,p=this.ni(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const o=this.docs.get(r);return Z.resolve(o?o.document.mutableCopy():xn.newInvalidDocument(r))}getEntries(t,r){let o=Qa();return r.forEach((a=>{const c=this.docs.get(a);o=o.insert(a,c?c.document.mutableCopy():xn.newInvalidDocument(a))})),Z.resolve(o)}getDocumentsMatchingQuery(t,r,o,a){let c=Qa();const p=r.path,v=new Ae(p.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(v);for(;m.hasNext();){const{key:y,value:{document:E}}=m.getNext();if(!p.isPrefixOf(y.path))break;y.path.length>p.length+1||r0(n0(E),o)<=0||(a.has(E.key)||Ah(r,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,r,o,a){Re(9500)}ri(t,r){return Z.forEach(this.docs,(o=>r(o)))}newChangeBuffer(t){return new AE(this)}getSize(t){return Z.resolve(this.size)}}class AE extends yE{constructor(t){super(),this.Or=t}applyChanges(t){const r=[];return this.changes.forEach(((o,a)=>{a.isValidDocument()?r.push(this.Or.addEntry(t,a)):this.Or.removeEntry(o)})),Z.waitFor(r)}getFromCache(t,r){return this.Or.getEntry(t,r)}getAllFromCache(t,r){return this.Or.getEntries(t,r)}}class CE{constructor(t){this.persistence=t,this.ii=new Ni((r=>Sh(r)),Ih),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.si=0,this.oi=new Rh,this.targetCount=0,this._i=Ls.ar()}forEachTarget(t,r){return this.ii.forEach(((o,a)=>r(a))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.si&&(this.si=r),Z.resolve()}hr(t){this.ii.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this._i=new Ls(r),this.highestTargetId=r),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,r){return this.hr(r),this.targetCount+=1,Z.resolve()}updateTargetData(t,r){return this.hr(r),Z.resolve()}removeTargetData(t,r){return this.ii.delete(r.target),this.oi.zr(r.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,r,o){let a=0;const c=[];return this.ii.forEach(((p,v)=>{v.sequenceNumber<=r&&o.get(v.targetId)===null&&(this.ii.delete(p),c.push(this.removeMatchingKeysForTargetId(t,v.targetId)),a++)})),Z.waitFor(c).next((()=>a))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,r){const o=this.ii.get(r)||null;return Z.resolve(o)}addMatchingKeys(t,r,o){return this.oi.Kr(r,o),Z.resolve()}removeMatchingKeys(t,r,o){this.oi.Gr(r,o);const a=this.persistence.referenceDelegate,c=[];return a&&r.forEach((p=>{c.push(a.markPotentiallyOrphaned(t,p))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,r){return this.oi.zr(r),Z.resolve()}getMatchingKeysForTargetId(t,r){const o=this.oi.Jr(r);return Z.resolve(o)}containsKey(t,r){return Z.resolve(this.oi.containsKey(r))}}class hg{constructor(t,r){this.ai={},this.overlays={},this.ui=new yh(0),this.ci=!1,this.ci=!0,this.li=new TE,this.referenceDelegate=t(this),this.hi=new CE(this),this.indexManager=new cE,this.remoteDocumentCache=(function(a){return new IE(a)})((o=>this.referenceDelegate.Pi(o))),this.serializer=new aE(r),this.Ti=new EE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new wE,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let o=this.ai[t.toKey()];return o||(o=new SE(r,this.referenceDelegate),this.ai[t.toKey()]=o),o}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,r,o){me("MemoryPersistence","Starting transaction:",t);const a=new PE(this.ui.next());return this.referenceDelegate.Ii(),o(a).next((c=>this.referenceDelegate.di(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ei(t,r){return Z.or(Object.values(this.ai).map((o=>()=>o.containsKey(t,r))))}}class PE extends s0{constructor(t){super(),this.currentSequenceNumber=t}}class kh{constructor(t){this.persistence=t,this.Ai=new Rh,this.Ri=null}static Vi(t){return new kh(t)}get mi(){if(this.Ri)return this.Ri;throw Re(60996)}addReference(t,r,o){return this.Ai.addReference(o,r),this.mi.delete(o.toString()),Z.resolve()}removeReference(t,r,o){return this.Ai.removeReference(o,r),this.mi.add(o.toString()),Z.resolve()}markPotentiallyOrphaned(t,r){return this.mi.add(r.toString()),Z.resolve()}removeTarget(t,r){this.Ai.zr(r.targetId).forEach((a=>this.mi.add(a.toString())));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,r.targetId).next((a=>{a.forEach((c=>this.mi.add(c.toString())))})).next((()=>o.removeTargetData(t,r)))}Ii(){this.Ri=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.mi,(o=>{const a=Ae.fromPath(o);return this.fi(t,a).next((c=>{c||r.removeEntry(a,Ke.min())}))})).next((()=>(this.Ri=null,r.apply(t))))}updateLimboDocument(t,r){return this.fi(t,r).next((o=>{o?this.mi.delete(r.toString()):this.mi.add(r.toString())}))}Pi(t){return 0}fi(t,r){return Z.or([()=>Z.resolve(this.Ai.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ei(t,r)])}}class Ga{constructor(t,r){this.persistence=t,this.gi=new Ni((o=>a0(o.path)),((o,a)=>o.isEqual(a))),this.garbageCollector=gE(this,r)}static Vi(t,r){return new Ga(t,r)}Ii(){}di(t){return Z.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}mr(t){const r=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((o=>r.next((a=>o+a))))}yr(t){let r=0;return this.gr(t,(o=>{r++})).next((()=>r))}gr(t,r){return Z.forEach(this.gi,((o,a)=>this.Sr(t,o,a).next((c=>c?Z.resolve():r(a)))))}removeTargets(t,r,o){return this.persistence.getTargetCache().removeTargets(t,r,o)}removeOrphanedDocuments(t,r){let o=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ri(t,(p=>this.Sr(t,p,r).next((v=>{v||(o++,c.removeEntry(p,Ke.min()))})))).next((()=>c.apply(t))).next((()=>o))}markPotentiallyOrphaned(t,r){return this.gi.set(r,t.currentSequenceNumber),Z.resolve()}removeTarget(t,r){const o=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,o)}addReference(t,r,o){return this.gi.set(o,t.currentSequenceNumber),Z.resolve()}removeReference(t,r,o){return this.gi.set(o,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,r){return this.gi.set(r,t.currentSequenceNumber),Z.resolve()}Pi(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Na(t.data.value)),r}Sr(t,r,o){return Z.or([()=>this.persistence.Ei(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.gi.get(r);return Z.resolve(a!==void 0&&a>o)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class xh{constructor(t,r,o,a){this.targetId=t,this.fromCache=r,this.Is=o,this.ds=a}static Es(t,r){let o=Ot(),a=Ot();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new xh(t,r.fromCache,o,a)}}class RE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class kE{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return Iv()?8:o0(Tv())>0?6:4})()}initialize(t,r){this.gs=t,this.indexManager=r,this.As=!0}getDocumentsMatchingQuery(t,r,o,a){const c={result:null};return this.ps(t,r).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ys(t,r,a,o).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new RE;return this.ws(t,r,p).next((v=>{if(c.result=v,this.Rs)return this.Ss(t,r,p,v.size)}))})).next((()=>c.result))}Ss(t,r,o,a){return o.documentReadCount<this.Vs?(As()<=Me.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",jo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(As()<=Me.DEBUG&&me("QueryEngine","Query:",jo(r),"scans",o.documentReadCount,"local documents and returns",a,"documents as results."),o.documentReadCount>this.fs*a?(As()<=Me.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",jo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(r))):Z.resolve())}ps(t,r){if(kp(r))return Z.resolve(null);let o=Ai(r);return this.indexManager.getIndexType(t,o).next((a=>a===0?null:(r.limit!==null&&a===1&&(r=eh(r,null,"F"),o=Ai(r)),this.indexManager.getDocumentsMatchingTarget(t,o).next((c=>{const p=Ot(...c);return this.gs.getDocuments(t,p).next((v=>this.indexManager.getMinOffset(t,o).next((m=>{const y=this.bs(r,v);return this.Ds(r,y,p,m.readTime)?this.ps(t,eh(r,null,"F")):this.vs(t,y,r,m)}))))})))))}ys(t,r,o,a){return kp(r)||a.isEqual(Ke.min())?Z.resolve(null):this.gs.getDocuments(t,o).next((c=>{const p=this.bs(r,c);return this.Ds(r,p,o,a)?Z.resolve(null):(As()<=Me.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),jo(r)),this.vs(t,p,r,t0(a,Yo)).next((v=>v)))}))}bs(t,r){let o=new Pt(x0(t));return r.forEach(((a,c)=>{Ah(t,c)&&(o=o.add(c))})),o}Ds(t,r,o,a){if(t.limit===null)return!1;if(o.size!==r.size)return!0;const c=t.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ws(t,r,o){return As()<=Me.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",jo(r)),this.gs.getDocumentsMatchingQuery(t,r,Hr.min(),o)}vs(t,r,o,a){return this.gs.getDocumentsMatchingQuery(t,o,a).next((c=>(r.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const xE="LocalStore";class NE{constructor(t,r,o,a){this.persistence=t,this.Cs=r,this.serializer=a,this.Fs=new Xt(Le),this.Ms=new Ni((c=>Sh(c)),Ih),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(o)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _E(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.Fs)))}}function DE(i,t,r,o){return new NE(i,t,r,o)}async function fg(i,t){const r=He(i);return await r.persistence.runTransaction("Handle user change","readonly",(o=>{let a;return r.mutationQueue.getAllMutationBatches(o).next((c=>(a=c,r.Ns(t),r.mutationQueue.getAllMutationBatches(o)))).next((c=>{const p=[],v=[];let m=Ot();for(const y of a){p.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}for(const y of c){v.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}return r.localDocuments.getDocuments(o,m).next((y=>({Bs:y,removedBatchIds:p,addedBatchIds:v})))}))}))}function VE(i,t){const r=He(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(o=>{const a=t.batch.keys(),c=r.Os.newChangeBuffer({trackRemovals:!0});return(function(v,m,y,E){const T=y.batch,w=T.keys();let k=Z.resolve();return w.forEach((L=>{k=k.next((()=>E.getEntry(m,L))).next((F=>{const j=y.docVersions.get(L);tt(j!==null,48541),F.version.compareTo(j)<0&&(T.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),E.addEntry(F)))}))})),k.next((()=>v.mutationQueue.removeMutationBatch(m,T)))})(r,o,t,c).next((()=>c.apply(o))).next((()=>r.mutationQueue.performConsistencyCheck(o))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(o,a,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,(function(v){let m=Ot();for(let y=0;y<v.mutationResults.length;++y)v.mutationResults[y].transformResults.length>0&&(m=m.add(v.batch.mutations[y].key));return m})(t)))).next((()=>r.localDocuments.getDocuments(o,a)))}))}function ME(i){const t=He(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.hi.getLastRemoteSnapshotVersion(r)))}function OE(i,t){const r=He(i);return r.persistence.runTransaction("Get next mutation batch","readonly",(o=>(t===void 0&&(t=vh),r.mutationQueue.getNextMutationBatchAfterBatchId(o,t))))}class jp{constructor(){this.activeTargetIds=L0()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class LE{constructor(){this.Fo=new jp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,o){}addLocalQueryTarget(t,r=!0){return r&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,r,o){this.Mo[t]=r}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new jp,Promise.resolve()}handleUserChange(t,r,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class FE{xo(t){}shutdown(){}}const bp="ConnectivityMonitor";class Up{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){me(bp,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){me(bp,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ra=null;function ih(){return Ra===null?Ra=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ra++,"0x"+Ra.toString(16)}const Uc="RestConnection",jE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bE{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=r+"://"+t.host,this.Uo=`projects/${o}/databases/${a}`,this.Ko=this.databaseId.database===za?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Wo(t,r,o,a,c){const p=ih(),v=this.Go(t,r.toUriEncodedString());me(Uc,`Sending RPC '${t}' ${p}:`,v,o);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,a,c);const{host:y}=new URL(v),E=ch(y);return this.jo(t,v,m,o,E).then((T=>(me(Uc,`Received RPC '${t}' ${p}: `,T),T)),(T=>{throw Ns(Uc,`RPC '${t}' ${p} failed with error: `,T,"url: ",v,"request:",o),T}))}Jo(t,r,o,a,c,p){return this.Wo(t,r,o,a,c)}zo(t,r,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Us})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,c)=>t[c]=a)),o&&o.headers.forEach(((a,c)=>t[c]=a))}Go(t,r){const o=jE[t];return`${this.$o}/v1/${r}:${o}`}terminate(){}}class UE{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}const Dt="WebChannelConnection";class BE extends bE{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,r,o,a,c){const p=ih();return new Promise(((v,m)=>{const y=new Im;y.setWithCredentials(!0),y.listenOnce(Am.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case xa.NO_ERROR:const T=y.getResponseJson();me(Dt,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(T)),v(T);break;case xa.TIMEOUT:me(Dt,`RPC '${t}' ${p} timed out`),m(new ve(re.DEADLINE_EXCEEDED,"Request time out"));break;case xa.HTTP_ERROR:const w=y.getStatus();if(me(Dt,`RPC '${t}' ${p} failed with status:`,w,"response text:",y.getResponseText()),w>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const L=k?.error;if(L&&L.status&&L.message){const F=(function(Y){const q=Y.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(q)>=0?q:re.UNKNOWN})(L.status);m(new ve(F,L.message))}else m(new ve(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new ve(re.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{c_:t,streamId:p,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{me(Dt,`RPC '${t}' ${p} completed.`)}}));const E=JSON.stringify(a);me(Dt,`RPC '${t}' ${p} sending request:`,a),y.send(r,"POST",E,o,15)}))}P_(t,r,o){const a=ih(),c=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=Rm(),v=Pm(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,r,o),m.encodeInitMessageHeaders=!0;const E=c.join("");me(Dt,`Creating RPC '${t}' stream ${a}: ${E}`,m);const T=p.createWebChannel(E,m);this.T_(T);let w=!1,k=!1;const L=new UE({Ho:j=>{k?me(Dt,`Not sending because RPC '${t}' stream ${a} is closed:`,j):(w||(me(Dt,`Opening RPC '${t}' stream ${a} transport.`),T.open(),w=!0),me(Dt,`RPC '${t}' stream ${a} sending:`,j),T.send(j))},Yo:()=>T.close()}),F=(j,Y,q)=>{j.listen(Y,(Q=>{try{q(Q)}catch(B){setTimeout((()=>{throw B}),0)}}))};return F(T,bo.EventType.OPEN,(()=>{k||(me(Dt,`RPC '${t}' stream ${a} transport opened.`),L.s_())})),F(T,bo.EventType.CLOSE,(()=>{k||(k=!0,me(Dt,`RPC '${t}' stream ${a} transport closed`),L.__(),this.I_(T))})),F(T,bo.EventType.ERROR,(j=>{k||(k=!0,Ns(Dt,`RPC '${t}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),L.__(new ve(re.UNAVAILABLE,"The operation could not be completed")))})),F(T,bo.EventType.MESSAGE,(j=>{var Y;if(!k){const q=j.data[0];tt(!!q,16349);const Q=q,B=Q?.error||((Y=Q[0])===null||Y===void 0?void 0:Y.error);if(B){me(Dt,`RPC '${t}' stream ${a} received error:`,B);const X=B.status;let J=(function(A){const x=lt[A];if(x!==void 0)return K0(x)})(X),C=B.message;J===void 0&&(J=re.INTERNAL,C="Unknown error status: "+X+" with message "+B.message),k=!0,L.__(new ve(J,C)),T.close()}else me(Dt,`RPC '${t}' stream ${a} received:`,q),L.a_(q)}})),F(v,Cm.STAT_EVENT,(j=>{j.stat===Gc.PROXY?me(Dt,`RPC '${t}' stream ${a} detected buffering proxy`):j.stat===Gc.NOPROXY&&me(Dt,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{L.o_()}),0),L}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((r=>r===t))}}function Bc(){return typeof document<"u"?document:null}function eu(i){return new X0(i,!0)}class dg{constructor(t,r,o=1e3,a=1.5,c=6e4){this.Fi=t,this.timerId=r,this.d_=o,this.E_=a,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const r=Math.floor(this.R_+this.p_()),o=Math.max(0,Date.now()-this.m_),a=Math.max(0,r-o);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const Bp="PersistentStream";class zE{constructor(t,r,o,a,c,p,v,m){this.Fi=t,this.w_=o,this.S_=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=v,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new dg(t,r)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():r&&r.code===re.RESOURCE_EXHAUSTED?(Ri(r.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):r&&r.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(r)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),r=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([o,a])=>{this.b_===r&&this.W_(o,a)}),(o=>{t((()=>{const a=new ve(re.UNKNOWN,"Fetching auth token failed: "+o.message);return this.G_(a)}))}))}W_(t,r){const o=this.K_(this.b_);this.stream=this.z_(t,r),this.stream.Zo((()=>{o((()=>this.listener.Zo()))})),this.stream.e_((()=>{o((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((a=>{o((()=>this.G_(a)))})),this.stream.onMessage((a=>{o((()=>++this.C_==1?this.j_(a):this.onNext(a)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return me(Bp,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return r=>{this.Fi.enqueueAndForget((()=>this.b_===t?r():(me(Bp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $E extends zE{constructor(t,r,o,a,c,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,a,p),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,r){return this.connection.P_("Write",t,r)}j_(t){return tt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,tt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){tt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const r=iE(t.writeResults,t.commitTime),o=ks(t.commitTime);return this.listener.ta(o,r)}na(){const t={};t.database=tE(this.serializer),this.k_(t)}X_(t){const r={streamToken:this.lastStreamToken,writes:t.map((o=>rE(this.serializer,o)))};this.k_(r)}}class HE{}class WE extends HE{constructor(t,r,o,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=o,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,r,o,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Wo(t,nh(r,o),a,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(re.UNKNOWN,c.toString())}))}Jo(t,r,o,a,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,v])=>this.connection.Jo(t,nh(r,o),a,p,v,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new ve(re.UNKNOWN,p.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class QE{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ri(r),this._a=!1):me("OnlineStateTracker",r)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}const sl="RemoteStore";class qE{constructor(t,r,o,a,c){this.localStore=t,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo((p=>{o.enqueueAndForget((async()=>{ll(this)&&(me(sl,"Restarting streams for network reachability change."),await(async function(m){const y=He(m);y.Ia.add(4),await ol(y),y.Aa.set("Unknown"),y.Ia.delete(4),await tu(y)})(this))}))})),this.Aa=new QE(o,a)}}async function tu(i){if(ll(i))for(const t of i.da)await t(!0)}async function ol(i){for(const t of i.da)await t(!1)}function ll(i){return He(i).Ia.size===0}async function pg(i,t,r){if(!rl(t))throw t;i.Ia.add(1),await ol(i),i.Aa.set("Offline"),r||(r=()=>ME(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{me(sl,"Retrying IndexedDB access"),await r(),i.Ia.delete(1),await tu(i)}))}function mg(i,t){return t().catch((r=>pg(i,r,t)))}async function nu(i){const t=He(i),r=Qr(t);let o=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:vh;for(;GE(t);)try{const a=await OE(t.localStore,o);if(a===null){t.Pa.length===0&&r.B_();break}o=a.batchId,KE(t,a)}catch(a){await pg(t,a)}gg(t)&&yg(t)}function GE(i){return ll(i)&&i.Pa.length<10}function KE(i,t){i.Pa.push(t);const r=Qr(i);r.x_()&&r.Z_&&r.X_(t.mutations)}function gg(i){return ll(i)&&!Qr(i).M_()&&i.Pa.length>0}function yg(i){Qr(i).start()}async function XE(i){Qr(i).na()}async function YE(i){const t=Qr(i);for(const r of i.Pa)t.X_(r.mutations)}async function JE(i,t,r){const o=i.Pa.shift(),a=Ph.from(o,t,r);await mg(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await nu(i)}async function ZE(i,t){t&&Qr(i).Z_&&await(async function(o,a){if((function(p){return G0(p)&&p!==re.ABORTED})(a.code)){const c=o.Pa.shift();Qr(o).N_(),await mg(o,(()=>o.remoteSyncer.rejectFailedWrite(c.batchId,a))),await nu(o)}})(i,t),gg(i)&&yg(i)}async function zp(i,t){const r=He(i);r.asyncQueue.verifyOperationInProgress(),me(sl,"RemoteStore received new credentials");const o=ll(r);r.Ia.add(3),await ol(r),o&&r.Aa.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ia.delete(3),await tu(r)}async function e1(i,t){const r=He(i);t?(r.Ia.delete(2),await tu(r)):t||(r.Ia.add(2),await ol(r),r.Aa.set("Unknown"))}function Qr(i){return i.ma||(i.ma=(function(r,o,a){const c=He(r);return c.ia(),new $E(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:XE.bind(null,i),n_:ZE.bind(null,i),ea:YE.bind(null,i),ta:JE.bind(null,i)}),i.da.push((async t=>{t?(i.ma.N_(),await nu(i)):(await i.ma.stop(),i.Pa.length>0&&(me(sl,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))}))),i.ma}class Nh{constructor(t,r,o,a,c){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=o,this.op=a,this.removalCallback=c,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,o,a,c){const p=Date.now()+o,v=new Nh(t,r,p,a,c);return v.start(o),v}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(re.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(i,t){if(Ri("AsyncQueue",`${t}: ${i}`),rl(i))return new ve(re.UNAVAILABLE,`${t}: ${i}`);throw i}class t1{constructor(){this.queries=$p(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(r,o){const a=He(r),c=a.queries;a.queries=$p(),c.forEach(((p,v)=>{for(const m of v.wa)m.onError(o)}))})(this,new ve(re.ABORTED,"Firestore shutting down"))}}function $p(){return new Ni((i=>Xm(i)),Km)}function n1(i){i.Da.forEach((t=>{t.next()}))}var Hp,Wp;(Wp=Hp||(Hp={})).Fa="default",Wp.Cache="cache";const r1="SyncEngine";class i1{constructor(t,r,o,a,c,p){this.localStore=t,this.remoteStore=r,this.eventManager=o,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.hu={},this.Pu=new Ni((v=>Xm(v)),Km),this.Tu=new Map,this.Iu=new Set,this.du=new Xt(Ae.comparator),this.Eu=new Map,this.Au=new Rh,this.Ru={},this.Vu=new Map,this.mu=Ls.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function s1(i,t,r){const o=u1(i);try{const a=await(function(p,v){const m=He(p),y=Xe.now(),E=v.reduce(((k,L)=>k.add(L.key)),Ot());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let L=Qa(),F=Ot();return m.Os.getEntries(k,E).next((j=>{L=j,L.forEach(((Y,q)=>{q.isValidDocument()||(F=F.add(Y))}))})).next((()=>m.localDocuments.getOverlayedDocuments(k,L))).next((j=>{T=j;const Y=[];for(const q of v){const Q=H0(q,T.get(q.key).overlayedDocument);Q!=null&&Y.push(new Di(q.key,Q,zm(Q.value.mapValue),fr.exists(!0)))}return m.mutationQueue.addMutationBatch(k,y,Y,v)})).next((j=>{w=j;const Y=j.applyToLocalDocumentSet(T,F);return m.documentOverlayCache.saveOverlays(k,j.batchId,Y)}))})).then((()=>({batchId:w.batchId,changes:Jm(T)})))})(o.localStore,t);o.sharedClientState.addPendingMutation(a.batchId),(function(p,v,m){let y=p.Ru[p.currentUser.toKey()];y||(y=new Xt(Le)),y=y.insert(v,m),p.Ru[p.currentUser.toKey()]=y})(o,a.batchId,r),await ru(o,a.changes),await nu(o.remoteStore)}catch(a){const c=vg(a,"Failed to persist write");r.reject(c)}}function Qp(i,t,r){const o=He(i);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const a=[];o.Pu.forEach(((c,p)=>{const v=p.view.va(t);v.snapshot&&a.push(v.snapshot)})),(function(p,v){const m=He(p);m.onlineState=v;let y=!1;m.queries.forEach(((E,T)=>{for(const w of T.wa)w.va(v)&&(y=!0)})),y&&n1(m)})(o.eventManager,t),a.length&&o.hu.J_(a),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function o1(i,t){const r=He(i),o=t.batch.batchId;try{const a=await VE(r.localStore,t);Eg(r,o,null),_g(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),await ru(r,a)}catch(a){await gh(a)}}async function l1(i,t,r){const o=He(i);try{const a=await(function(p,v){const m=He(p);return m.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return m.mutationQueue.lookupMutationBatch(y,v).next((T=>(tt(T!==null,37113),E=T.keys(),m.mutationQueue.removeMutationBatch(y,T)))).next((()=>m.mutationQueue.performConsistencyCheck(y))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(y,E,v))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>m.localDocuments.getDocuments(y,E)))}))})(o.localStore,t);Eg(o,t,r),_g(o,t),o.sharedClientState.updateMutationState(t,"rejected",r),await ru(o,a)}catch(a){await gh(a)}}function _g(i,t){(i.Vu.get(t)||[]).forEach((r=>{r.resolve()})),i.Vu.delete(t)}function Eg(i,t,r){const o=He(i);let a=o.Ru[o.currentUser.toKey()];if(a){const c=a.get(t);c&&(r?c.reject(r):c.resolve(),a=a.remove(t)),o.Ru[o.currentUser.toKey()]=a}}async function ru(i,t,r){const o=He(i),a=[],c=[],p=[];o.Pu.isEmpty()||(o.Pu.forEach(((v,m)=>{p.push(o.gu(m,t,r).then((y=>{var E;if((y||r)&&o.isPrimaryClient){const T=y?!y.fromCache:(E=void 0)===null||E===void 0?void 0:E.current;o.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(y){a.push(y);const T=xh.Es(m.targetId,y);c.push(T)}})))})),await Promise.all(p),o.hu.J_(a),await(async function(m,y){const E=He(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Z.forEach(y,(w=>Z.forEach(w.Is,(k=>E.persistence.referenceDelegate.addReference(T,w.targetId,k))).next((()=>Z.forEach(w.ds,(k=>E.persistence.referenceDelegate.removeReference(T,w.targetId,k)))))))))}catch(T){if(!rl(T))throw T;me(xE,"Failed to update sequence numbers: "+T)}for(const T of y){const w=T.targetId;if(!T.fromCache){const k=E.Fs.get(w),L=k.snapshotVersion,F=k.withLastLimboFreeSnapshotVersion(L);E.Fs=E.Fs.insert(w,F)}}})(o.localStore,c))}async function a1(i,t){const r=He(i);if(!r.currentUser.isEqual(t)){me(r1,"User change. New user:",t.toKey());const o=await fg(r.localStore,t);r.currentUser=t,(function(c,p){c.Vu.forEach((v=>{v.forEach((m=>{m.reject(new ve(re.CANCELLED,p))}))})),c.Vu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),await ru(r,o.Bs)}}function u1(i){const t=He(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=o1.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=l1.bind(null,t),t}class Ka{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=eu(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return DE(this.persistence,new kE,t.initialUser,this.serializer)}Du(t){return new hg(kh.Vi,this.serializer)}bu(t){return new LE}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ka.provider={build:()=>new Ka};class c1 extends Ka{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,r){tt(this.persistence.referenceDelegate instanceof Ga,46915);const o=this.persistence.referenceDelegate.garbageCollector;return new pE(o,t.asyncQueue,r)}Du(t){const r=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new hg((o=>Ga.Vi(o,r)),this.serializer)}}class sh{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>Qp(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=a1.bind(null,this.syncEngine),await e1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new t1})()}createDatastore(t){const r=eu(t.databaseInfo.databaseId),o=(function(c){return new BE(c)})(t.databaseInfo);return(function(c,p,v,m){return new WE(c,p,v,m)})(t.authCredentials,t.appCheckCredentials,o,r)}createRemoteStore(t){return(function(o,a,c,p,v){return new qE(o,a,c,p,v)})(this.localStore,this.datastore,t.asyncQueue,(r=>Qp(this.syncEngine,r,0)),(function(){return Up.C()?new Up:new FE})())}createSyncEngine(t,r){return(function(a,c,p,v,m,y,E){const T=new i1(a,c,p,v,m,y);return E&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(a){const c=He(a);me(sl,"RemoteStore shutting down."),c.Ia.add(5),await ol(c),c.Ea.shutdown(),c.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}sh.provider={build:()=>new sh};const qr="FirestoreClient";class h1{constructor(t,r,o,a,c){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=ph.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,(async p=>{me(qr,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(o,(p=>(me(qr,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=vg(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}async function zc(i,t){i.asyncQueue.verifyOperationInProgress(),me(qr,"Initializing OfflineComponentProvider");const r=i.configuration;await t.initialize(r);let o=r.initialUser;i.setCredentialChangeListener((async a=>{o.isEqual(a)||(await fg(t.localStore,a),o=a)})),t.persistence.setDatabaseDeletedListener((()=>{Ns("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then((()=>{me("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((a=>{Ns("Terminating Firestore due to IndexedDb database deletion failed",a)}))})),i._offlineComponents=t}async function qp(i,t){i.asyncQueue.verifyOperationInProgress();const r=await f1(i);me(qr,"Initializing OnlineComponentProvider"),await t.initialize(r,i.configuration),i.setCredentialChangeListener((o=>zp(t.remoteStore,o))),i.setAppCheckTokenChangeListener(((o,a)=>zp(t.remoteStore,a))),i._onlineComponents=t}async function f1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(qr,"Using user provided OfflineComponentProvider");try{await zc(i,i._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(r))throw r;Ns("Error using user provided cache. Falling back to memory cache: "+r),await zc(i,new Ka)}}else me(qr,"Using default OfflineComponentProvider"),await zc(i,new c1(void 0));return i._offlineComponents}async function d1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(qr,"Using user provided OnlineComponentProvider"),await qp(i,i._uninitializedComponentsProvider._online)):(me(qr,"Using default OnlineComponentProvider"),await qp(i,new sh))),i._onlineComponents}function p1(i){return d1(i).then((t=>t.syncEngine))}function wg(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const Gp=new Map;const Tg="firestore.googleapis.com",Kp=!0;class Xp{constructor(t){var r,o;if(t.host===void 0){if(t.ssl!==void 0)throw new ve(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tg,this.ssl=Kp}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:Kp;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cg;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fE)throw new ve(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}e0("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wg((o=t.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(o,a){return o.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class iu{constructor(t,r,o,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ve(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xp(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(o){if(!o)return new H_;switch(o.type){case"firstParty":return new G_(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ve(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const o=Gp.get(r);o&&(me("ComponentProvider","Removing Datastore"),Gp.delete(r),o.terminate())})(this),Promise.resolve()}}function m1(i,t,r,o={}){var a;i=Vm(i,iu);const c=ch(t),p=i._getSettings(),v=Object.assign(Object.assign({},p),{emulatorOptions:i._getEmulatorOptions()}),m=`${t}:${r}`;c&&(yv(`https://${m}`),wv("Firestore",!0)),p.host!==Tg&&p.host!==m&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},p),{host:m,ssl:c,emulatorOptions:o});if(!Fa(y,v)&&(i._setSettings(y),o.mockUserToken)){let E,T;if(typeof o.mockUserToken=="string")E=o.mockUserToken,T=Mt.MOCK_USER;else{E=vv(o.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const w=o.mockUserToken.sub||o.mockUserToken.user_id;if(!w)throw new ve(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Mt(w)}i._authCredentials=new W_(new xm(E,T))}}class Dh{constructor(t,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new Dh(this.firestore,t,this._query)}}class Lt{constructor(t,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Lt(this.firestore,t,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,o){if(nl(r,Lt._jsonSchema))return new Lt(t,o||null,new Ae(Ze.fromString(r.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:at("string",Lt._jsonSchemaVersion),referencePath:at("string")};class $r extends Dh{constructor(t,r,o){super(t,r,P0(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Lt(this.firestore,null,new Ae(t))}withConverter(t){return new $r(this.firestore,t,this._path)}}function g1(i,t,...r){if(i=Go(i),Nm("collection","path",t),i instanceof iu){const o=Ze.fromString(t,...r);return vp(o),new $r(i,null,o)}{if(!(i instanceof Lt||i instanceof $r))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ze.fromString(t,...r));return vp(o),new $r(i.firestore,null,o)}}function y1(i,t,...r){if(i=Go(i),arguments.length===1&&(t=ph.newId()),Nm("doc","path",t),i instanceof iu){const o=Ze.fromString(t,...r);return yp(o),new Lt(i,null,new Ae(o))}{if(!(i instanceof Lt||i instanceof $r))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ze.fromString(t,...r));return yp(o),new Lt(i.firestore,i instanceof $r?i.converter:null,new Ae(o))}}const Yp="AsyncQueue";class Jp{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new dg(this,"async_queue_retry"),this.oc=()=>{const o=Bc();o&&me(Yp,"Visibility state changed to "+o.visibilityState),this.F_.y_()},this._c=t;const r=Bc();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const r=Bc();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const r=new Ii;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!rl(t))throw t;me(Yp,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const r=this._c.then((()=>(this.nc=!0,t().catch((o=>{throw this.tc=o,this.nc=!1,Ri("INTERNAL UNHANDLED ERROR: ",Zp(o)),o})).then((o=>(this.nc=!1,o))))));return this._c=r,r}enqueueAfterDelay(t,r,o){this.ac(),this.sc.indexOf(t)>-1&&(r=0);const a=Nh.createAndSchedule(this,t,r,o,(c=>this.lc(c)));return this.ec.push(a),a}ac(){this.tc&&Re(47125,{hc:Zp(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const r of this.ec)if(r.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((r,o)=>r.targetTimeMs-o.targetTimeMs));for(const r of this.ec)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const r=this.ec.indexOf(t);this.ec.splice(r,1)}}function Zp(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Sg extends iu{constructor(t,r,o,a){super(t,r,o,a),this.type="firestore",this._queue=new Jp,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Jp(t),this._firestoreClient=void 0,await t}}}function v1(i,t){const r=typeof i=="object"?i:N_(),o=typeof i=="string"?i:za,a=C_(r,"firestore").getImmediate({identifier:o});if(!a._initialized){const c=mv("firestore");c&&m1(a,...c)}return a}function _1(i){if(i._terminated)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||E1(i),i._firestoreClient}function E1(i){var t,r,o;const a=i._freezeSettings(),c=(function(v,m,y,E){return new f0(v,m,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,wg(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=a.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new h1(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&(function(v){const m=v?._online.build();return{_offline:v?._offline.build(m),_online:m}})(i._componentsProvider))}class Dn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dn(Qn.fromBase64String(t))}catch(r){throw new ve(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Dn(Qn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(nl(t,Dn._jsonSchema))return Dn.fromBase64String(t.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:at("string",Dn._jsonSchemaVersion),bytes:at("string")};class Vh{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new ve(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Mh{constructor(t){this._methodName=t}}class dr{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new ve(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new ve(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Le(this._lat,t._lat)||Le(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dr._jsonSchemaVersion}}static fromJSON(t){if(nl(t,dr._jsonSchema))return new dr(t.latitude,t.longitude)}}dr._jsonSchemaVersion="firestore/geoPoint/1.0",dr._jsonSchema={type:at("string",dr._jsonSchemaVersion),latitude:at("number"),longitude:at("number")};class pr{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(o,a){if(o.length!==a.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==a[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(nl(t,pr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new pr(t.vectorValues);throw new ve(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pr._jsonSchemaVersion="firestore/vectorValue/1.0",pr._jsonSchema={type:at("string",pr._jsonSchemaVersion),vectorValues:at("object")};const w1=/^__.*__$/;class T1{constructor(t,r,o){this.data=t,this.fieldMask=r,this.fieldTransforms=o}toMutation(t,r){return this.fieldMask!==null?new Di(t,this.data,this.fieldMask,r,this.fieldTransforms):new il(t,this.data,r,this.fieldTransforms)}}function Ig(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ec:i})}}class Oh{constructor(t,r,o,a,c,p){this.settings=t,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=a,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Oh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.Rc({path:o,mc:!1});return a.fc(t),a}gc(t){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.Rc({path:o,mc:!1});return a.Ac(),a}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Xa(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(Ig(this.Ec)&&w1.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class S1{constructor(t,r,o){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=o||eu(t)}Dc(t,r,o,a=!1){return new Oh({Ec:t,methodName:r,bc:o,path:Ct.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I1(i){const t=i._freezeSettings(),r=eu(i._databaseId);return new S1(i._databaseId,!!t.ignoreUndefinedProperties,r)}function A1(i,t,r,o,a,c={}){const p=i.Dc(c.merge||c.mergeFields?2:0,t,r,a);Rg("Data must be an object, but it was:",p,o);const v=Cg(o,p);let m,y;if(c.merge)m=new Vn(p.fieldMask),y=p.fieldTransforms;else if(c.mergeFields){const E=[];for(const T of c.mergeFields){const w=C1(t,T,r);if(!p.contains(w))throw new ve(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);R1(E,w)||E.push(w)}m=new Vn(E),y=p.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,y=p.fieldTransforms;return new T1(new Nn(v),m,y)}class Lh extends Mh{_toFieldTransform(t){return new U0(t.path,new Zo)}isEqual(t){return t instanceof Lh}}function Ag(i,t){if(Pg(i=Go(i)))return Rg("Unsupported field value:",t,i),Cg(i,t);if(i instanceof Mh)return(function(o,a){if(!Ig(a.Ec))throw a.wc(`${o._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${o._methodName}() is not currently supported inside arrays`);const c=o._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(o,a){const c=[];let p=0;for(const v of o){let m=Ag(v,a.yc(p));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),p++}return{arrayValue:{values:c}}})(i,t)}return(function(o,a){if((o=Go(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return F0(a.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const c=Xe.fromDate(o);return{timestampValue:th(a.serializer,c)}}if(o instanceof Xe){const c=new Xe(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:th(a.serializer,c)}}if(o instanceof dr)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Dn)return{bytesValue:Y0(a.serializer,o._byteString)};if(o instanceof Lt){const c=a.databaseId,p=o.firestore._databaseId;if(!p.isEqual(c))throw a.wc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ag(o.firestore._databaseId||a.databaseId,o._key.path)}}if(o instanceof pr)return(function(p,v){return{mapValue:{fields:{[Um]:{stringValue:Bm},[Xc]:{arrayValue:{values:p.toArray().map((y=>{if(typeof y!="number")throw v.wc("VectorValues must only contain numeric values.");return Ch(v.serializer,y)}))}}}}}})(o,a);throw a.wc(`Unsupported field value: ${mh(o)}`)})(i,t)}function Cg(i,t){const r={};return Om(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bs(i,((o,a)=>{const c=Ag(a,t.Vc(o));c!=null&&(r[o]=c)})),{mapValue:{fields:r}}}function Pg(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Xe||i instanceof dr||i instanceof Dn||i instanceof Lt||i instanceof Mh||i instanceof pr)}function Rg(i,t,r){if(!Pg(r)||!Dm(r)){const o=mh(r);throw o==="an object"?t.wc(i+" a custom object"):t.wc(i+" "+o)}}function C1(i,t,r){if((t=Go(t))instanceof Vh)return t._internalPath;if(typeof t=="string")return kg(i,t);throw Xa("Field path arguments must be of type string or ",i,!1,void 0,r)}const P1=new RegExp("[~\\*/\\[\\]]");function kg(i,t,r){if(t.search(P1)>=0)throw Xa(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Vh(...t.split("."))._internalPath}catch{throw Xa(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Xa(i,t,r,o,a){const c=o&&!o.isEmpty(),p=a!==void 0;let v=`Function ${t}() called with invalid data`;r&&(v+=" (via `toFirestore()`)"),v+=". ";let m="";return(c||p)&&(m+=" (found",c&&(m+=` in field ${o}`),p&&(m+=` in document ${a}`),m+=")"),new ve(re.INVALID_ARGUMENT,v+i+m)}function R1(i,t){return i.some((r=>r.isEqual(t)))}class xg{constructor(t,r,o,a,c){this._firestore=t,this._userDataWriter=r,this._key=o,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new k1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Ng("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class k1 extends xg{data(){return super.data()}}function Ng(i,t){return typeof t=="string"?kg(i,t):t instanceof Vh?t._internalPath:t._delegate._internalPath}function x1(i,t,r){let o;return o=i?i.toFirestore(t):t,o}class ka{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xs extends xg{constructor(t,r,o,a,c,p){super(t,r,o,a,p),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Ma(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const o=this._document.data.field(Ng("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=xs._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",xs._jsonSchema={type:at("string",xs._jsonSchemaVersion),bundleSource:at("string","DocumentSnapshot"),bundleName:at("string"),bundle:at("string")};class Ma extends xs{data(t={}){return super.data(t)}}class Wo{constructor(t,r,o,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new ka(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((o=>{t.call(r,new Ma(this._firestore,this._userDataWriter,o.key,o,new ka(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ve(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let p=0;return a._snapshot.docChanges.map((v=>{const m=new Ma(a._firestore,a._userDataWriter,v.doc.key,v.doc,new ka(a._snapshot.mutatedKeys.has(v.doc.key),a._snapshot.fromCache),a.query.converter);return v.doc,{type:"added",doc:m,oldIndex:-1,newIndex:p++}}))}{let p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((v=>c||v.type!==3)).map((v=>{const m=new Ma(a._firestore,a._userDataWriter,v.doc.key,v.doc,new ka(a._snapshot.mutatedKeys.has(v.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,E=-1;return v.type!==0&&(y=p.indexOf(v.doc.key),p=p.delete(v.doc.key)),v.type!==1&&(p=p.add(v.doc),E=p.indexOf(v.doc.key)),{type:N1(v.type),doc:m,oldIndex:y,newIndex:E}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Wo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ph.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],o=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(r.push(c._document),o.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function N1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:i})}}Wo._jsonSchemaVersion="firestore/querySnapshot/1.0",Wo._jsonSchema={type:at("string",Wo._jsonSchemaVersion),bundleSource:at("string","QuerySnapshot"),bundleName:at("string"),bundle:at("string")};function D1(i,t){const r=Vm(i.firestore,Sg),o=y1(i),a=x1(i.converter,t);return V1(r,[A1(I1(i.firestore),"addDoc",o._key,a,i.converter!==null,{}).toMutation(o._key,fr.exists(!1))]).then((()=>o))}function V1(i,t){return(function(o,a){const c=new Ii;return o.asyncQueue.enqueueAndForget((async()=>s1(await p1(o),a,c))),c.promise})(_1(i),t)}function M1(){return new Lh("serverTimestamp")}(function(t,r=!0){(function(a){Us=a})(x_),ba(new Ko("firestore",((o,{instanceIdentifier:a,options:c})=>{const p=o.getProvider("app").getImmediate(),v=new Sg(new Q_(o.getProvider("auth-internal")),new K_(p,o.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(y.options.projectId,E)})(p,a),p);return c=Object.assign({useFetchStreams:r},c),v._setSettings(c),v}),"PUBLIC").setMultipleInstances(!0)),Rs(fp,dp,t),Rs(fp,dp,"esm2017")})();let Qo=null;function Dg(){const i=window.__FIREBASE__;if(!i)return null;try{const t=wm(i);return Qo={db:v1(t)},Qo}catch(t){return console.warn("Firebase init failed",t),null}}async function O1(i,t){if(Qo||Dg(),!Qo)return!1;try{const r=g1(Qo.db,"posicionamiento",i,"responses");return await D1(r,{...t,createdAt:M1()}),!0}catch(r){return console.warn("fb write failed",r),!1}}function L1(){const{project:i,setProject:t}=Fs(),r=js(i.lang),o=`posi_draft_${i.id}`,a=()=>{const F={};for(const j of i.brands)F[j.name]={};return F},c=()=>{const F={};for(const j of i.brands)F[j.name]=3;return F},[p,v]=Be.useState(()=>{try{const F=localStorage.getItem(o);if(F){const j=JSON.parse(F);if(j&&j.performance)return j.performance}}catch{}return a()}),[m,y]=Be.useState(()=>{try{const F=localStorage.getItem(o);if(F){const j=JSON.parse(F);if(j&&j.preference)return j.preference}}catch{}return c()});Be.useEffect(()=>{Dg()},[]),Be.useEffect(()=>{const F=setTimeout(()=>{localStorage.setItem(o,JSON.stringify({performance:p,preference:m,ts:Date.now()}))},250);return()=>clearTimeout(F)},[p,m]);const E=Be.useMemo(()=>window.location.origin+window.location.pathname+"#/survey",[]),T=(F,j,Y)=>{v(q=>({...q,[F]:{...q[F]||{},[j]:Y}}))},w=(F,j)=>{y(Y=>({...Y,[F]:j}))},k=async()=>{const F={importance:{},performance:p,preference:m,ts:Date.now()};await O1(i.id,F)||t({...i,responses:[...i.responses,F]}),localStorage.removeItem(o),alert("Gracias! / Thank you!"),v(a()),y(c())},L=i.lang==="es"?"En general, hasta qu punto preferiras esta marca? (15)":"Overall, how much would you prefer this brand? (15)";return $.jsxs("div",{className:"card",children:[$.jsx("h3",{children:r.survey}),$.jsxs("div",{className:"grid",children:[$.jsxs("div",{children:[$.jsx("h4",{children:r.performance}),i.brands.map(F=>$.jsxs("div",{style:{marginBottom:18},children:[$.jsx("strong",{children:F.name}),i.attributes.map(j=>{const Y=p[F.name]?.[j.id]??3;return $.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginTop:4},children:[$.jsx("small",{style:{width:220},children:i.lang==="es"?j.labelEs:j.labelEn}),$.jsx("input",{type:"range",min:1,max:5,step:1,value:Y,onChange:q=>T(F.name,j.id,parseInt(q.target.value))}),$.jsx("span",{style:{width:18,textAlign:"center"},children:Y})]},j.id)}),$.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginTop:8,paddingTop:6,borderTop:"1px dashed #ddd"},children:[$.jsx("small",{style:{width:220},children:L}),$.jsx("input",{type:"range",min:1,max:5,step:1,value:m[F.name]??3,onChange:j=>w(F.name,parseInt(j.target.value))}),$.jsx("span",{style:{width:18,textAlign:"center"},children:m[F.name]??3})]})]},F.name))]}),$.jsx("div",{children:$.jsxs("div",{className:"card",style:{display:"inline-block"},children:[$.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"QR"}),$.jsx(iv,{value:E,size:140}),$.jsx("div",{style:{fontSize:12,maxWidth:220,wordBreak:"break-all"},children:E})]})})]}),$.jsx("div",{style:{display:"flex",gap:12,marginTop:12},children:$.jsx("button",{className:"btn",onClick:k,children:r.submit})})]})}function F1(i){const t=i.length;if(t===0)return[];const r=Array.from({length:t},(B,X)=>Array.from({length:t},(J,C)=>i[X][C]*i[X][C])),o=new Array(t).fill(0),a=new Array(t).fill(0);let c=0;for(let B=0;B<t;B++)for(let X=0;X<t;X++)o[B]+=r[B][X],a[X]+=r[B][X],c+=r[B][X];for(let B=0;B<t;B++)o[B]/=t;for(let B=0;B<t;B++)a[B]/=t;c/=t*t;const p=Array.from({length:t},()=>new Array(t).fill(0));for(let B=0;B<t;B++)for(let X=0;X<t;X++)p[B][X]=-.5*(r[B][X]-o[B]-a[X]+c);const v=B=>{const X=new Array(t).fill(0);for(let J=0;J<t;J++){let C=0;for(let I=0;I<t;I++)C+=p[J][I]*B[I];X[J]=C}return X},m=B=>Math.sqrt(B.reduce((X,J)=>X+J*J,0)),y=(B=100)=>{let X=new Array(t).fill(1/Math.sqrt(t)),J=0;for(let C=0;C<B;C++){const I=v(X),A=m(I);if(A===0)break;X=I.map(x=>x/A),J=X.reduce((x,D,V)=>x+D*I[V],0)}return{lambda:J,vec:X}},{lambda:E,vec:T}=y(),w=Array.from({length:t},(B,X)=>Array.from({length:t},(J,C)=>p[X][C]-E*T[X]*T[C])),k=B=>{const X=new Array(t).fill(0);for(let J=0;J<t;J++){let C=0;for(let I=0;I<t;I++)C+=w[J][I]*B[I];X[J]=C}return X},L=(B=100)=>{let X=new Array(t).fill(1/Math.sqrt(t)),J=0;for(let C=0;C<B;C++){const I=k(X),A=m(I);if(A===0)break;X=I.map(x=>x/A),J=X.reduce((x,D,V)=>x+D*I[V],0)}return{lambda:J,vec:X}},{lambda:F,vec:j}=L(),Y=Array.from({length:t},()=>[0,0]),q=E>0?Math.sqrt(E):0,Q=F>0?Math.sqrt(F):0;for(let B=0;B<t;B++)Y[B][0]=T[B]*q,Y[B][1]=j[B]*Q;return Y}function j1(i,t,r){const o=t.length,a=i[0]?.length??0,c=Array.from({length:a},()=>[0,0]);if(a===0||o===0)return c;const p=.5,v=1.15,m=1,y=7,E=.7;let T=0,w=0,k=!1;r!==null&&r>=0&&r<o&&(T=t[r][0],w=t[r][1],k=!0);let L=0,F=0,j=0;for(let B=0;B<o;B++)k&&B===r||(L+=t[B][0],F+=t[B][1],j++);j>0&&(L/=j,F/=j);let Y=0,q=0;if(k){Y=T-L,q=w-F;const B=Math.sqrt(Y*Y+q*q)||1;Y/=B,q/=B}for(let B=0;B<a;B++){let X=0,J=0,C=0,I=0,A=0;for(let V=0;V<o;V++){const R=i[V][B],Pe=Math.max(R-1,1e-4),K=Math.pow(Pe,p);k&&V===r||(X+=K*t[V][0],J+=K*t[V][1],C+=K,I+=R,A++)}C>0&&(X/=C,J/=C);let x=0,D=0;if(k&&A>0){const V=I/A,Pe=i[r][B]-V;x=Y*Pe*m,D=q*Pe*m}c[B][0]=X*v+x,c[B][1]=J*v+D}const Q=3;for(let B=0;B<Q;B++)for(let X=0;X<a;X++)for(let J=X+1;J<a;J++){let C=c[J][0]-c[X][0],I=c[J][1]-c[X][1];const A=Math.sqrt(C*C+I*I)||1e-6;if(A<y){const x=(y-A)/y*E;C/=A,I/=A,c[X][0]-=C*x,c[X][1]-=I*x,c[J][0]+=C*x,c[J][1]+=I*x}}return c}function b1(i){const t=i.brands,r=i.attributes,o=t.length,a=r.length;if(o===0||a===0)return{brandCoords:[],attrCoords:[],idealIndex:null};let c=-1;i.benchmark&&(c=t.findIndex(q=>q.name.toUpperCase()===i.benchmark.toUpperCase())),c<0&&(c=t.findIndex(q=>q.name.toUpperCase().includes("IDEAL")));const p=[];for(let q=0;q<o;q++)p.push(q);const v=p.length,m=t.map(q=>r.map(Q=>{const B=i.responses.map(J=>J.performance[q.name]?.[Q.id]??3);return B.length===0?3:B.reduce((J,C)=>J+C,0)/B.length})),y=new Array(a).fill(0),E=new Array(a).fill(0);for(let q=0;q<a;q++){let Q=0;for(const C of p)Q+=m[C][q];const B=p.length||o;y[q]=Q/B;let X=0;for(const C of p){const I=m[C][q]-y[q];X+=I*I}const J=p.length||o;E[q]=Math.sqrt(X/J)||1}const T=m.map(q=>q.map((Q,B)=>(Q-y[B])/E[B])),w=Array.from({length:v},()=>new Array(v).fill(0));for(let q=0;q<v;q++){const Q=p[q];for(let B=q+1;B<v;B++){const X=p[B];let J=0;for(let I=0;I<a;I++){const A=T[Q][I]-T[X][I];J+=A*A}const C=Math.sqrt(J);w[q][B]=w[B][q]=C}}let k=Array.from({length:o},()=>[0,0]);if(v>=2){const q=F1(w);for(let Q=0;Q<v;Q++){const B=p[Q];k[B]=q[Q]??[0,0]}}const L=j1(m,k,c>=0?c:null);let F=1e-6;for(const[q,Q]of k){const B=Math.sqrt(q*q+Q*Q);B>F&&(F=B)}for(const[q,Q]of L){const B=Math.sqrt(q*q+Q*Q);B>F&&(F=B)}const j=k.map(([q,Q])=>[q/F,Q/F]),Y=L.map(([q,Q])=>[q/F,Q/F]);return{brandCoords:j,attrCoords:Y,idealIndex:c>=0?c:null}}const U1=()=>{const{project:i}=Fs();js(i.lang);const t=Be.useRef(null),[r,o]=Be.useState(null),[a,c]=Be.useState(1),[p,v]=Be.useState(!0),[m,y]=Be.useState(i.attributes.map(w=>w.id)),E=Be.useMemo(()=>b1(i),[i]);Be.useEffect(()=>{y(i.attributes.map(w=>w.id))},[i.attributes]),Be.useEffect(()=>{const w=t.current;if(!w)return;const k=w.getContext("2d");if(!k)return;const L=w.width,F=w.height,j=L/2,Y=F/2;k.clearRect(0,0,L,F),k.fillStyle="#ffffff",k.fillRect(0,0,L,F),k.strokeStyle="#eef2f7",k.lineWidth=1;for(let J=0;J<=L;J+=50)k.beginPath(),k.moveTo(J,0),k.lineTo(J,F),k.stroke();for(let J=0;J<=F;J+=50)k.beginPath(),k.moveTo(0,J),k.lineTo(L,J),k.stroke();k.strokeStyle="#C7D4E2",k.lineWidth=1.5,k.beginPath(),k.moveTo(0,Y),k.lineTo(L,Y),k.stroke(),k.beginPath(),k.moveTo(j,0),k.lineTo(j,F),k.stroke();const{brandCoords:q,attrCoords:Q,idealIndex:B}=E,X=Math.min(L,F)*.4*a;if(k.font="12px system-ui",i.brands.forEach((J,C)=>{const[I,A]=q[C]??[0,0],x=j+I*X,D=Y-A*X,V=r===C;k.beginPath(),k.fillStyle=V?"#ff7b00":J.color||"#0D1B2A",k.arc(x,D,V?7:5,0,Math.PI*2),k.fill(),k.fillStyle="#111",k.textAlign="left",k.textBaseline="bottom",k.fillText(J.name,x+8,D-4)}),p&&(k.font="11px system-ui",i.attributes.forEach((J,C)=>{const[I,A]=Q[C]??[0,0],x=j+I*X,D=Y-A*X;k.beginPath(),k.fillStyle="#2CAFBF",k.arc(x,D,4,0,Math.PI*2),k.fill(),k.fillStyle="#333",k.textAlign="left",k.textBaseline="top";const V=i.lang==="es"?J.labelEs:J.labelEn;k.fillText(V,x+6,D+2)})),r!==null&&r>=0&&r<i.brands.length){const[J,C]=q[r]??[0,0],I=j+J*X,A=Y-C*X;if(B!==null&&B>=0){const[x,D]=q[B]??[0,0],V=j+x*X,R=Y-D*X,Pe=J-x,K=C-D,ae=Math.sqrt(Pe*Pe+K*K);k.strokeStyle="#ff7b00",k.lineWidth=1.5,k.setLineDash([6,4]),k.beginPath(),k.moveTo(I,A),k.lineTo(V,R),k.stroke(),k.setLineDash([]),k.fillStyle="#ff7b00",k.font="11px system-ui",k.textAlign="center",k.textBaseline="bottom",k.fillText(`IDEAL: ${ae.toFixed(2)}`,(I+V)/2,(A+R)/2-4)}i.attributes.forEach((x,D)=>{if(!m.includes(x.id))return;const[V,R]=Q[D]??[0,0],Pe=j+V*X,K=Y-R*X,ae=J-V,ye=C-R,ee=Math.sqrt(ae*ae+ye*ye);k.strokeStyle="#999",k.lineWidth=1,k.beginPath(),k.moveTo(I,A),k.lineTo(Pe,K),k.stroke(),k.fillStyle="#555",k.font="10px system-ui",k.textAlign="center",k.textBaseline="top";const ue=`${i.lang==="es"?x.labelEs:x.labelEn}: ${ee.toFixed(2)}`;k.fillText(ue,(I+Pe)/2,(A+K)/2+2)})}},[i,E,r,a,p,m]),Be.useEffect(()=>{const w=t.current;if(!w)return;const k=F=>{const j=w.getBoundingClientRect(),Y=F.clientX-j.left,q=F.clientY-j.top,{brandCoords:Q}=E,B=w.width,X=w.height,J=B/2,C=X/2,I=Math.min(B,X)*.4*a;let A=-1;i.brands.forEach((x,D)=>{const[V,R]=Q[D]??[0,0],Pe=J+V*I,K=C-R*I,ae=Y-Pe,ye=q-K;Math.sqrt(ae*ae+ye*ye)<=10&&(A=D)}),o(A>=0?A:null)},L=()=>o(null);return w.addEventListener("mousemove",k),w.addEventListener("mouseleave",L),()=>{w.removeEventListener("mousemove",k),w.removeEventListener("mouseleave",L)}},[E,i.brands,a]);const T=w=>{y(k=>k.includes(w)?k.filter(L=>L!==w):[...k,w])};return $.jsxs("div",{className:"card",children:[$.jsx("h3",{children:i.lang==="es"?"Mapa de Posicionamiento":"Positioning Map"}),$.jsxs("div",{style:{display:"flex",gap:16},children:[$.jsxs("div",{children:[$.jsx("canvas",{ref:t,width:900,height:600,style:{borderRadius:8,border:"1px solid #dde3ee"}}),$.jsxs("div",{style:{marginTop:8,display:"flex",alignItems:"center",gap:8},children:[$.jsx("span",{style:{fontSize:12},children:"Zoom:"}),$.jsx("input",{type:"range",min:.5,max:2,step:.1,value:a,onChange:w=>c(parseFloat(w.target.value))}),$.jsxs("span",{style:{fontSize:12},children:["",a.toFixed(1)]})]}),$.jsx("div",{style:{marginTop:4,fontSize:11,color:"#666"},children:i.lang==="es"?"Pasa el ratn por las marcas para ver distancias a IDEAL y a los atributos seleccionados.":"Hover the brands to see distances to IDEAL and selected attributes."})]}),$.jsxs("div",{style:{minWidth:220},children:[$.jsx("div",{style:{marginBottom:8},children:$.jsxs("label",{style:{fontSize:13},children:[$.jsx("input",{type:"checkbox",checked:p,onChange:w=>v(w.target.checked),style:{marginRight:6}}),i.lang==="es"?"Mostrar atributos en el mapa":"Show attributes on map"]})}),$.jsx("div",{style:{marginBottom:4,fontSize:12,fontWeight:600},children:i.lang==="es"?"Atributos para las lneas de distancia:":"Attributes for distance lines:"}),$.jsx("div",{style:{border:"1px solid #dde3ee",borderRadius:8,padding:8,maxHeight:260,overflowY:"auto",fontSize:11},children:i.attributes.map(w=>$.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:4},children:[$.jsx("input",{type:"checkbox",checked:m.includes(w.id),onChange:()=>T(w.id)}),$.jsx("span",{children:i.lang==="es"?w.labelEs:w.labelEn})]},w.id))})]})]})]})};function B1(i){const t=i.brands.length,r=i.attributes.length,o=Array.from({length:t},()=>Array(r).fill(0)),a=Array.from({length:t},()=>Array(r).fill(0));for(const K of i.responses)for(let ae=0;ae<t;ae++){const ye=i.brands[ae].name,ee=K.performance?.[ye]||{};for(let ue=0;ue<r;ue++){const oe=i.attributes[ue],O=ee[oe.id];if(O!=null){let G=O;oe.reversed&&(G=6-G),o[ae][ue]+=G,a[ae][ue]+=1}}}const c=Array.from({length:t},()=>Array(r).fill(3));for(let K=0;K<t;K++)for(let ae=0;ae<r;ae++)c[K][ae]=a[K][ae]?o[K][ae]/a[K][ae]:3;const p=i.brands.findIndex(K=>K.name===i.benchmark||K.name.toUpperCase()==="IDEAL")??-1,v=[];for(let K=0;K<t;K++)K!==p&&v.push(K);const m=v.length?v:[...Array(t).keys()],y=m.length,E=r,T=new Array(E).fill(0),w=new Array(E).fill(0);for(let K=0;K<E;K++){let ae=0;for(const ye of m)ae+=c[ye][K];T[K]=ae/y}for(let K=0;K<E;K++){let ae=0;const ye=T[K];for(const ee of m){const ue=c[ee][K]-ye;ae+=ue*ue}w[K]=Math.sqrt(ae/Math.max(y-1,1))||1e-6}const k=Array.from({length:t},()=>Array(E).fill(0));for(let K=0;K<t;K++)for(let ae=0;ae<E;ae++)k[K][ae]=(c[K][ae]-T[ae])/w[ae];function L(K,ae){let ye=0;for(let ee=0;ee<K.length;ee++)ye+=K[ee]*ae[ee];return ye}function F(K,ae){const ye=K.length,ee=new Array(ye).fill(0);for(let ue=0;ue<ye;ue++){let oe=0;const O=K[ue];for(let G=0;G<O.length;G++)oe+=O[G]*ae[G];ee[ue]=oe}return ee}function j(K){return Math.sqrt(L(K,K))}function Y(K){const ae=K.length,ye=K.map(oe=>oe.slice()),ee=[],ue=[];for(let oe=0;oe<2;oe++){let O=Array.from({length:ae},(_e,Te)=>Te%2===0?1:-1);for(let _e=0;_e<80;_e++){const Te=F(ye,O),Ce=j(Te);if(Ce<1e-10)break;O=Te.map(Ie=>Ie/Ce)}const G=F(K,O),de=L(O,G);ee.push(O.slice()),ue.push(de);for(let _e=0;_e<ae;_e++)for(let Te=0;Te<ae;Te++)ye[_e][Te]-=de*O[_e]*O[Te]}return{vecs:ee,vals:ue}}const q=Array.from({length:E},()=>Array(E).fill(0));for(let K=0;K<E;K++)for(let ae=K;ae<E;ae++){let ye=0;for(const ue of m)ye+=k[ue][K]*k[ue][ae];const ee=ye/Math.max(y-1,1);q[K][ae]=ee,q[ae][K]=ee}const{vecs:Q}=Y(q),B=Array.from({length:E},()=>[0,0]);for(let K=0;K<E;K++)B[K][0]=Q[0][K],B[K][1]=Q[1][K];const X=Array.from({length:t},()=>[0,0]);for(let K=0;K<t;K++)for(let ae=0;ae<2;ae++){let ye=0;for(let ee=0;ee<E;ee++)ye+=k[K][ee]*B[ee][ae];X[K][ae]=ye}const J=Array.from({length:E},()=>[0,0]),C=m;let I=0,A=0;for(const K of C)I+=X[K][0],A+=X[K][1];I/=C.length,A/=C.length;const x=C.map(K=>X[K][0]-I),D=C.map(K=>X[K][1]-A);for(let K=0;K<E;K++){const ae=C.map(Ie=>(c[Ie][K]-T[K])/w[K]);let ye=0;for(const Ie of ae)ye+=Ie;ye/=ae.length;const ee=ae.map(Ie=>Ie-ye);let ue=0,oe=0,O=0,G=0,de=0;for(let Ie=0;Ie<ee.length;Ie++){const xe=x[Ie],je=D[Ie],nt=ee[Ie];ue+=xe*xe,oe+=je*je,O+=xe*je,G+=xe*nt,de+=je*nt}const _e=ue*oe-O*O;let Te=0,Ce=0;Math.abs(_e)>1e-8&&(Te=(G*oe-de*O)/_e,Ce=(de*ue-G*O)/_e),J[K][0]=Te,J[K][1]=Ce}let V=0;for(const K of X){const ae=Math.hypot(K[0],K[1]);ae>V&&(V=ae)}let R=0;for(const K of J){const ae=Math.hypot(K[0],K[1]);ae>R&&(R=ae)}const Pe=R>0?V*.9/R:1;for(const K of J)K[0]*=Pe,K[1]*=Pe;return{perf:c,brandCoords:X,attrCoords:J,idealIndex:p}}function z1(){const{project:i}=Fs(),t=js(i.lang),r=Be.useMemo(()=>B1(i),[i]),{perf:o,brandCoords:a,attrCoords:c,idealIndex:p}=r,v=[];if(p>=0){const[T,w]=a[p];for(let k=0;k<a.length;k++){const[L,F]=a[k];v[k]=Math.hypot(L-T,F-w)}}const m=c.map(T=>Math.hypot(T[0],T[1])),y=Be.useRef(null);Be.useEffect(()=>{const T=y.current;if(!T)return;const w=T.getContext("2d");if(!w)return;const k=T.width,L=T.height;w.clearRect(0,0,k,L),w.fillStyle="#ffffff",w.fillRect(0,0,k,L),w.strokeStyle="#eef2f7",w.lineWidth=1;for(let Q=0;Q<k;Q+=40)w.beginPath(),w.moveTo(Q,0),w.lineTo(Q,L),w.stroke();for(let Q=0;Q<L;Q+=40)w.beginPath(),w.moveTo(0,Q),w.lineTo(k,Q),w.stroke();const F=k/2,j=L/2;w.strokeStyle="#C7D4E2",w.beginPath(),w.moveTo(0,j),w.lineTo(k,j),w.stroke(),w.beginPath(),w.moveTo(F,0),w.lineTo(F,L),w.stroke();let Y=1e-6;[...a,...c].forEach(Q=>{const B=Math.hypot(Q[0],Q[1]);B>Y&&(Y=B)});const q=Math.min(k,L)/2.6/Y*.9;w.font="11px system-ui, -apple-system, BlinkMacSystemFont, Arial",w.textBaseline="bottom",i.brands.forEach((Q,B)=>{const[X,J]=a[B],C=F+X*q,I=j-J*q,A=B===p;w.fillStyle=A?"#0080ff":"#111827",w.beginPath(),w.arc(C,I,A?5:4,0,Math.PI*2),w.fill(),w.fillText(Q.name,C+5,I-4)});for(let Q=0;Q<i.attributes.length;Q++){const[B,X]=c[Q],J=F+B*q,C=j-X*q;w.fillStyle="#0EA5E9",w.beginPath(),w.arc(J,C,3,0,Math.PI*2),w.fill();const I=i.lang==="es"?i.attributes[Q].labelEs:i.attributes[Q].labelEn;w.fillText(I,J+4,C-2)}},[i,a,c,p]);function E(){window.print()}return $.jsxs("div",{className:"card",children:[$.jsxs("div",{className:"print-hide",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[$.jsx("h3",{children:t.results}),$.jsx("button",{className:"btn",onClick:E,children:"Imprimir / PDF"})]}),$.jsxs("div",{className:"grid",children:[$.jsxs("div",{children:[$.jsx("h4",{children:"Medias de performance"}),$.jsxs("table",{children:[$.jsx("thead",{children:$.jsxs("tr",{children:[$.jsx("th",{children:t.brand}),i.attributes.map(T=>$.jsx("th",{children:i.lang==="es"?T.labelEs:T.labelEn},T.id))]})}),$.jsx("tbody",{children:i.brands.map((T,w)=>$.jsxs("tr",{children:[$.jsx("td",{children:T.name}),o[w].map((k,L)=>$.jsx("td",{children:k.toFixed(2)},L))]},T.name))})]})]}),$.jsxs("div",{children:[$.jsx("h4",{children:t.distToIdeal}),$.jsxs("table",{children:[$.jsx("thead",{children:$.jsxs("tr",{children:[$.jsx("th",{children:t.brand}),$.jsx("th",{children:"dist"})]})}),$.jsx("tbody",{children:i.brands.map((T,w)=>$.jsxs("tr",{children:[$.jsx("td",{children:T.name}),$.jsx("td",{children:p>=0?v[w].toFixed(3):"-"})]},T.name))})]}),$.jsx("h4",{style:{marginTop:16},children:"Sensibilidad de atributos"}),$.jsxs("table",{children:[$.jsx("thead",{children:$.jsxs("tr",{children:[$.jsx("th",{children:t.attribute}),$.jsx("th",{children:"|vector|"})]})}),$.jsx("tbody",{children:i.attributes.map((T,w)=>$.jsxs("tr",{children:[$.jsx("td",{children:i.lang==="es"?T.labelEs:T.labelEn}),$.jsx("td",{children:m[w].toFixed(3)})]},T.id))})]})]})]}),$.jsxs("div",{style:{marginTop:20},children:[$.jsx("h4",{children:"Mapa 2D (resumen)"}),$.jsx("canvas",{ref:y,width:900,height:350,style:{borderRadius:12,border:"1px solid #dde3ee"}})]})]})}function $1(){return $.jsx(Qy,{children:$.jsx(H1,{})})}function H1(){const[i,t]=Be.useState("home"),{project:r,setProject:o}=Fs(),a=js(r.lang);return $.jsxs($.Fragment,{children:[$.jsx("header",{children:$.jsxs("div",{className:"container",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[$.jsxs("div",{className:"app-logo",children:[$.jsxs("div",{className:"logo-wordmark",children:[$.jsx("span",{className:"logo-main",children:"POSICIONA"}),$.jsx("span",{className:"logo-dot"}),$.jsx("span",{className:"logo-tail",children:"MIENTO"})]}),$.jsx("div",{className:"logo-subtitle",children:"Perceptual Mapping Lab"})]}),$.jsxs("div",{className:"print-hide",style:{display:"flex",gap:8,alignItems:"center"},children:[$.jsxs("span",{className:"hint",children:[a.language,":"]}),$.jsxs("select",{value:r.lang,onChange:c=>o({...r,lang:c.target.value}),children:[$.jsx("option",{value:"es",children:a.es}),$.jsx("option",{value:"en",children:a.en})]}),$.jsx("button",{className:"btn",onClick:()=>qy(r),children:a.export}),$.jsxs("label",{className:"btn",children:[$.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:c=>{const p=c.target.files?.[0];p&&Gy(p,o)}}),a.import]})]})]})}),$.jsxs("div",{className:"container",children:[$.jsxs("div",{className:"grid print-hide",children:[$.jsx("button",{className:"btn",onClick:()=>t("home"),children:"Home"}),$.jsx("button",{className:"btn",onClick:()=>t("designer"),children:a.designer}),$.jsx("button",{className:"btn",onClick:()=>t("survey"),children:a.survey}),$.jsx("button",{className:"btn",onClick:()=>t("map2d"),children:a.map2d}),$.jsx("button",{className:"btn",onClick:()=>t("results"),children:a.results})]}),i==="home"&&$.jsx(Yy,{}),i==="designer"&&$.jsx(Jy,{}),i==="survey"&&$.jsx(L1,{}),i==="map2d"&&$.jsx(U1,{}),i==="results"&&$.jsx(z1,{})]})]})}Wy.createRoot(document.getElementById("root")).render($.jsx(Vt.StrictMode,{children:$.jsx($1,{})}));
